[
  {
    "id": "why-hostkit-0",
    "title": "Why HostKit?",
    "content": "AI coding agents can write code, but they can't deploy it. HostKit bridges that gap. It gives agents a set of MCP tools to manage a real Linux server -- creating projects, enabling services, deploying code, running database queries, and diagnosing issues -- all without manual SSH.\n\n**One VPS. One agent. Full-stack production apps.**\n\n- No Docker, no Kubernetes, no YAML pipelines\n- Each project gets its own Linux user, systemd service, subdomain, and SSL\n- Services (auth, payments, SMS, storage) are one command away\n- Agents share solutions across projects so problems are solved once",
    "section": "Why HostKit?",
    "chunkType": "command",
    "tokens": [
      "why",
      "hostkit",
      "coding",
      "agents",
      "can",
      "write",
      "code",
      "but",
      "they",
      "can",
      "deploy",
      "hostkit",
      "bridges",
      "that",
      "gap",
      "gives",
      "agents",
      "set",
      "mcp",
      "tools",
      "manage",
      "real",
      "linux",
      "server",
      "creating",
      "projects",
      "enabling",
      "services",
      "deploying",
      "code",
      "running",
      "database",
      "queries",
      "and",
      "diagnosing",
      "issues",
      "all",
      "without",
      "manual",
      "ssh",
      "one",
      "vps",
      "one",
      "agent",
      "full",
      "stack",
      "production",
      "apps",
      "docker",
      "kubernetes",
      "yaml",
      "pipelines",
      "each",
      "project",
      "gets",
      "its",
      "own",
      "linux",
      "user",
      "systemd",
      "service",
      "subdomain",
      "and",
      "ssl",
      "services",
      "auth",
      "payments",
      "sms",
      "storage",
      "are",
      "one",
      "command",
      "away",
      "agents",
      "share",
      "solutions",
      "across",
      "projects",
      "problems",
      "are",
      "solved",
      "once"
    ],
    "source": "README.md"
  },
  {
    "id": "architecture-1",
    "title": "Architecture",
    "content": "```\n┌─────────────────────┐     stdio      ┌─────────────────────┐     SSH      ┌─────────────────┐\n│                     │ ◄────────────► │                     │ ◄──────────► │                 │\n│   Claude Code /     │                │   MCP Server        │              │   VPS           │\n│   OpenClaw Agent    │                │   (hostkit-context)  │              │   (hostkit CLI)  │\n│                     │                │                     │              │                 │\n│  Reads CLAUDE.md    │                │  15 tools:          │              │  Python CLI     │\n│  Uses MCP tools     │                │  search, state,     │              │  systemd, nginx │\n│  Builds & deploys   │                │  execute, deploy,   │              │  PostgreSQL     │\n│                     │                │  db, auth, ...      │              │  Redis, MinIO   │\n└─────────────────────┘                └─────────────────────┘              └─────────────────┘\n       Your machine                          Your machine                      Remote server\n```",
    "section": "Architecture",
    "chunkType": "command",
    "tokens": [
      "architecture",
      "stdio",
      "ssh",
      "claude",
      "code",
      "mcp",
      "server",
      "vps",
      "openclaw",
      "agent",
      "hostkit",
      "context",
      "hostkit",
      "cli",
      "reads",
      "claude",
      "tools",
      "python",
      "cli",
      "uses",
      "mcp",
      "tools",
      "search",
      "state",
      "systemd",
      "nginx",
      "builds",
      "deploys",
      "execute",
      "deploy",
      "postgresql",
      "auth",
      "redis",
      "minio",
      "your",
      "machine",
      "your",
      "machine",
      "remote",
      "server"
    ],
    "source": "README.md"
  },
  {
    "id": "packages-2",
    "title": "Packages",
    "content": "| Package | Path | Description |\n|---------|------|-------------|\n| **CLI** | [`packages/cli`](packages/cli/) | Python CLI installed on the VPS. Manages projects, databases, services, deployments, backups, and more. |\n| **MCP Server** | [`packages/mcp-server`](packages/mcp-server/) | TypeScript MCP server that runs locally. Gives AI agents 15 tools for managing the VPS over SSH. |\n| **Agent Template** | [`packages/agent`](packages/agent/) | Starter `CLAUDE.md` and permissions config for new projects. |",
    "section": "Packages",
    "chunkType": "concept",
    "tokens": [
      "packages",
      "package",
      "path",
      "description",
      "cli",
      "packages",
      "cli",
      "packages",
      "cli",
      "python",
      "cli",
      "installed",
      "the",
      "vps",
      "manages",
      "projects",
      "databases",
      "services",
      "deployments",
      "backups",
      "and",
      "more",
      "mcp",
      "server",
      "packages",
      "mcp",
      "server",
      "packages",
      "mcp",
      "server",
      "typescript",
      "mcp",
      "server",
      "that",
      "runs",
      "locally",
      "gives",
      "agents",
      "tools",
      "for",
      "managing",
      "the",
      "vps",
      "over",
      "ssh",
      "agent",
      "template",
      "packages",
      "agent",
      "packages",
      "agent",
      "starter",
      "claude",
      "and",
      "permissions",
      "config",
      "for",
      "new",
      "projects"
    ],
    "source": "README.md"
  },
  {
    "id": "prerequisites-3",
    "title": "Prerequisites",
    "content": "| Requirement | Why |\n|-------------|-----|\n| **Ubuntu 22.04+ VPS** (2+ GB RAM) | Hetzner, DigitalOcean, Vultr, Linode all work |\n| **Domain name on Cloudflare** | HostKit uses wildcard subdomains (`*.yourdomain.com`) so each project automatically gets `project.yourdomain.com`. This requires Cloudflare DNS with a wildcard A record pointing to your VPS. |\n| **Node.js 20+** (local machine) | Runs the MCP server |",
    "section": "Prerequisites",
    "chunkType": "command",
    "tokens": [
      "prerequisites",
      "requirement",
      "why",
      "ubuntu",
      "vps",
      "ram",
      "hetzner",
      "digitalocean",
      "vultr",
      "linode",
      "all",
      "work",
      "domain",
      "name",
      "cloudflare",
      "hostkit",
      "uses",
      "wildcard",
      "subdomains",
      "yourdomain",
      "com",
      "each",
      "project",
      "automatically",
      "gets",
      "project",
      "yourdomain",
      "com",
      "this",
      "requires",
      "cloudflare",
      "dns",
      "with",
      "wildcard",
      "record",
      "pointing",
      "your",
      "vps",
      "node",
      "local",
      "machine",
      "runs",
      "the",
      "mcp",
      "server"
    ],
    "source": "README.md"
  },
  {
    "id": "cloudflare-dns-setup-4",
    "title": "Cloudflare DNS setup",
    "content": "HostKit's automatic subdomain routing requires a wildcard DNS record managed by Cloudflare:\n\n1. Add your domain to [Cloudflare](https://dash.cloudflare.com/) (free plan works)\n2. Create a wildcard A record: `*.yourdomain.com → YOUR_VPS_IP` (proxied or DNS-only)\n3. Create a root A record: `yourdomain.com → YOUR_VPS_IP`\n4. Set the `domain` field in `/etc/hostkit/config.yaml` to your domain after bootstrap\n\nWithout Cloudflare, you can still use HostKit — but you'll need to manually configure DNS for each project instead of getting automatic `project.yourdomain.com` subdomains.",
    "section": "Prerequisites",
    "chunkType": "command",
    "tokens": [
      "cloudflare",
      "dns",
      "setup",
      "hostkit",
      "automatic",
      "subdomain",
      "routing",
      "requires",
      "wildcard",
      "dns",
      "record",
      "managed",
      "cloudflare",
      "add",
      "your",
      "domain",
      "cloudflare",
      "https",
      "dash",
      "cloudflare",
      "com",
      "free",
      "plan",
      "works",
      "create",
      "wildcard",
      "record",
      "yourdomain",
      "com",
      "your",
      "vps",
      "proxied",
      "dns",
      "only",
      "create",
      "root",
      "record",
      "yourdomain",
      "com",
      "your",
      "vps",
      "set",
      "the",
      "domain",
      "field",
      "etc",
      "hostkit",
      "config",
      "yaml",
      "your",
      "domain",
      "after",
      "bootstrap",
      "without",
      "cloudflare",
      "you",
      "can",
      "still",
      "use",
      "hostkit",
      "but",
      "you",
      "need",
      "manually",
      "configure",
      "dns",
      "for",
      "each",
      "project",
      "instead",
      "getting",
      "automatic",
      "project",
      "yourdomain",
      "com",
      "subdomains"
    ],
    "source": "README.md"
  },
  {
    "id": "2-bootstrap-the-vps-5",
    "title": "2. Bootstrap the VPS",
    "content": "```bash\n# SSH in and run the bootstrap script\nssh root@YOUR_VPS_IP\ncurl -fsSL https://raw.githubusercontent.com/hostkit-platform/hostkit/main/install/bootstrap.sh | bash\n```\n\nOr use the [cloud-init config](install/cloud-init.yaml) when creating the VPS for a hands-off setup.",
    "section": "Quick Start",
    "chunkType": "command",
    "tokens": [
      "bootstrap",
      "the",
      "vps",
      "bash",
      "ssh",
      "and",
      "run",
      "the",
      "bootstrap",
      "script",
      "ssh",
      "root",
      "your",
      "vps",
      "curl",
      "fssl",
      "https",
      "raw",
      "githubusercontent",
      "com",
      "hostkit",
      "platform",
      "hostkit",
      "main",
      "install",
      "bootstrap",
      "bash",
      "use",
      "the",
      "cloud",
      "init",
      "config",
      "install",
      "cloud",
      "init",
      "yaml",
      "when",
      "creating",
      "the",
      "vps",
      "for",
      "hands",
      "off",
      "setup"
    ],
    "source": "README.md"
  },
  {
    "id": "3-set-up-your-local-machine-6",
    "title": "3. Set up your local machine",
    "content": "```bash\n# Run from your local machine\nbash install/setup-local.sh --vps-ip YOUR_VPS_IP\n```\n\nThis installs the MCP server, copies your SSH key, and sets up the agent template.",
    "section": "Quick Start",
    "chunkType": "command",
    "tokens": [
      "set",
      "your",
      "local",
      "machine",
      "bash",
      "run",
      "from",
      "your",
      "local",
      "machine",
      "bash",
      "install",
      "setup",
      "local",
      "vps",
      "your",
      "vps",
      "this",
      "installs",
      "the",
      "mcp",
      "server",
      "copies",
      "your",
      "ssh",
      "key",
      "and",
      "sets",
      "the",
      "agent",
      "template"
    ],
    "source": "README.md"
  },
  {
    "id": "4-configure-claude-code-7",
    "title": "4. Configure Claude Code",
    "content": "Add the MCP server to your Claude Code config (`.claude.json` or project MCP settings):\n\n```json\n{\n  \"mcpServers\": {\n    \"hostkit-context\": {\n      \"command\": \"node\",\n      \"args\": [\"/path/to/hostkit/packages/mcp-server/dist/index.js\"]\n    }\n  }\n}\n```",
    "section": "Quick Start",
    "chunkType": "example",
    "tokens": [
      "configure",
      "claude",
      "code",
      "add",
      "the",
      "mcp",
      "server",
      "your",
      "claude",
      "code",
      "config",
      "claude",
      "json",
      "project",
      "mcp",
      "settings",
      "json",
      "mcpservers",
      "hostkit",
      "context",
      "command",
      "node",
      "args",
      "path",
      "hostkit",
      "packages",
      "mcp",
      "server",
      "dist",
      "index"
    ],
    "source": "README.md"
  },
  {
    "id": "5-build-something-8",
    "title": "5. Build something",
    "content": "```bash\nclaude\n# \"Create a new Python project called myapp with auth and a database\"\n```\n\nThe agent uses MCP tools to create the project, enable services, deploy code, and verify health -- all without manual SSH.",
    "section": "Quick Start",
    "chunkType": "command",
    "tokens": [
      "build",
      "something",
      "bash",
      "claude",
      "create",
      "new",
      "python",
      "project",
      "called",
      "myapp",
      "with",
      "auth",
      "and",
      "database",
      "the",
      "agent",
      "uses",
      "mcp",
      "tools",
      "create",
      "the",
      "project",
      "enable",
      "services",
      "deploy",
      "code",
      "and",
      "verify",
      "health",
      "all",
      "without",
      "manual",
      "ssh"
    ],
    "source": "README.md"
  },
  {
    "id": "what-agents-can-do-9",
    "title": "What agents can do",
    "content": "Through the MCP server, agents have access to:\n\n- **Project lifecycle** -- create, deploy, rollback, health check\n- **Services** -- auth (OAuth + magic links), payments (Stripe), SMS (Twilio), chatbot (Claude/GPT), voice, booking\n- **Infrastructure** -- PostgreSQL, Redis, MinIO object storage, R2 backups, nginx, SSL\n- **Operations** -- environment variables, logs, database queries, schema inspection, diagnostics\n- **Knowledge** -- semantic search over docs, cross-project solution sharing\n\nEach project is isolated as a Linux user with its own systemd service, port allocation, and `{project}.hostkit.dev` subdomain with automatic SSL.",
    "section": "What agents can do",
    "chunkType": "concept",
    "tokens": [
      "what",
      "agents",
      "can",
      "through",
      "the",
      "mcp",
      "server",
      "agents",
      "have",
      "access",
      "project",
      "lifecycle",
      "create",
      "deploy",
      "rollback",
      "health",
      "check",
      "services",
      "auth",
      "oauth",
      "magic",
      "links",
      "payments",
      "stripe",
      "sms",
      "twilio",
      "chatbot",
      "claude",
      "gpt",
      "voice",
      "booking",
      "infrastructure",
      "postgresql",
      "redis",
      "minio",
      "object",
      "storage",
      "backups",
      "nginx",
      "ssl",
      "operations",
      "environment",
      "variables",
      "logs",
      "database",
      "queries",
      "schema",
      "inspection",
      "diagnostics",
      "knowledge",
      "semantic",
      "search",
      "over",
      "docs",
      "cross",
      "project",
      "solution",
      "sharing",
      "each",
      "project",
      "isolated",
      "linux",
      "user",
      "with",
      "its",
      "own",
      "systemd",
      "service",
      "port",
      "allocation",
      "and",
      "project",
      "hostkit",
      "dev",
      "subdomain",
      "with",
      "automatic",
      "ssl"
    ],
    "source": "README.md"
  },
  {
    "id": "works-with-10",
    "title": "Works with",
    "content": "- **[Claude Code](https://docs.anthropic.com/en/docs/claude-code)** -- native MCP support via stdio\n- **[OpenClaw](https://github.com/openclaw)** -- connect via [MCPorter](https://github.com/openclaw/mcporter) to bridge MCP tools",
    "section": "Works with",
    "chunkType": "concept",
    "tokens": [
      "works",
      "with",
      "claude",
      "code",
      "https",
      "docs",
      "anthropic",
      "com",
      "docs",
      "claude",
      "code",
      "native",
      "mcp",
      "support",
      "via",
      "stdio",
      "openclaw",
      "https",
      "github",
      "com",
      "openclaw",
      "connect",
      "via",
      "mcporter",
      "https",
      "github",
      "com",
      "openclaw",
      "mcporter",
      "bridge",
      "mcp",
      "tools"
    ],
    "source": "README.md"
  },
  {
    "id": "install-scripts-11",
    "title": "Install scripts",
    "content": "| Script | Runs on | Purpose |\n|--------|---------|---------|\n| [`install/bootstrap.sh`](install/bootstrap.sh) | VPS | Full server setup (packages, users, PostgreSQL, Redis, nginx, firewall) |\n| [`install/setup-local.sh`](install/setup-local.sh) | Local machine | SSH keys, MCP server install, agent template |\n| [`install/cloud-init.yaml`](install/cloud-init.yaml) | VPS (at creation) | Unattended bootstrap via cloud provider user-data |",
    "section": "Install scripts",
    "chunkType": "concept",
    "tokens": [
      "install",
      "scripts",
      "script",
      "runs",
      "purpose",
      "install",
      "bootstrap",
      "install",
      "bootstrap",
      "vps",
      "full",
      "server",
      "setup",
      "packages",
      "users",
      "postgresql",
      "redis",
      "nginx",
      "firewall",
      "install",
      "setup",
      "local",
      "install",
      "setup",
      "local",
      "local",
      "machine",
      "ssh",
      "keys",
      "mcp",
      "server",
      "install",
      "agent",
      "template",
      "install",
      "cloud",
      "init",
      "yaml",
      "install",
      "cloud",
      "init",
      "yaml",
      "vps",
      "creation",
      "unattended",
      "bootstrap",
      "via",
      "cloud",
      "provider",
      "user",
      "data"
    ],
    "source": "README.md"
  },
  {
    "id": "table-of-contents-0",
    "title": "Table of Contents",
    "content": "- [Project Lifecycle](#project-lifecycle) — project, provision, validate, capabilities, status\n- [Deployment](#deployment) — deploy, rollback, deploys, resume\n- [Services](#services) — service, auth, payments, sms, voice, booking, chatbot, claude\n- [Database](#database) — db, migrate, checkpoint, query\n- [Environment & Secrets](#environment--secrets) — env, secrets, environment\n- [Networking](#networking) — nginx, ssl, dns, ratelimit\n- [Monitoring & Diagnostics](#monitoring--diagnostics) — health, diagnose, log, metrics, alert, events\n- [Storage](#storage) — storage/minio, backup, r2, vector, image\n- [Background Jobs](#background-jobs) — worker, cron\n- [Access & Security](#access--security) — ssh, permissions, operator, limits, sandbox, exec\n- [Utilities](#utilities) — git, docs, mail, redis, autopause\n\n---",
    "section": "Table of Contents",
    "chunkType": "concept",
    "tokens": [
      "table",
      "contents",
      "project",
      "lifecycle",
      "project",
      "lifecycle",
      "project",
      "provision",
      "validate",
      "capabilities",
      "status",
      "deployment",
      "deployment",
      "deploy",
      "rollback",
      "deploys",
      "resume",
      "services",
      "services",
      "service",
      "auth",
      "payments",
      "sms",
      "voice",
      "booking",
      "chatbot",
      "claude",
      "database",
      "database",
      "migrate",
      "checkpoint",
      "query",
      "environment",
      "secrets",
      "environment",
      "secrets",
      "env",
      "secrets",
      "environment",
      "networking",
      "networking",
      "nginx",
      "ssl",
      "dns",
      "ratelimit",
      "monitoring",
      "diagnostics",
      "monitoring",
      "diagnostics",
      "health",
      "diagnose",
      "log",
      "metrics",
      "alert",
      "events",
      "storage",
      "storage",
      "storage",
      "minio",
      "backup",
      "vector",
      "image",
      "background",
      "jobs",
      "background",
      "jobs",
      "worker",
      "cron",
      "access",
      "security",
      "access",
      "security",
      "ssh",
      "permissions",
      "operator",
      "limits",
      "sandbox",
      "exec",
      "utilities",
      "utilities",
      "git",
      "docs",
      "mail",
      "redis",
      "autopause"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "project-1",
    "title": "project",
    "content": "Manage HostKit projects. Each project is an isolated environment with its own Linux user, home directory, systemd service, and assigned port.\n\n```bash\nhostkit project create <name> [--python|--node|--nextjs|--static] [--with-db] [--with-auth] ...\nhostkit project list\nhostkit project info <name>\nhostkit project start <name>\nhostkit project stop <name>\nhostkit project restart <name>\nhostkit project delete <name> --force\nhostkit project regenerate-sudoers [<name>|--all]\n```\n\n#### create\n\n| Flag | Description |\n|------|-------------|\n| `--python` | Python runtime (default) |\n| `--node` | Node.js runtime |\n| `--nextjs` | Next.js runtime (standalone output) |\n| `--static` | Static site (Nginx serves directly) |\n| `-d, --description TEXT` | Project description |\n| `--start-cmd TEXT` | Custom start command (overrides runtime default) |\n| `--with-db` | Create PostgreSQL database |\n| `--with-storage` | Create MinIO storage bucket |\n| `--with-auth` | Enable authentication service |\n| `--with-payments` | Enable Stripe payments service |\n| `--with-sms` | Enable SMS service |\n| `--with-mail` | Enable mail service |\n| `--with-booking` | Enable booking/scheduling service |\n| `--with-chatbot` | Enable AI chatbot service |\n| `--with-r2` | Enable Cloudflare R2 storage |\n| `--with-vector` | Enable vector/RAG service |\n| `--google-client-id TEXT` | Google OAuth client ID (requires `--with-auth`) |\n| `--google-client-secret TEXT` | Google OAuth client secret (requires `--with-auth`) |\n\n```bash\n# Python project with database and auth\nhostkit project create myapp --python --with-db --with-auth\n\n# Next.js project with storage\nhostkit project create frontend --nextjs --with-storage\n\n# Static site\nhostkit project create landing --static\n```\n\n#### delete\n\nStops the service, removes the Linux user and home directory, and deletes the PostgreSQL database if one exists. Requires `--force`.\n\n```bash\nhostkit project delete myapp --force\n```\n\n---",
    "section": "Project Lifecycle",
    "chunkType": "command",
    "tokens": [
      "project",
      "manage",
      "hostkit",
      "projects",
      "each",
      "project",
      "isolated",
      "environment",
      "with",
      "its",
      "own",
      "linux",
      "user",
      "home",
      "directory",
      "systemd",
      "service",
      "and",
      "assigned",
      "port",
      "bash",
      "hostkit",
      "project",
      "create",
      "name",
      "python",
      "node",
      "nextjs",
      "static",
      "with",
      "with",
      "auth",
      "hostkit",
      "project",
      "list",
      "hostkit",
      "project",
      "info",
      "name",
      "hostkit",
      "project",
      "start",
      "name",
      "hostkit",
      "project",
      "stop",
      "name",
      "hostkit",
      "project",
      "restart",
      "name",
      "hostkit",
      "project",
      "delete",
      "name",
      "force",
      "hostkit",
      "project",
      "regenerate",
      "sudoers",
      "name",
      "all",
      "create",
      "flag",
      "description",
      "python",
      "python",
      "runtime",
      "default",
      "node",
      "node",
      "runtime",
      "nextjs",
      "next",
      "runtime",
      "standalone",
      "output",
      "static",
      "static",
      "site",
      "nginx",
      "serves",
      "directly",
      "description",
      "text",
      "project",
      "description",
      "start",
      "cmd",
      "text",
      "custom",
      "start",
      "command",
      "overrides",
      "runtime",
      "default",
      "with",
      "create",
      "postgresql",
      "database",
      "with",
      "storage",
      "create",
      "minio",
      "storage",
      "bucket",
      "with",
      "auth",
      "enable",
      "authentication",
      "service",
      "with",
      "payments",
      "enable",
      "stripe",
      "payments",
      "service",
      "with",
      "sms",
      "enable",
      "sms",
      "service",
      "with",
      "mail",
      "enable",
      "mail",
      "service",
      "with",
      "booking",
      "enable",
      "booking",
      "scheduling",
      "service",
      "with",
      "chatbot",
      "enable",
      "chatbot",
      "service",
      "with",
      "enable",
      "cloudflare",
      "storage",
      "with",
      "vector",
      "enable",
      "vector",
      "rag",
      "service",
      "google",
      "client",
      "text",
      "google",
      "oauth",
      "client",
      "requires",
      "with",
      "auth",
      "google",
      "client",
      "secret",
      "text",
      "google",
      "oauth",
      "client",
      "secret",
      "requires",
      "with",
      "auth",
      "bash",
      "python",
      "project",
      "with",
      "database",
      "and",
      "auth",
      "hostkit",
      "project",
      "create",
      "myapp",
      "python",
      "with",
      "with",
      "auth",
      "next",
      "project",
      "with",
      "storage",
      "hostkit",
      "project",
      "create",
      "frontend",
      "nextjs",
      "with",
      "storage",
      "static",
      "site",
      "hostkit",
      "project",
      "create",
      "landing",
      "static",
      "delete",
      "stops",
      "the",
      "service",
      "removes",
      "the",
      "linux",
      "user",
      "and",
      "home",
      "directory",
      "and",
      "deletes",
      "the",
      "postgresql",
      "database",
      "one",
      "exists",
      "requires",
      "force",
      "bash",
      "hostkit",
      "project",
      "delete",
      "myapp",
      "force"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "provision-2",
    "title": "provision",
    "content": "Provision a complete project with all supporting services in one command. Creates project, database, auth, domain, SSL, and initial deployment.\n\n```bash\nhostkit provision <name> [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `--runtime TEXT` | Runtime (python, node, nextjs, static). Default: python |\n| `--with-db` | Create PostgreSQL database |\n| `--with-auth` | Enable authentication service |\n| `--with-secrets` | Inject secrets from vault into .env |\n| `--ssh-key TEXT` | SSH public key for project user (repeatable) |\n| `--github-user TEXT` | GitHub username to fetch SSH keys from (repeatable) |\n| `--domain TEXT` | Domain name to configure in Nginx |\n| `--dev-domain` | Use nip.io development domain |\n| `--ssl` | Provision SSL certificate (requires `--domain`) |\n| `--ssl-email TEXT` | Admin email for Let's Encrypt registration |\n| `--source PATH` | Source directory to deploy |\n| `--no-install` | Skip dependency installation |\n| `--no-start` | Don't start service after provisioning |\n\n```bash\nhostkit provision myapp --runtime python --with-db --with-auth --domain myapp.example.com --ssl\n```\n\n---",
    "section": "Project Lifecycle",
    "chunkType": "command",
    "tokens": [
      "provision",
      "provision",
      "complete",
      "project",
      "with",
      "all",
      "supporting",
      "services",
      "one",
      "command",
      "creates",
      "project",
      "database",
      "auth",
      "domain",
      "ssl",
      "and",
      "initial",
      "deployment",
      "bash",
      "hostkit",
      "provision",
      "name",
      "options",
      "flag",
      "description",
      "runtime",
      "text",
      "runtime",
      "python",
      "node",
      "nextjs",
      "static",
      "default",
      "python",
      "with",
      "create",
      "postgresql",
      "database",
      "with",
      "auth",
      "enable",
      "authentication",
      "service",
      "with",
      "secrets",
      "inject",
      "secrets",
      "from",
      "vault",
      "into",
      "env",
      "ssh",
      "key",
      "text",
      "ssh",
      "public",
      "key",
      "for",
      "project",
      "user",
      "repeatable",
      "github",
      "user",
      "text",
      "github",
      "username",
      "fetch",
      "ssh",
      "keys",
      "from",
      "repeatable",
      "domain",
      "text",
      "domain",
      "name",
      "configure",
      "nginx",
      "dev",
      "domain",
      "use",
      "nip",
      "development",
      "domain",
      "ssl",
      "provision",
      "ssl",
      "certificate",
      "requires",
      "domain",
      "ssl",
      "email",
      "text",
      "admin",
      "email",
      "for",
      "let",
      "encrypt",
      "registration",
      "source",
      "path",
      "source",
      "directory",
      "deploy",
      "install",
      "skip",
      "dependency",
      "installation",
      "start",
      "don",
      "start",
      "service",
      "after",
      "provisioning",
      "bash",
      "hostkit",
      "provision",
      "myapp",
      "runtime",
      "python",
      "with",
      "with",
      "auth",
      "domain",
      "myapp",
      "example",
      "com",
      "ssl"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "validate-3",
    "title": "validate",
    "content": "Run pre-flight checks on a project before deployment. Checks entrypoint, dependencies, environment variables, database connectivity, port conflicts, and service status.\n\n```bash\nhostkit validate <project>\n```\n\n| Flag | Description |\n|------|-------------|\n| `--fix` | Attempt to auto-fix common issues (coming soon) |\n\n```bash\nhostkit validate myapp\n```\n\n---",
    "section": "Project Lifecycle",
    "chunkType": "command",
    "tokens": [
      "validate",
      "run",
      "pre",
      "flight",
      "checks",
      "project",
      "before",
      "deployment",
      "checks",
      "entrypoint",
      "dependencies",
      "environment",
      "variables",
      "database",
      "connectivity",
      "port",
      "conflicts",
      "and",
      "service",
      "status",
      "bash",
      "hostkit",
      "validate",
      "project",
      "flag",
      "description",
      "fix",
      "attempt",
      "auto",
      "fix",
      "common",
      "issues",
      "coming",
      "soon",
      "bash",
      "hostkit",
      "validate",
      "myapp"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "capabilities-4",
    "title": "capabilities",
    "content": "Expose HostKit capabilities for AI agents. Shows available commands, services, runtimes, and project-scoped details.\n\n```bash\nhostkit capabilities [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `-p, --project TEXT` | Scope to a project's enabled services |\n| `--commands` | Show only commands |\n| `--services` | Show only services |\n| `--runtimes` | Show only runtimes |\n| `--version-only` | Show only version |\n\n```bash\nhostkit capabilities\nhostkit capabilities --project myapp\n```\n\n---",
    "section": "Project Lifecycle",
    "chunkType": "command",
    "tokens": [
      "capabilities",
      "expose",
      "hostkit",
      "capabilities",
      "for",
      "agents",
      "shows",
      "available",
      "commands",
      "services",
      "runtimes",
      "and",
      "project",
      "scoped",
      "details",
      "bash",
      "hostkit",
      "capabilities",
      "options",
      "flag",
      "description",
      "project",
      "text",
      "scope",
      "project",
      "enabled",
      "services",
      "commands",
      "show",
      "only",
      "commands",
      "services",
      "show",
      "only",
      "services",
      "runtimes",
      "show",
      "only",
      "runtimes",
      "version",
      "only",
      "show",
      "only",
      "version",
      "bash",
      "hostkit",
      "capabilities",
      "hostkit",
      "capabilities",
      "project",
      "myapp"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "status-5",
    "title": "status",
    "content": "Show system status overview or project details. Without arguments, shows overall system health. With a project name, shows that project's detailed status.\n\n```bash\nhostkit status [<project>] [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `-r, --resources` | Show detailed resource metrics (CPU, memory, disk, database) |\n| `--vps` | Show VPS-level status (resources, limits, health) |\n| `-w, --watch INT` | Continuously monitor resources every N seconds (requires `--resources`) |\n\n```bash\nhostkit status                    # System overview\nhostkit status myapp              # Project details\nhostkit status myapp --resources  # Project resource metrics\nhostkit status --vps              # VPS health\n```\n\n---",
    "section": "Project Lifecycle",
    "chunkType": "command",
    "tokens": [
      "status",
      "show",
      "system",
      "status",
      "overview",
      "project",
      "details",
      "without",
      "arguments",
      "shows",
      "overall",
      "system",
      "health",
      "with",
      "project",
      "name",
      "shows",
      "that",
      "project",
      "detailed",
      "status",
      "bash",
      "hostkit",
      "status",
      "project",
      "options",
      "flag",
      "description",
      "resources",
      "show",
      "detailed",
      "resource",
      "metrics",
      "cpu",
      "memory",
      "disk",
      "database",
      "vps",
      "show",
      "vps",
      "level",
      "status",
      "resources",
      "limits",
      "health",
      "watch",
      "int",
      "continuously",
      "monitor",
      "resources",
      "every",
      "seconds",
      "requires",
      "resources",
      "bash",
      "hostkit",
      "status",
      "system",
      "overview",
      "hostkit",
      "status",
      "myapp",
      "project",
      "details",
      "hostkit",
      "status",
      "myapp",
      "resources",
      "project",
      "resource",
      "metrics",
      "hostkit",
      "status",
      "vps",
      "vps",
      "health"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "deploy-6",
    "title": "deploy",
    "content": "Deploy code to a project. Syncs source to the project's app directory, optionally builds and installs dependencies, and restarts the service.\n\n```bash\nhostkit deploy <project> [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `-s, --source PATH` | Source directory to deploy (default: `./app`) |\n| `-g, --git TEXT` | Git repository URL |\n| `-b, --branch TEXT` | Git branch to checkout |\n| `-t, --tag TEXT` | Git tag to checkout (overrides `--branch`) |\n| `-c, --commit TEXT` | Git commit to checkout (overrides `--branch` and `--tag`) |\n| `-e, --env TEXT` | Environment to deploy to (e.g., staging, production) |\n| `-i, --install` | Install dependencies after sync |\n| `--build` | Build the app (runs `npm install && npm run build` for Node/Next.js) |\n| `--with-secrets` | Inject secrets from vault into .env |\n| `--restart/--no-restart` | Restart service after deploy (default: yes) |\n| `--override-ratelimit` | Bypass rate limit checks |\n\n```bash\nhostkit deploy myapp --source ./dist --install\nhostkit deploy myapp --git https://github.com/user/repo.git --branch main --install --build\nhostkit deploy myapp --install --build --with-secrets\n```\n\n---",
    "section": "Deployment",
    "chunkType": "command",
    "tokens": [
      "deploy",
      "deploy",
      "code",
      "project",
      "syncs",
      "source",
      "the",
      "project",
      "app",
      "directory",
      "optionally",
      "builds",
      "and",
      "installs",
      "dependencies",
      "and",
      "restarts",
      "the",
      "service",
      "bash",
      "hostkit",
      "deploy",
      "project",
      "options",
      "flag",
      "description",
      "source",
      "path",
      "source",
      "directory",
      "deploy",
      "default",
      "app",
      "git",
      "text",
      "git",
      "repository",
      "url",
      "branch",
      "text",
      "git",
      "branch",
      "checkout",
      "tag",
      "text",
      "git",
      "tag",
      "checkout",
      "overrides",
      "branch",
      "commit",
      "text",
      "git",
      "commit",
      "checkout",
      "overrides",
      "branch",
      "and",
      "tag",
      "env",
      "text",
      "environment",
      "deploy",
      "staging",
      "production",
      "install",
      "install",
      "dependencies",
      "after",
      "sync",
      "build",
      "build",
      "the",
      "app",
      "runs",
      "npm",
      "install",
      "npm",
      "run",
      "build",
      "for",
      "node",
      "next",
      "with",
      "secrets",
      "inject",
      "secrets",
      "from",
      "vault",
      "into",
      "env",
      "restart",
      "restart",
      "restart",
      "service",
      "after",
      "deploy",
      "default",
      "yes",
      "override",
      "ratelimit",
      "bypass",
      "rate",
      "limit",
      "checks",
      "bash",
      "hostkit",
      "deploy",
      "myapp",
      "source",
      "dist",
      "install",
      "hostkit",
      "deploy",
      "myapp",
      "git",
      "https",
      "github",
      "com",
      "user",
      "repo",
      "git",
      "branch",
      "main",
      "install",
      "build",
      "hostkit",
      "deploy",
      "myapp",
      "install",
      "build",
      "with",
      "secrets"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "rollback-7",
    "title": "rollback",
    "content": "Roll back a project to a previous release. Without options, rolls back code only. Use `--full` to also restore database and environment variables.\n\n```bash\nhostkit rollback <project> [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `--list` | List available releases |\n| `--to TEXT` | Roll back to a specific release by name |\n| `--full` | Full rollback: code + database + environment variables |\n| `--dry-run` | Preview without making changes |\n\n```bash\nhostkit rollback myapp                # Roll back to previous release\nhostkit rollback myapp --list         # List available releases\nhostkit rollback myapp --to release-3 # Roll back to specific release\nhostkit rollback myapp --full         # Code + database + env\n```\n\n---",
    "section": "Deployment",
    "chunkType": "command",
    "tokens": [
      "rollback",
      "roll",
      "back",
      "project",
      "previous",
      "release",
      "without",
      "options",
      "rolls",
      "back",
      "code",
      "only",
      "use",
      "full",
      "also",
      "restore",
      "database",
      "and",
      "environment",
      "variables",
      "bash",
      "hostkit",
      "rollback",
      "project",
      "options",
      "flag",
      "description",
      "list",
      "list",
      "available",
      "releases",
      "text",
      "roll",
      "back",
      "specific",
      "release",
      "name",
      "full",
      "full",
      "rollback",
      "code",
      "database",
      "environment",
      "variables",
      "dry",
      "run",
      "preview",
      "without",
      "making",
      "changes",
      "bash",
      "hostkit",
      "rollback",
      "myapp",
      "roll",
      "back",
      "previous",
      "release",
      "hostkit",
      "rollback",
      "myapp",
      "list",
      "list",
      "available",
      "releases",
      "hostkit",
      "rollback",
      "myapp",
      "release",
      "roll",
      "back",
      "specific",
      "release",
      "hostkit",
      "rollback",
      "myapp",
      "full",
      "code",
      "database",
      "env"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "deploys-8",
    "title": "deploys",
    "content": "View deployment history for a project.\n\n```bash\nhostkit deploys <project> [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `-s, --since TEXT` | Show deploys since time (1h, 24h, 7d, 30m) |\n| `-n, --limit INT` | Maximum entries to show (default: 20) |\n\n```bash\nhostkit deploys myapp\nhostkit deploys myapp --since 24h\n```\n\n---",
    "section": "Deployment",
    "chunkType": "command",
    "tokens": [
      "deploys",
      "view",
      "deployment",
      "history",
      "for",
      "project",
      "bash",
      "hostkit",
      "deploys",
      "project",
      "options",
      "flag",
      "description",
      "since",
      "text",
      "show",
      "deploys",
      "since",
      "time",
      "24h",
      "30m",
      "limit",
      "int",
      "maximum",
      "entries",
      "show",
      "default",
      "bash",
      "hostkit",
      "deploys",
      "myapp",
      "hostkit",
      "deploys",
      "myapp",
      "since",
      "24h"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "resume-9",
    "title": "resume",
    "content": "Resume a paused project. When a project is auto-paused due to repeated failures, use this to resume deployments.\n\n```bash\nhostkit resume <project> [--force]\n```\n\n| Flag | Description |\n|------|-------------|\n| `--force` | Also reset failure history to prevent immediate re-pause |\n\n```bash\nhostkit resume myapp\nhostkit resume myapp --force\n```\n\n---",
    "section": "Deployment",
    "chunkType": "command",
    "tokens": [
      "resume",
      "resume",
      "paused",
      "project",
      "when",
      "project",
      "auto",
      "paused",
      "due",
      "repeated",
      "failures",
      "use",
      "this",
      "resume",
      "deployments",
      "bash",
      "hostkit",
      "resume",
      "project",
      "force",
      "flag",
      "description",
      "force",
      "also",
      "reset",
      "failure",
      "history",
      "prevent",
      "immediate",
      "pause",
      "bash",
      "hostkit",
      "resume",
      "myapp",
      "hostkit",
      "resume",
      "myapp",
      "force"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "service-10",
    "title": "service",
    "content": "Manage systemd services for projects.\n\n```bash\nhostkit service list [--project <name>]\nhostkit service status <name>\nhostkit service start <name>\nhostkit service stop <name>\nhostkit service restart <name>\nhostkit service enable <name>\nhostkit service disable <name>\nhostkit service logs <name> [-n 100] [-f] [--systemd] [--error]\nhostkit service create-worker <project> [--app-module app] [--concurrency 2]\nhostkit service delete-worker <project> [--force]\n```\n\n#### logs\n\n| Flag | Description |\n|------|-------------|\n| `-n, --lines INT` | Number of lines to show (default: 100) |\n| `-f, --follow` | Follow log output |\n| `--systemd` | Show journalctl/systemd logs instead of app logs |\n| `--error` | Show only error.log (stderr) |\n\n```bash\nhostkit service logs myapp -n 50 -f\nhostkit service logs myapp --systemd\n```\n\n---",
    "section": "Services",
    "chunkType": "service",
    "tokens": [
      "service",
      "manage",
      "systemd",
      "services",
      "for",
      "projects",
      "bash",
      "hostkit",
      "service",
      "list",
      "project",
      "name",
      "hostkit",
      "service",
      "status",
      "name",
      "hostkit",
      "service",
      "start",
      "name",
      "hostkit",
      "service",
      "stop",
      "name",
      "hostkit",
      "service",
      "restart",
      "name",
      "hostkit",
      "service",
      "enable",
      "name",
      "hostkit",
      "service",
      "disable",
      "name",
      "hostkit",
      "service",
      "logs",
      "name",
      "100",
      "systemd",
      "error",
      "hostkit",
      "service",
      "create",
      "worker",
      "project",
      "app",
      "module",
      "app",
      "concurrency",
      "hostkit",
      "service",
      "delete",
      "worker",
      "project",
      "force",
      "logs",
      "flag",
      "description",
      "lines",
      "int",
      "number",
      "lines",
      "show",
      "default",
      "100",
      "follow",
      "follow",
      "log",
      "output",
      "systemd",
      "show",
      "journalctl",
      "systemd",
      "logs",
      "instead",
      "app",
      "logs",
      "error",
      "show",
      "only",
      "error",
      "log",
      "stderr",
      "bash",
      "hostkit",
      "service",
      "logs",
      "myapp",
      "hostkit",
      "service",
      "logs",
      "myapp",
      "systemd"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "auth-11",
    "title": "auth",
    "content": "Manage per-project authentication services. Supports OAuth (Google, Apple), email/password, magic links, and anonymous sessions.\n\n```bash\nhostkit auth enable <project> [OPTIONS]\nhostkit auth disable <project> --force\nhostkit auth config <project> [OPTIONS]\nhostkit auth status [<project>]\nhostkit auth users <project> [-n 50] [--verified-only] [--provider email|google|apple|anonymous]\nhostkit auth logs <project> [-n 100] [-f]\nhostkit auth sync <project>\nhostkit auth export-key <project> [--env-format] [--update-env]\n```\n\n#### enable\n\n| Flag | Description |\n|------|-------------|\n| `--google-client-id TEXT` | Google OAuth client ID (native iOS/Android) |\n| `--google-web-client-id TEXT` | Google OAuth web client ID |\n| `--google-client-secret TEXT` | Google OAuth client secret |\n| `--apple-client-id TEXT` | Apple Sign-In client ID |\n| `--apple-team-id TEXT` | Apple Developer Team ID |\n| `--apple-key-id TEXT` | Apple Sign-In key ID |\n| `--no-email` | Disable email/password auth |\n| `--no-magic-link` | Disable magic link auth |\n| `--no-anonymous` | Disable anonymous sessions |\n\n#### config\n\nAll `enable` flags plus:\n\n| Flag | Description |\n|------|-------------|\n| `--set KEY=VALUE` | Set config value (repeatable) |\n| `--base-url TEXT` | Base URL for OAuth callbacks |\n| `--email/--no-email` | Toggle email/password auth |\n| `--magic-link/--no-magic-link` | Toggle magic links |\n| `--anonymous/--no-anonymous` | Toggle anonymous sessions |\n| `--from-secrets` | Read OAuth credentials from secrets vault |\n| `--from-platform` | Read OAuth credentials from platform config |\n| `--no-restart` | Don't restart auth service after changes |\n\n```bash\nhostkit auth enable myapp --google-client-id xxx --google-client-secret yyy\nhostkit auth config myapp --magic-link --anonymous\nhostkit auth export-key myapp --update-env\n```\n\n---",
    "section": "Services",
    "chunkType": "service",
    "tokens": [
      "auth",
      "manage",
      "per",
      "project",
      "authentication",
      "services",
      "supports",
      "oauth",
      "google",
      "apple",
      "email",
      "password",
      "magic",
      "links",
      "and",
      "anonymous",
      "sessions",
      "bash",
      "hostkit",
      "auth",
      "enable",
      "project",
      "options",
      "hostkit",
      "auth",
      "disable",
      "project",
      "force",
      "hostkit",
      "auth",
      "config",
      "project",
      "options",
      "hostkit",
      "auth",
      "status",
      "project",
      "hostkit",
      "auth",
      "users",
      "project",
      "verified",
      "only",
      "provider",
      "email",
      "google",
      "apple",
      "anonymous",
      "hostkit",
      "auth",
      "logs",
      "project",
      "100",
      "hostkit",
      "auth",
      "sync",
      "project",
      "hostkit",
      "auth",
      "export",
      "key",
      "project",
      "env",
      "format",
      "update",
      "env",
      "enable",
      "flag",
      "description",
      "google",
      "client",
      "text",
      "google",
      "oauth",
      "client",
      "native",
      "ios",
      "android",
      "google",
      "web",
      "client",
      "text",
      "google",
      "oauth",
      "web",
      "client",
      "google",
      "client",
      "secret",
      "text",
      "google",
      "oauth",
      "client",
      "secret",
      "apple",
      "client",
      "text",
      "apple",
      "sign",
      "client",
      "apple",
      "team",
      "text",
      "apple",
      "developer",
      "team",
      "apple",
      "key",
      "text",
      "apple",
      "sign",
      "key",
      "email",
      "disable",
      "email",
      "password",
      "auth",
      "magic",
      "link",
      "disable",
      "magic",
      "link",
      "auth",
      "anonymous",
      "disable",
      "anonymous",
      "sessions",
      "config",
      "all",
      "enable",
      "flags",
      "plus",
      "flag",
      "description",
      "set",
      "key",
      "value",
      "set",
      "config",
      "value",
      "repeatable",
      "base",
      "url",
      "text",
      "base",
      "url",
      "for",
      "oauth",
      "callbacks",
      "email",
      "email",
      "toggle",
      "email",
      "password",
      "auth",
      "magic",
      "link",
      "magic",
      "link",
      "toggle",
      "magic",
      "links",
      "anonymous",
      "anonymous",
      "toggle",
      "anonymous",
      "sessions",
      "from",
      "secrets",
      "read",
      "oauth",
      "credentials",
      "from",
      "secrets",
      "vault",
      "from",
      "platform",
      "read",
      "oauth",
      "credentials",
      "from",
      "platform",
      "config",
      "restart",
      "don",
      "restart",
      "auth",
      "service",
      "after",
      "changes",
      "bash",
      "hostkit",
      "auth",
      "enable",
      "myapp",
      "google",
      "client",
      "xxx",
      "google",
      "client",
      "secret",
      "yyy",
      "hostkit",
      "auth",
      "config",
      "myapp",
      "magic",
      "link",
      "anonymous",
      "hostkit",
      "auth",
      "export",
      "key",
      "myapp",
      "update",
      "env"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "payments-12",
    "title": "payments",
    "content": "Manage per-project payment services via Stripe Connect Express.\n\n```bash\nhostkit payments enable <project>\nhostkit payments disable <project> --force\nhostkit payments status <project>\nhostkit payments logs <project> [-n 100] [-f]\n```\n\n```bash\nhostkit payments enable myapp   # Returns Stripe onboarding URL\nhostkit payments status myapp\n```\n\n---",
    "section": "Services",
    "chunkType": "service",
    "tokens": [
      "payments",
      "manage",
      "per",
      "project",
      "payment",
      "services",
      "via",
      "stripe",
      "connect",
      "express",
      "bash",
      "hostkit",
      "payments",
      "enable",
      "project",
      "hostkit",
      "payments",
      "disable",
      "project",
      "force",
      "hostkit",
      "payments",
      "status",
      "project",
      "hostkit",
      "payments",
      "logs",
      "project",
      "100",
      "bash",
      "hostkit",
      "payments",
      "enable",
      "myapp",
      "returns",
      "stripe",
      "onboarding",
      "url",
      "hostkit",
      "payments",
      "status",
      "myapp"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "sms-13",
    "title": "sms",
    "content": "Manage per-project SMS services via Twilio. Supports transactional messaging, templates, consent tracking, and conversational AI.\n\n```bash\nhostkit sms enable <project> [--phone-number TEXT] [--ai] [--agent TEXT]\nhostkit sms disable <project> --force\nhostkit sms status <project>\nhostkit sms send <project> --to +1234567890 [--template NAME|--body TEXT] [--vars JSON]\nhostkit sms template <action> <project> [<name>] [--body TEXT] [--category transactional|marketing|otp]\nhostkit sms logs <project> [-n 100] [-f]\n```\n\n```bash\nhostkit sms enable myapp --ai\nhostkit sms send myapp --to +15551234567 --template welcome --vars '{\"name\": \"Alice\"}'\nhostkit sms template create myapp welcome --body \"Hi {{name}}, welcome!\" --category transactional\n```\n\n---",
    "section": "Services",
    "chunkType": "service",
    "tokens": [
      "sms",
      "manage",
      "per",
      "project",
      "sms",
      "services",
      "via",
      "twilio",
      "supports",
      "transactional",
      "messaging",
      "templates",
      "consent",
      "tracking",
      "and",
      "conversational",
      "bash",
      "hostkit",
      "sms",
      "enable",
      "project",
      "phone",
      "number",
      "text",
      "agent",
      "text",
      "hostkit",
      "sms",
      "disable",
      "project",
      "force",
      "hostkit",
      "sms",
      "status",
      "project",
      "hostkit",
      "sms",
      "send",
      "project",
      "1234567890",
      "template",
      "name",
      "body",
      "text",
      "vars",
      "json",
      "hostkit",
      "sms",
      "template",
      "action",
      "project",
      "name",
      "body",
      "text",
      "category",
      "transactional",
      "marketing",
      "otp",
      "hostkit",
      "sms",
      "logs",
      "project",
      "100",
      "bash",
      "hostkit",
      "sms",
      "enable",
      "myapp",
      "hostkit",
      "sms",
      "send",
      "myapp",
      "15551234567",
      "template",
      "welcome",
      "vars",
      "name",
      "alice",
      "hostkit",
      "sms",
      "template",
      "create",
      "myapp",
      "welcome",
      "body",
      "name",
      "welcome",
      "category",
      "transactional"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "voice-14",
    "title": "voice",
    "content": "Manage voice calling service. AI-powered phone calls via Twilio Media Streams with real-time streaming (Deepgram STT, Cartesia TTS, OpenAI LLM).\n\n```bash\nhostkit voice enable <project>\nhostkit voice disable <project> --force\nhostkit voice status <project>\nhostkit voice agent <create|list> <project> [<name>]\nhostkit voice call initiate <project> <agent> --to +1234567890 [--context JSON]\nhostkit voice logs <project> [-n 100] [-f]\n```\n\n```bash\nhostkit voice enable myapp\nhostkit voice agent create myapp receptionist\nhostkit voice call initiate myapp receptionist --to +15551234567\n```\n\n---",
    "section": "Services",
    "chunkType": "service",
    "tokens": [
      "voice",
      "manage",
      "voice",
      "calling",
      "service",
      "powered",
      "phone",
      "calls",
      "via",
      "twilio",
      "media",
      "streams",
      "with",
      "real",
      "time",
      "streaming",
      "deepgram",
      "stt",
      "cartesia",
      "tts",
      "openai",
      "llm",
      "bash",
      "hostkit",
      "voice",
      "enable",
      "project",
      "hostkit",
      "voice",
      "disable",
      "project",
      "force",
      "hostkit",
      "voice",
      "status",
      "project",
      "hostkit",
      "voice",
      "agent",
      "create",
      "list",
      "project",
      "name",
      "hostkit",
      "voice",
      "call",
      "initiate",
      "project",
      "agent",
      "1234567890",
      "context",
      "json",
      "hostkit",
      "voice",
      "logs",
      "project",
      "100",
      "bash",
      "hostkit",
      "voice",
      "enable",
      "myapp",
      "hostkit",
      "voice",
      "agent",
      "create",
      "myapp",
      "receptionist",
      "hostkit",
      "voice",
      "call",
      "initiate",
      "myapp",
      "receptionist",
      "15551234567"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "booking-15",
    "title": "booking",
    "content": "Manage per-project booking/scheduling services. Appointment scheduling with provider pooling, room management, and automated reminders.\n\n```bash\nhostkit booking enable <project>\nhostkit booking disable <project> --force\nhostkit booking status <project>\nhostkit booking seed <project> [--providers 3] [--services 5]\nhostkit booking upgrade <project> [--dry-run] [--force]\nhostkit booking logs <project> [-n 100] [-f]\n```\n\n```bash\nhostkit booking enable myapp\nhostkit booking seed myapp --providers 5 --services 10\n```\n\n---",
    "section": "Services",
    "chunkType": "service",
    "tokens": [
      "booking",
      "manage",
      "per",
      "project",
      "booking",
      "scheduling",
      "services",
      "appointment",
      "scheduling",
      "with",
      "provider",
      "pooling",
      "room",
      "management",
      "and",
      "automated",
      "reminders",
      "bash",
      "hostkit",
      "booking",
      "enable",
      "project",
      "hostkit",
      "booking",
      "disable",
      "project",
      "force",
      "hostkit",
      "booking",
      "status",
      "project",
      "hostkit",
      "booking",
      "seed",
      "project",
      "providers",
      "services",
      "hostkit",
      "booking",
      "upgrade",
      "project",
      "dry",
      "run",
      "force",
      "hostkit",
      "booking",
      "logs",
      "project",
      "100",
      "bash",
      "hostkit",
      "booking",
      "enable",
      "myapp",
      "hostkit",
      "booking",
      "seed",
      "myapp",
      "providers",
      "services"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "chatbot-16",
    "title": "chatbot",
    "content": "Manage per-project AI chatbot services with embeddable widgets, conversation history, and SSE streaming.\n\n```bash\nhostkit chatbot enable <project>\nhostkit chatbot disable <project> --force\nhostkit chatbot status <project> [--show-key]\nhostkit chatbot config <project> [OPTIONS]\nhostkit chatbot stats <project>\nhostkit chatbot logs <project> [-n 100] [-f]\n```\n\n#### config\n\n| Flag | Description |\n|------|-------------|\n| `--name TEXT` | Chatbot display name |\n| `--system-prompt TEXT` | System prompt for the AI |\n| `--suggested-questions JSON` | Suggested questions (JSON array) |\n| `--position POSITION` | Widget position (bottom-right, bottom-left, top-right, top-left) |\n| `--primary-color HEX` | Primary color (e.g., #6366f1) |\n| `--theme THEME` | Widget theme (light, dark) |\n| `--cta-text TEXT` | Call-to-action button text |\n| `--cta-url URL` | Call-to-action button URL |\n| `--cta-after INT` | Show CTA after N messages |\n| `--model TEXT` | LLM model to use |\n\n```bash\nhostkit chatbot enable myapp\nhostkit chatbot config myapp --name \"Support Bot\" --model claude-sonnet-4-20250514 --theme dark\n```\n\n---",
    "section": "Services",
    "chunkType": "service",
    "tokens": [
      "chatbot",
      "manage",
      "per",
      "project",
      "chatbot",
      "services",
      "with",
      "embeddable",
      "widgets",
      "conversation",
      "history",
      "and",
      "sse",
      "streaming",
      "bash",
      "hostkit",
      "chatbot",
      "enable",
      "project",
      "hostkit",
      "chatbot",
      "disable",
      "project",
      "force",
      "hostkit",
      "chatbot",
      "status",
      "project",
      "show",
      "key",
      "hostkit",
      "chatbot",
      "config",
      "project",
      "options",
      "hostkit",
      "chatbot",
      "stats",
      "project",
      "hostkit",
      "chatbot",
      "logs",
      "project",
      "100",
      "config",
      "flag",
      "description",
      "name",
      "text",
      "chatbot",
      "display",
      "name",
      "system",
      "prompt",
      "text",
      "system",
      "prompt",
      "for",
      "the",
      "suggested",
      "questions",
      "json",
      "suggested",
      "questions",
      "json",
      "array",
      "position",
      "position",
      "widget",
      "position",
      "bottom",
      "right",
      "bottom",
      "left",
      "top",
      "right",
      "top",
      "left",
      "primary",
      "color",
      "hex",
      "primary",
      "color",
      "6366f1",
      "theme",
      "theme",
      "widget",
      "theme",
      "light",
      "dark",
      "cta",
      "text",
      "text",
      "call",
      "action",
      "button",
      "text",
      "cta",
      "url",
      "url",
      "call",
      "action",
      "button",
      "url",
      "cta",
      "after",
      "int",
      "show",
      "cta",
      "after",
      "messages",
      "model",
      "text",
      "llm",
      "model",
      "use",
      "bash",
      "hostkit",
      "chatbot",
      "enable",
      "myapp",
      "hostkit",
      "chatbot",
      "config",
      "myapp",
      "name",
      "support",
      "bot",
      "model",
      "claude",
      "sonnet",
      "20250514",
      "theme",
      "dark"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "claude-17",
    "title": "claude",
    "content": "Claude AI integration service. Enable AI capabilities for projects using the VPS owner's Anthropic subscription.\n\n```bash\nhostkit claude setup --api-key <key> [--force]\nhostkit claude status\nhostkit claude enable <project>\nhostkit claude disable <project> [--force]\nhostkit claude grant <project> --tools <tools>\nhostkit claude revoke <project> --tools <tools>\nhostkit claude tools <project>\nhostkit claude usage [<project>] [--detailed] [--all-projects]\n```\n\n**Tool tiers:**\n\n| Tier | Tools |\n|------|-------|\n| Read-only | logs, health, db:read, env:read, vector:search |\n| State change | db:write, env:write, service, cache:flush |\n| High-risk | deploy, rollback, migrate |\n\n```bash\nhostkit claude enable myapp\nhostkit claude grant myapp --tools logs,health,db:read\nhostkit claude usage myapp --detailed\n```\n\n---",
    "section": "Services",
    "chunkType": "command",
    "tokens": [
      "claude",
      "claude",
      "integration",
      "service",
      "enable",
      "capabilities",
      "for",
      "projects",
      "using",
      "the",
      "vps",
      "owner",
      "anthropic",
      "subscription",
      "bash",
      "hostkit",
      "claude",
      "setup",
      "api",
      "key",
      "key",
      "force",
      "hostkit",
      "claude",
      "status",
      "hostkit",
      "claude",
      "enable",
      "project",
      "hostkit",
      "claude",
      "disable",
      "project",
      "force",
      "hostkit",
      "claude",
      "grant",
      "project",
      "tools",
      "tools",
      "hostkit",
      "claude",
      "revoke",
      "project",
      "tools",
      "tools",
      "hostkit",
      "claude",
      "tools",
      "project",
      "hostkit",
      "claude",
      "usage",
      "project",
      "detailed",
      "all",
      "projects",
      "tool",
      "tiers",
      "tier",
      "tools",
      "read",
      "only",
      "logs",
      "health",
      "read",
      "env",
      "read",
      "vector",
      "search",
      "state",
      "change",
      "write",
      "env",
      "write",
      "service",
      "cache",
      "flush",
      "high",
      "risk",
      "deploy",
      "rollback",
      "migrate",
      "bash",
      "hostkit",
      "claude",
      "enable",
      "myapp",
      "hostkit",
      "claude",
      "grant",
      "myapp",
      "tools",
      "logs",
      "health",
      "read",
      "hostkit",
      "claude",
      "usage",
      "myapp",
      "detailed"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "db-18",
    "title": "db",
    "content": "Manage PostgreSQL databases for projects.\n\n```bash\nhostkit db create <project>\nhostkit db delete <project> --force\nhostkit db list\nhostkit db info <project>\nhostkit db backup <project>\nhostkit db restore <project> <backup_path>\nhostkit db shell <project> [-c \"SQL\"]\nhostkit db enable-extension <project> <extension>\nhostkit db extensions <project>\nhostkit db migrate <project> [-f file.sql | -d migrations/]\n```\n\n**Supported extensions:** vector, postgis, pg_trgm, uuid-ossp, pgcrypto, hstore, citext, unaccent, fuzzystrmatch, tablefunc\n\n```bash\nhostkit db create myapp\nhostkit db shell myapp -c \"SELECT * FROM users LIMIT 5\"\nhostkit db enable-extension myapp vector\nhostkit db migrate myapp --dir ./migrations/\n```\n\n---",
    "section": "Database",
    "chunkType": "command",
    "tokens": [
      "manage",
      "postgresql",
      "databases",
      "for",
      "projects",
      "bash",
      "hostkit",
      "create",
      "project",
      "hostkit",
      "delete",
      "project",
      "force",
      "hostkit",
      "list",
      "hostkit",
      "info",
      "project",
      "hostkit",
      "backup",
      "project",
      "hostkit",
      "restore",
      "project",
      "backup",
      "path",
      "hostkit",
      "shell",
      "project",
      "sql",
      "hostkit",
      "enable",
      "extension",
      "project",
      "extension",
      "hostkit",
      "extensions",
      "project",
      "hostkit",
      "migrate",
      "project",
      "file",
      "sql",
      "migrations",
      "supported",
      "extensions",
      "vector",
      "postgis",
      "trgm",
      "uuid",
      "ossp",
      "pgcrypto",
      "hstore",
      "citext",
      "unaccent",
      "fuzzystrmatch",
      "tablefunc",
      "bash",
      "hostkit",
      "create",
      "myapp",
      "hostkit",
      "shell",
      "myapp",
      "select",
      "from",
      "users",
      "limit",
      "hostkit",
      "enable",
      "extension",
      "myapp",
      "vector",
      "hostkit",
      "migrate",
      "myapp",
      "dir",
      "migrations"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "migrate-19",
    "title": "migrate",
    "content": "Run database migrations with automatic framework detection. Creates a checkpoint before running (restorable if migrations fail).\n\n```bash\nhostkit migrate <project> [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `--django` | Force Django migrations |\n| `--alembic` | Force Alembic migrations |\n| `--prisma` | Force Prisma migrations |\n| `--cmd TEXT` | Custom migration command |\n| `--dry-run` | Show command without executing |\n| `--checkpoint/--no-checkpoint` | Create checkpoint before migrating (default: yes) |\n\n```bash\nhostkit migrate myapp                  # Auto-detect framework\nhostkit migrate myapp --prisma         # Force Prisma\nhostkit migrate myapp --dry-run        # Preview only\nhostkit migrate myapp --no-checkpoint  # Skip safety checkpoint\n```\n\n---",
    "section": "Database",
    "chunkType": "command",
    "tokens": [
      "migrate",
      "run",
      "database",
      "migrations",
      "with",
      "automatic",
      "framework",
      "detection",
      "creates",
      "checkpoint",
      "before",
      "running",
      "restorable",
      "migrations",
      "fail",
      "bash",
      "hostkit",
      "migrate",
      "project",
      "options",
      "flag",
      "description",
      "django",
      "force",
      "django",
      "migrations",
      "alembic",
      "force",
      "alembic",
      "migrations",
      "prisma",
      "force",
      "prisma",
      "migrations",
      "cmd",
      "text",
      "custom",
      "migration",
      "command",
      "dry",
      "run",
      "show",
      "command",
      "without",
      "executing",
      "checkpoint",
      "checkpoint",
      "create",
      "checkpoint",
      "before",
      "migrating",
      "default",
      "yes",
      "bash",
      "hostkit",
      "migrate",
      "myapp",
      "auto",
      "detect",
      "framework",
      "hostkit",
      "migrate",
      "myapp",
      "prisma",
      "force",
      "prisma",
      "hostkit",
      "migrate",
      "myapp",
      "dry",
      "run",
      "preview",
      "only",
      "hostkit",
      "migrate",
      "myapp",
      "checkpoint",
      "skip",
      "safety",
      "checkpoint"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "checkpoint-20",
    "title": "checkpoint",
    "content": "Create and manage point-in-time database snapshots for safe rollbacks.\n\n```bash\nhostkit checkpoint create <project> [-l \"label\"]\nhostkit checkpoint list <project> [-n 20] [--type manual|pre_migration|pre_restore|auto]\nhostkit checkpoint info <project> <id>\nhostkit checkpoint restore <project> <id> [--force] [--no-safety]\nhostkit checkpoint delete <project> <id> --force\nhostkit checkpoint latest <project> [--type TYPE]\nhostkit checkpoint cleanup\n```\n\n**Retention policy:**\n\n| Type | Retention |\n|------|-----------|\n| manual | Never expires |\n| pre_migration | 30 days |\n| pre_restore | 7 days |\n| auto | 7 days |\n\n```bash\nhostkit checkpoint create myapp --label \"before schema change\"\nhostkit checkpoint restore myapp 5 --force\nhostkit checkpoint cleanup\n```\n\n---",
    "section": "Database",
    "chunkType": "command",
    "tokens": [
      "checkpoint",
      "create",
      "and",
      "manage",
      "point",
      "time",
      "database",
      "snapshots",
      "for",
      "safe",
      "rollbacks",
      "bash",
      "hostkit",
      "checkpoint",
      "create",
      "project",
      "label",
      "hostkit",
      "checkpoint",
      "list",
      "project",
      "type",
      "manual",
      "pre",
      "migration",
      "pre",
      "restore",
      "auto",
      "hostkit",
      "checkpoint",
      "info",
      "project",
      "hostkit",
      "checkpoint",
      "restore",
      "project",
      "force",
      "safety",
      "hostkit",
      "checkpoint",
      "delete",
      "project",
      "force",
      "hostkit",
      "checkpoint",
      "latest",
      "project",
      "type",
      "type",
      "hostkit",
      "checkpoint",
      "cleanup",
      "retention",
      "policy",
      "type",
      "retention",
      "manual",
      "never",
      "expires",
      "pre",
      "migration",
      "days",
      "pre",
      "restore",
      "days",
      "auto",
      "days",
      "bash",
      "hostkit",
      "checkpoint",
      "create",
      "myapp",
      "label",
      "before",
      "schema",
      "change",
      "hostkit",
      "checkpoint",
      "restore",
      "myapp",
      "force",
      "hostkit",
      "checkpoint",
      "cleanup"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "query-21",
    "title": "query",
    "content": "Query HostKit documentation with natural language. Designed for AI agents to quickly find commands and configuration details.\n\n```bash\nhostkit query \"<question>\" [-n 5] [--raw]\n```\n\n| Flag | Description |\n|------|-------------|\n| `-n, --limit INT` | Number of documentation chunks to retrieve (default: 5) |\n| `--raw` | Return raw chunks without LLM processing |\n\n```bash\nhostkit query \"how do I enable payments\"\nhostkit query \"what environment variables does auth set\" --raw\n```\n\n---",
    "section": "Database",
    "chunkType": "command",
    "tokens": [
      "query",
      "query",
      "hostkit",
      "documentation",
      "with",
      "natural",
      "language",
      "designed",
      "for",
      "agents",
      "quickly",
      "find",
      "commands",
      "and",
      "configuration",
      "details",
      "bash",
      "hostkit",
      "query",
      "question",
      "raw",
      "flag",
      "description",
      "limit",
      "int",
      "number",
      "documentation",
      "chunks",
      "retrieve",
      "default",
      "raw",
      "return",
      "raw",
      "chunks",
      "without",
      "llm",
      "processing",
      "bash",
      "hostkit",
      "query",
      "how",
      "enable",
      "payments",
      "hostkit",
      "query",
      "what",
      "environment",
      "variables",
      "does",
      "auth",
      "set",
      "raw"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "env-22",
    "title": "env",
    "content": "Manage environment variables for projects. Sensitive values are redacted by default.\n\n```bash\nhostkit env list <project> [--show-secrets]\nhostkit env get <project> <key>\nhostkit env set <project> KEY=VALUE [--restart]\nhostkit env unset <project> <key> [--restart]\nhostkit env import <project> <file> [--force]\nhostkit env sync <project> <file>\n```\n\n`import` replaces all existing variables. `sync` only adds new variables without overwriting existing ones.\n\n```bash\nhostkit env set myapp DEBUG=true --restart\nhostkit env sync myapp ./defaults.env\n```\n\n---",
    "section": "Environment & Secrets",
    "chunkType": "command",
    "tokens": [
      "env",
      "manage",
      "environment",
      "variables",
      "for",
      "projects",
      "sensitive",
      "values",
      "are",
      "redacted",
      "default",
      "bash",
      "hostkit",
      "env",
      "list",
      "project",
      "show",
      "secrets",
      "hostkit",
      "env",
      "get",
      "project",
      "key",
      "hostkit",
      "env",
      "set",
      "project",
      "key",
      "value",
      "restart",
      "hostkit",
      "env",
      "unset",
      "project",
      "key",
      "restart",
      "hostkit",
      "env",
      "import",
      "project",
      "file",
      "force",
      "hostkit",
      "env",
      "sync",
      "project",
      "file",
      "import",
      "replaces",
      "all",
      "existing",
      "variables",
      "sync",
      "only",
      "adds",
      "new",
      "variables",
      "without",
      "overwriting",
      "existing",
      "ones",
      "bash",
      "hostkit",
      "env",
      "set",
      "myapp",
      "debug",
      "true",
      "restart",
      "hostkit",
      "env",
      "sync",
      "myapp",
      "defaults",
      "env"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "secrets-23",
    "title": "secrets",
    "content": "Manage encrypted secrets (AES-256-GCM at rest). Values never appear in logs or command output.\n\n```bash\nhostkit secrets init [--force]\nhostkit secrets list <project>\nhostkit secrets set <project> <key> [--stdin] [--provider TEXT] [--description TEXT]\nhostkit secrets delete <project> <key> [--force]\nhostkit secrets import <project> [<file>] [--stdin] [--no-overwrite]\nhostkit secrets define <project> [<key>] [--from .env.example] [--required|--optional]\nhostkit secrets undefine <project> <key> [--delete-value]\nhostkit secrets verify <project>\nhostkit secrets portal <project> [--expires 24h] [--revoke] [--url-only]\nhostkit secrets clear <project> [--delete-values]\nhostkit secrets audit <project> [--limit 50]\n```\n\n```bash\nhostkit secrets define myapp --from .env.example\nhostkit secrets portal myapp --expires 1h          # Generate magic link\nhostkit secrets verify myapp                        # Check all required secrets are set\necho \"sk_live_xxx\" | hostkit secrets set myapp STRIPE_API_KEY --stdin\n```\n\n---",
    "section": "Environment & Secrets",
    "chunkType": "command",
    "tokens": [
      "secrets",
      "manage",
      "encrypted",
      "secrets",
      "aes",
      "256",
      "gcm",
      "rest",
      "values",
      "never",
      "appear",
      "logs",
      "command",
      "output",
      "bash",
      "hostkit",
      "secrets",
      "init",
      "force",
      "hostkit",
      "secrets",
      "list",
      "project",
      "hostkit",
      "secrets",
      "set",
      "project",
      "key",
      "stdin",
      "provider",
      "text",
      "description",
      "text",
      "hostkit",
      "secrets",
      "delete",
      "project",
      "key",
      "force",
      "hostkit",
      "secrets",
      "import",
      "project",
      "file",
      "stdin",
      "overwrite",
      "hostkit",
      "secrets",
      "define",
      "project",
      "key",
      "from",
      "env",
      "example",
      "required",
      "optional",
      "hostkit",
      "secrets",
      "undefine",
      "project",
      "key",
      "delete",
      "value",
      "hostkit",
      "secrets",
      "verify",
      "project",
      "hostkit",
      "secrets",
      "portal",
      "project",
      "expires",
      "24h",
      "revoke",
      "url",
      "only",
      "hostkit",
      "secrets",
      "clear",
      "project",
      "delete",
      "values",
      "hostkit",
      "secrets",
      "audit",
      "project",
      "limit",
      "bash",
      "hostkit",
      "secrets",
      "define",
      "myapp",
      "from",
      "env",
      "example",
      "hostkit",
      "secrets",
      "portal",
      "myapp",
      "expires",
      "generate",
      "magic",
      "link",
      "hostkit",
      "secrets",
      "verify",
      "myapp",
      "check",
      "all",
      "required",
      "secrets",
      "are",
      "set",
      "echo",
      "live",
      "xxx",
      "hostkit",
      "secrets",
      "set",
      "myapp",
      "stripe",
      "api",
      "key",
      "stdin"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "environment-24",
    "title": "environment",
    "content": "Manage project environments (staging, production, etc.). Each environment is a fully isolated instance with its own Linux user, port, and service. Maximum 5 environments per project.\n\n```bash\nhostkit environment create <project> <env> [--with-db|--share-db]\nhostkit environment list [<project>]\nhostkit environment info <project> <env>\nhostkit environment delete <project> <env> --force\nhostkit environment promote <project> <source> <target> [--with-db] [--dry-run]\nhostkit environment start <project> <env>\nhostkit environment stop <project> <env>\nhostkit environment restart <project> <env>\n```\n\nEnvironment variables are not copied during promotion (they differ by design).\n\n```bash\nhostkit environment create myapp staging --with-db\nhostkit environment promote myapp staging production --dry-run\n```\n\n---",
    "section": "Environment & Secrets",
    "chunkType": "command",
    "tokens": [
      "environment",
      "manage",
      "project",
      "environments",
      "staging",
      "production",
      "etc",
      "each",
      "environment",
      "fully",
      "isolated",
      "instance",
      "with",
      "its",
      "own",
      "linux",
      "user",
      "port",
      "and",
      "service",
      "maximum",
      "environments",
      "per",
      "project",
      "bash",
      "hostkit",
      "environment",
      "create",
      "project",
      "env",
      "with",
      "share",
      "hostkit",
      "environment",
      "list",
      "project",
      "hostkit",
      "environment",
      "info",
      "project",
      "env",
      "hostkit",
      "environment",
      "delete",
      "project",
      "env",
      "force",
      "hostkit",
      "environment",
      "promote",
      "project",
      "source",
      "target",
      "with",
      "dry",
      "run",
      "hostkit",
      "environment",
      "start",
      "project",
      "env",
      "hostkit",
      "environment",
      "stop",
      "project",
      "env",
      "hostkit",
      "environment",
      "restart",
      "project",
      "env",
      "environment",
      "variables",
      "are",
      "not",
      "copied",
      "during",
      "promotion",
      "they",
      "differ",
      "design",
      "bash",
      "hostkit",
      "environment",
      "create",
      "myapp",
      "staging",
      "with",
      "hostkit",
      "environment",
      "promote",
      "myapp",
      "staging",
      "production",
      "dry",
      "run"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "nginx-25",
    "title": "nginx",
    "content": "Manage Nginx reverse proxy configurations for projects.\n\n```bash\nhostkit nginx list\nhostkit nginx add <project> <domain> [--skip-dns]\nhostkit nginx remove <project> <domain>\nhostkit nginx info <project>\nhostkit nginx test\nhostkit nginx reload\nhostkit nginx update-wildcard\n```\n\n```bash\nhostkit nginx add myapp myapp.example.com\nhostkit nginx test && hostkit nginx reload\n```\n\n---",
    "section": "Networking",
    "chunkType": "command",
    "tokens": [
      "nginx",
      "manage",
      "nginx",
      "reverse",
      "proxy",
      "configurations",
      "for",
      "projects",
      "bash",
      "hostkit",
      "nginx",
      "list",
      "hostkit",
      "nginx",
      "add",
      "project",
      "domain",
      "skip",
      "dns",
      "hostkit",
      "nginx",
      "remove",
      "project",
      "domain",
      "hostkit",
      "nginx",
      "info",
      "project",
      "hostkit",
      "nginx",
      "test",
      "hostkit",
      "nginx",
      "reload",
      "hostkit",
      "nginx",
      "update",
      "wildcard",
      "bash",
      "hostkit",
      "nginx",
      "add",
      "myapp",
      "myapp",
      "example",
      "com",
      "hostkit",
      "nginx",
      "test",
      "hostkit",
      "nginx",
      "reload"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "ssl-26",
    "title": "ssl",
    "content": "Manage Let's Encrypt SSL certificates.\n\n```bash\nhostkit ssl list\nhostkit ssl status <domain>\nhostkit ssl provision <domain> [--email TEXT]\nhostkit ssl renew [--all|--domain TEXT] [--force]\nhostkit ssl auto-renewal\nhostkit ssl enable-auto-renewal\nhostkit ssl test-renewal [--domain TEXT]\n```\n\n```bash\nhostkit ssl provision myapp.example.com --email admin@example.com\nhostkit ssl renew --all\n```\n\n---",
    "section": "Networking",
    "chunkType": "command",
    "tokens": [
      "ssl",
      "manage",
      "let",
      "encrypt",
      "ssl",
      "certificates",
      "bash",
      "hostkit",
      "ssl",
      "list",
      "hostkit",
      "ssl",
      "status",
      "domain",
      "hostkit",
      "ssl",
      "provision",
      "domain",
      "email",
      "text",
      "hostkit",
      "ssl",
      "renew",
      "all",
      "domain",
      "text",
      "force",
      "hostkit",
      "ssl",
      "auto",
      "renewal",
      "hostkit",
      "ssl",
      "enable",
      "auto",
      "renewal",
      "hostkit",
      "ssl",
      "test",
      "renewal",
      "domain",
      "text",
      "bash",
      "hostkit",
      "ssl",
      "provision",
      "myapp",
      "example",
      "com",
      "email",
      "admin",
      "example",
      "com",
      "hostkit",
      "ssl",
      "renew",
      "all"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "dns-27",
    "title": "dns",
    "content": "Manage DNS records via Cloudflare and nip.io.\n\n```bash\nhostkit dns config [--token TEXT] [--zone TEXT] [--show]\nhostkit dns list [--type A|CNAME|MX|...]\nhostkit dns add <name> [--content IP] [--type A] [--ttl 300] [--proxied]\nhostkit dns remove <name> [--type A] [-y]\nhostkit dns dev <project>\nhostkit dns ip [--refresh]\nhostkit dns setup <project> [-s subdomain]\nhostkit dns check <domain>\n```\n\n```bash\nhostkit dns config --token cf_xxx --zone example.com\nhostkit dns add myapp                      # A record pointing to VPS IP\nhostkit dns setup myapp                    # DNS + Nginx in one step\nhostkit dns check myapp.example.com\n```\n\n---",
    "section": "Networking",
    "chunkType": "command",
    "tokens": [
      "dns",
      "manage",
      "dns",
      "records",
      "via",
      "cloudflare",
      "and",
      "nip",
      "bash",
      "hostkit",
      "dns",
      "config",
      "token",
      "text",
      "zone",
      "text",
      "show",
      "hostkit",
      "dns",
      "list",
      "type",
      "cname",
      "hostkit",
      "dns",
      "add",
      "name",
      "content",
      "type",
      "ttl",
      "300",
      "proxied",
      "hostkit",
      "dns",
      "remove",
      "name",
      "type",
      "hostkit",
      "dns",
      "dev",
      "project",
      "hostkit",
      "dns",
      "refresh",
      "hostkit",
      "dns",
      "setup",
      "project",
      "subdomain",
      "hostkit",
      "dns",
      "check",
      "domain",
      "bash",
      "hostkit",
      "dns",
      "config",
      "token",
      "xxx",
      "zone",
      "example",
      "com",
      "hostkit",
      "dns",
      "add",
      "myapp",
      "record",
      "pointing",
      "vps",
      "hostkit",
      "dns",
      "setup",
      "myapp",
      "dns",
      "nginx",
      "one",
      "step",
      "hostkit",
      "dns",
      "check",
      "myapp",
      "example",
      "com"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "ratelimit-28",
    "title": "ratelimit",
    "content": "Configure deployment rate limits to prevent AI agents from entering deploy-crash-deploy loops.\n\n**Defaults:** 10 deploys per 60-minute window, 5-minute cooldown after 3 consecutive failures.\n\n```bash\nhostkit ratelimit show <project>\nhostkit ratelimit set <project> [--max INT] [--window DURATION] [--cooldown DURATION] [--failure-limit INT]\nhostkit ratelimit enable <project> [--max 10] [--window 1h]\nhostkit ratelimit disable <project>\nhostkit ratelimit reset <project> [--history] [--force]\n```\n\nDuration formats: `30m`, `1h`, `2d`, or plain number (minutes).\n\n```bash\nhostkit ratelimit disable myapp          # Unlimited deploys\nhostkit ratelimit set myapp --max 20 --window 2h\nhostkit ratelimit reset myapp --history --force\n```\n\n---",
    "section": "Networking",
    "chunkType": "command",
    "tokens": [
      "ratelimit",
      "configure",
      "deployment",
      "rate",
      "limits",
      "prevent",
      "agents",
      "from",
      "entering",
      "deploy",
      "crash",
      "deploy",
      "loops",
      "defaults",
      "deploys",
      "per",
      "minute",
      "window",
      "minute",
      "cooldown",
      "after",
      "consecutive",
      "failures",
      "bash",
      "hostkit",
      "ratelimit",
      "show",
      "project",
      "hostkit",
      "ratelimit",
      "set",
      "project",
      "max",
      "int",
      "window",
      "duration",
      "cooldown",
      "duration",
      "failure",
      "limit",
      "int",
      "hostkit",
      "ratelimit",
      "enable",
      "project",
      "max",
      "window",
      "hostkit",
      "ratelimit",
      "disable",
      "project",
      "hostkit",
      "ratelimit",
      "reset",
      "project",
      "history",
      "force",
      "duration",
      "formats",
      "30m",
      "plain",
      "number",
      "minutes",
      "bash",
      "hostkit",
      "ratelimit",
      "disable",
      "myapp",
      "unlimited",
      "deploys",
      "hostkit",
      "ratelimit",
      "set",
      "myapp",
      "max",
      "window",
      "hostkit",
      "ratelimit",
      "reset",
      "myapp",
      "history",
      "force"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "health-29",
    "title": "health",
    "content": "Check the health of a project. Performs comprehensive checks including process status, HTTP endpoint, database connectivity, and auth service status.\n\n```bash\nhostkit health <project> [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `-e, --endpoint PATH` | HTTP endpoint to check (default: `/health`) |\n| `-w, --watch INT` | Continuously monitor at N second intervals |\n| `--expect TEXT` | Expected content in response body |\n| `-t, --timeout INT` | HTTP timeout in seconds (default: 10) |\n| `-v, --verbose` | Show detailed output including response body |\n| `-a, --alert-on-failure` | Send alerts to configured channels on failure |\n\n```bash\nhostkit health myapp\nhostkit health myapp --watch 30 --alert-on-failure\nhostkit health myapp --endpoint /api/health --expect \"ok\"\n```\n\n---",
    "section": "Monitoring & Diagnostics",
    "chunkType": "command",
    "tokens": [
      "health",
      "check",
      "the",
      "health",
      "project",
      "performs",
      "comprehensive",
      "checks",
      "including",
      "process",
      "status",
      "http",
      "endpoint",
      "database",
      "connectivity",
      "and",
      "auth",
      "service",
      "status",
      "bash",
      "hostkit",
      "health",
      "project",
      "options",
      "flag",
      "description",
      "endpoint",
      "path",
      "http",
      "endpoint",
      "check",
      "default",
      "health",
      "watch",
      "int",
      "continuously",
      "monitor",
      "second",
      "intervals",
      "expect",
      "text",
      "expected",
      "content",
      "response",
      "body",
      "timeout",
      "int",
      "http",
      "timeout",
      "seconds",
      "default",
      "verbose",
      "show",
      "detailed",
      "output",
      "including",
      "response",
      "body",
      "alert",
      "failure",
      "send",
      "alerts",
      "configured",
      "channels",
      "failure",
      "bash",
      "hostkit",
      "health",
      "myapp",
      "hostkit",
      "health",
      "myapp",
      "watch",
      "alert",
      "failure",
      "hostkit",
      "health",
      "myapp",
      "endpoint",
      "api",
      "health",
      "expect"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "diagnose-30",
    "title": "diagnose",
    "content": "Diagnose project failures and suggest fixes. Analyzes deployment history, service logs, and system status to detect common failure patterns.\n\n**Patterns detected:** deploy-crash loops, missing modules, port conflicts, database failures, OOM, permission errors, syntax errors, file not found.\n\n```bash\nhostkit diagnose <project> [OPTIONS]\n```\n\n| Flag | Description |\n|------|-------------|\n| `-v, --verbose` | Include raw log excerpts |\n| `--check-db` | Also test database connectivity |\n| `-q, --quick` | Quick status check only (no log analysis) |\n| `--run-test` | Run entrypoint directly and capture startup output |\n| `--timeout INT` | Timeout for `--run-test` in seconds (default: 10) |\n| `--no-restart` | Don't restart service after `--run-test` |\n\n```bash\nhostkit diagnose myapp\nhostkit diagnose myapp --run-test --timeout 30\nhostkit diagnose myapp --check-db --verbose\n```\n\n---",
    "section": "Monitoring & Diagnostics",
    "chunkType": "command",
    "tokens": [
      "diagnose",
      "diagnose",
      "project",
      "failures",
      "and",
      "suggest",
      "fixes",
      "analyzes",
      "deployment",
      "history",
      "service",
      "logs",
      "and",
      "system",
      "status",
      "detect",
      "common",
      "failure",
      "patterns",
      "patterns",
      "detected",
      "deploy",
      "crash",
      "loops",
      "missing",
      "modules",
      "port",
      "conflicts",
      "database",
      "failures",
      "oom",
      "permission",
      "errors",
      "syntax",
      "errors",
      "file",
      "not",
      "found",
      "bash",
      "hostkit",
      "diagnose",
      "project",
      "options",
      "flag",
      "description",
      "verbose",
      "include",
      "raw",
      "log",
      "excerpts",
      "check",
      "also",
      "test",
      "database",
      "connectivity",
      "quick",
      "quick",
      "status",
      "check",
      "only",
      "log",
      "analysis",
      "run",
      "test",
      "run",
      "entrypoint",
      "directly",
      "and",
      "capture",
      "startup",
      "output",
      "timeout",
      "int",
      "timeout",
      "for",
      "run",
      "test",
      "seconds",
      "default",
      "restart",
      "don",
      "restart",
      "service",
      "after",
      "run",
      "test",
      "bash",
      "hostkit",
      "diagnose",
      "myapp",
      "hostkit",
      "diagnose",
      "myapp",
      "run",
      "test",
      "timeout",
      "hostkit",
      "diagnose",
      "myapp",
      "check",
      "verbose"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "log-31",
    "title": "log",
    "content": "View, search, and export logs from projects.\n\n```bash\nhostkit log show <project> [-n 100] [-f] [-l ERROR] [-s app.log] [--since 1h] [--until now]\nhostkit log search <project> <pattern> [-c 2] [-f file] [-i]\nhostkit log export <project> <output> [--since TEXT] [--until TEXT] [--compress] [--include-journal]\nhostkit log files <project>\nhostkit log stats <project>\nhostkit log clear <project> [--older-than DAYS] --force\nhostkit log setup <project>\nhostkit log setup-rotation\n```\n\n#### show\n\n| Flag | Description |\n|------|-------------|\n| `-n, --lines INT` | Number of lines (default: 100) |\n| `-f, --follow` | Follow log output |\n| `-l, --level LEVEL` | Minimum level (DEBUG, INFO, WARNING, ERROR, CRITICAL) |\n| `-s, --source SOURCE` | Log sources to include (app.log, error.log, journal; repeatable) |\n| `--since TEXT` | Show logs since time (e.g., 1h, 24h, 7d, 2025-12-15) |\n| `--until TEXT` | Show logs until time |\n\n#### search\n\n| Flag | Description |\n|------|-------------|\n| `-c, --context INT` | Lines of context around matches (default: 2) |\n| `-f, --file FILE` | Specific log files to search (repeatable) |\n| `-i, --ignore-case` | Case insensitive (default: yes) |\n| `--case-sensitive` | Case sensitive search |\n\n```bash\nhostkit log show myapp --since 1h --level ERROR\nhostkit log search myapp \"Exception.*timeout\" --context 5\nhostkit log export myapp ./logs.txt.gz --since \"1 day ago\"\n```\n\n---",
    "section": "Monitoring & Diagnostics",
    "chunkType": "command",
    "tokens": [
      "log",
      "view",
      "search",
      "and",
      "export",
      "logs",
      "from",
      "projects",
      "bash",
      "hostkit",
      "log",
      "show",
      "project",
      "100",
      "error",
      "app",
      "log",
      "since",
      "until",
      "now",
      "hostkit",
      "log",
      "search",
      "project",
      "pattern",
      "file",
      "hostkit",
      "log",
      "export",
      "project",
      "output",
      "since",
      "text",
      "until",
      "text",
      "compress",
      "include",
      "journal",
      "hostkit",
      "log",
      "files",
      "project",
      "hostkit",
      "log",
      "stats",
      "project",
      "hostkit",
      "log",
      "clear",
      "project",
      "older",
      "than",
      "days",
      "force",
      "hostkit",
      "log",
      "setup",
      "project",
      "hostkit",
      "log",
      "setup",
      "rotation",
      "show",
      "flag",
      "description",
      "lines",
      "int",
      "number",
      "lines",
      "default",
      "100",
      "follow",
      "follow",
      "log",
      "output",
      "level",
      "level",
      "minimum",
      "level",
      "debug",
      "info",
      "warning",
      "error",
      "critical",
      "source",
      "source",
      "log",
      "sources",
      "include",
      "app",
      "log",
      "error",
      "log",
      "journal",
      "repeatable",
      "since",
      "text",
      "show",
      "logs",
      "since",
      "time",
      "24h",
      "2025",
      "until",
      "text",
      "show",
      "logs",
      "until",
      "time",
      "search",
      "flag",
      "description",
      "context",
      "int",
      "lines",
      "context",
      "around",
      "matches",
      "default",
      "file",
      "file",
      "specific",
      "log",
      "files",
      "search",
      "repeatable",
      "ignore",
      "case",
      "case",
      "insensitive",
      "default",
      "yes",
      "case",
      "sensitive",
      "case",
      "sensitive",
      "search",
      "bash",
      "hostkit",
      "log",
      "show",
      "myapp",
      "since",
      "level",
      "error",
      "hostkit",
      "log",
      "search",
      "myapp",
      "exception",
      "timeout",
      "context",
      "hostkit",
      "log",
      "export",
      "myapp",
      "logs",
      "txt",
      "since",
      "day",
      "ago"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "metrics-32",
    "title": "metrics",
    "content": "Collect and view project metrics. Track CPU, memory, disk, requests, and error rates over time.\n\n```bash\nhostkit metrics show <project> [--since 1h] [-n 10]\nhostkit metrics history <project> [--since 1h] [-n 50]\nhostkit metrics enable <project>\nhostkit metrics disable <project>\nhostkit metrics config <project> [--show] [--interval INT] [--retention INT] ...\nhostkit metrics collect [<project>|--all]\nhostkit metrics setup-timer\nhostkit metrics cleanup [<project>|--all] [--force]\n```\n\n#### config\n\n| Flag | Description |\n|------|-------------|\n| `--show` | Show current configuration |\n| `--interval INT` | Collection interval in seconds |\n| `--retention INT` | Retention period in days |\n| `--cpu-warning FLOAT` | CPU warning threshold (%) |\n| `--cpu-critical FLOAT` | CPU critical threshold (%) |\n| `--memory-warning FLOAT` | Memory warning threshold (%) |\n| `--memory-critical FLOAT` | Memory critical threshold (%) |\n| `--error-rate-warning FLOAT` | Error rate warning threshold (%) |\n| `--error-rate-critical FLOAT` | Error rate critical threshold (%) |\n\n```bash\nhostkit metrics enable myapp\nhostkit metrics config myapp --interval 30 --cpu-warning 75 --cpu-critical 90\nhostkit metrics show myapp --since 24h\n```\n\n---",
    "section": "Monitoring & Diagnostics",
    "chunkType": "command",
    "tokens": [
      "metrics",
      "collect",
      "and",
      "view",
      "project",
      "metrics",
      "track",
      "cpu",
      "memory",
      "disk",
      "requests",
      "and",
      "error",
      "rates",
      "over",
      "time",
      "bash",
      "hostkit",
      "metrics",
      "show",
      "project",
      "since",
      "hostkit",
      "metrics",
      "history",
      "project",
      "since",
      "hostkit",
      "metrics",
      "enable",
      "project",
      "hostkit",
      "metrics",
      "disable",
      "project",
      "hostkit",
      "metrics",
      "config",
      "project",
      "show",
      "interval",
      "int",
      "retention",
      "int",
      "hostkit",
      "metrics",
      "collect",
      "project",
      "all",
      "hostkit",
      "metrics",
      "setup",
      "timer",
      "hostkit",
      "metrics",
      "cleanup",
      "project",
      "all",
      "force",
      "config",
      "flag",
      "description",
      "show",
      "show",
      "current",
      "configuration",
      "interval",
      "int",
      "collection",
      "interval",
      "seconds",
      "retention",
      "int",
      "retention",
      "period",
      "days",
      "cpu",
      "warning",
      "float",
      "cpu",
      "warning",
      "threshold",
      "cpu",
      "critical",
      "float",
      "cpu",
      "critical",
      "threshold",
      "memory",
      "warning",
      "float",
      "memory",
      "warning",
      "threshold",
      "memory",
      "critical",
      "float",
      "memory",
      "critical",
      "threshold",
      "error",
      "rate",
      "warning",
      "float",
      "error",
      "rate",
      "warning",
      "threshold",
      "error",
      "rate",
      "critical",
      "float",
      "error",
      "rate",
      "critical",
      "threshold",
      "bash",
      "hostkit",
      "metrics",
      "enable",
      "myapp",
      "hostkit",
      "metrics",
      "config",
      "myapp",
      "interval",
      "cpu",
      "warning",
      "cpu",
      "critical",
      "hostkit",
      "metrics",
      "show",
      "myapp",
      "since",
      "24h"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "alert-33",
    "title": "alert",
    "content": "Configure notifications for deployment, migration, and health check events. Supports webhook, email, and Slack channels.\n\n```bash\nhostkit alert channel add <project> <webhook|email|slack> [OPTIONS]\nhostkit alert channel list <project>\nhostkit alert channel remove <project> <name> [--force]\nhostkit alert channel test <project> <name>\nhostkit alert channel enable <project> <name>\nhostkit alert channel disable <project> <name>\nhostkit alert history <project> [-n 20] [--type deploy|migrate|health|test]\nhostkit alert mute <project> [-d 1h] [-c channel]\nhostkit alert unmute <project> [-c channel]\n```\n\n#### channel add\n\n| Channel | Flags |\n|---------|-------|\n| webhook | `--url URL`, `--secret TEXT` (HMAC signing) |\n| email | `--to EMAIL` (repeatable), `--from TEXT`, `--subject-prefix TEXT` |\n| slack | `--webhook-url URL` |\n\nAll channels: `--name TEXT` (default: \"default\")\n\n```bash\nhostkit alert channel add myapp webhook --url https://example.com/hook --secret s3cret\nhostkit alert channel add myapp slack --webhook-url https://hooks.slack.com/services/...\nhostkit alert mute myapp --duration 2h\n```\n\n---",
    "section": "Monitoring & Diagnostics",
    "chunkType": "command",
    "tokens": [
      "alert",
      "configure",
      "notifications",
      "for",
      "deployment",
      "migration",
      "and",
      "health",
      "check",
      "events",
      "supports",
      "webhook",
      "email",
      "and",
      "slack",
      "channels",
      "bash",
      "hostkit",
      "alert",
      "channel",
      "add",
      "project",
      "webhook",
      "email",
      "slack",
      "options",
      "hostkit",
      "alert",
      "channel",
      "list",
      "project",
      "hostkit",
      "alert",
      "channel",
      "remove",
      "project",
      "name",
      "force",
      "hostkit",
      "alert",
      "channel",
      "test",
      "project",
      "name",
      "hostkit",
      "alert",
      "channel",
      "enable",
      "project",
      "name",
      "hostkit",
      "alert",
      "channel",
      "disable",
      "project",
      "name",
      "hostkit",
      "alert",
      "history",
      "project",
      "type",
      "deploy",
      "migrate",
      "health",
      "test",
      "hostkit",
      "alert",
      "mute",
      "project",
      "channel",
      "hostkit",
      "alert",
      "unmute",
      "project",
      "channel",
      "channel",
      "add",
      "channel",
      "flags",
      "webhook",
      "url",
      "url",
      "secret",
      "text",
      "hmac",
      "signing",
      "email",
      "email",
      "repeatable",
      "from",
      "text",
      "subject",
      "prefix",
      "text",
      "slack",
      "webhook",
      "url",
      "url",
      "all",
      "channels",
      "name",
      "text",
      "default",
      "default",
      "bash",
      "hostkit",
      "alert",
      "channel",
      "add",
      "myapp",
      "webhook",
      "url",
      "https",
      "example",
      "com",
      "hook",
      "secret",
      "s3cret",
      "hostkit",
      "alert",
      "channel",
      "add",
      "myapp",
      "slack",
      "webhook",
      "url",
      "https",
      "hooks",
      "slack",
      "com",
      "services",
      "hostkit",
      "alert",
      "mute",
      "myapp",
      "duration"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "events-34",
    "title": "events",
    "content": "View structured records of HostKit operations (deploys, health checks, migrations, etc.).\n\n```bash\nhostkit events list <project> [-c category] [-l level] [--since 1h] [--until TEXT] [-n 50]\nhostkit events show <event_id>\nhostkit events stats <project> [--since 24h]\nhostkit events cleanup [--older-than 30] [--force]\n```\n\nCategories: deploy, health, auth, migrate, and more. Comma-separate for multiple.\n\n```bash\nhostkit events list myapp --category deploy,health --since 24h\nhostkit events stats myapp --since 7d\n```\n\n---",
    "section": "Monitoring & Diagnostics",
    "chunkType": "command",
    "tokens": [
      "events",
      "view",
      "structured",
      "records",
      "hostkit",
      "operations",
      "deploys",
      "health",
      "checks",
      "migrations",
      "etc",
      "bash",
      "hostkit",
      "events",
      "list",
      "project",
      "category",
      "level",
      "since",
      "until",
      "text",
      "hostkit",
      "events",
      "show",
      "event",
      "hostkit",
      "events",
      "stats",
      "project",
      "since",
      "24h",
      "hostkit",
      "events",
      "cleanup",
      "older",
      "than",
      "force",
      "categories",
      "deploy",
      "health",
      "auth",
      "migrate",
      "and",
      "more",
      "comma",
      "separate",
      "for",
      "multiple",
      "bash",
      "hostkit",
      "events",
      "list",
      "myapp",
      "category",
      "deploy",
      "health",
      "since",
      "24h",
      "hostkit",
      "events",
      "stats",
      "myapp",
      "since"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "storage-minio-35",
    "title": "storage / minio",
    "content": "Manage MinIO S3-compatible object storage. Each project gets a bucket (`hostkit-{project}`) with isolated credentials. Commands are available under both `hostkit storage` and `hostkit minio`.\n\n```bash\nhostkit storage enable <project> [--public]\nhostkit storage disable <project> --force\nhostkit storage status\nhostkit storage setup [--root-password TEXT]\nhostkit storage list\nhostkit storage create-bucket <bucket> [<project>]\nhostkit storage delete-bucket <bucket> --force\nhostkit storage credentials <project> [--regenerate] [--env-format]\nhostkit storage usage\nhostkit storage policy <bucket> [<policy>] [--prefix TEXT] [--show]\nhostkit storage proxy <domain> [--ssl]\n```\n\nPolicies: private, public-read, public-write, public-read-write.\n\n```bash\nhostkit storage enable myapp --public\nhostkit storage credentials myapp --env-format\nhostkit storage policy hostkit-myapp public-read\n```\n\n---",
    "section": "Storage",
    "chunkType": "command",
    "tokens": [
      "storage",
      "minio",
      "manage",
      "minio",
      "compatible",
      "object",
      "storage",
      "each",
      "project",
      "gets",
      "bucket",
      "hostkit",
      "project",
      "with",
      "isolated",
      "credentials",
      "commands",
      "are",
      "available",
      "under",
      "both",
      "hostkit",
      "storage",
      "and",
      "hostkit",
      "minio",
      "bash",
      "hostkit",
      "storage",
      "enable",
      "project",
      "public",
      "hostkit",
      "storage",
      "disable",
      "project",
      "force",
      "hostkit",
      "storage",
      "status",
      "hostkit",
      "storage",
      "setup",
      "root",
      "password",
      "text",
      "hostkit",
      "storage",
      "list",
      "hostkit",
      "storage",
      "create",
      "bucket",
      "bucket",
      "project",
      "hostkit",
      "storage",
      "delete",
      "bucket",
      "bucket",
      "force",
      "hostkit",
      "storage",
      "credentials",
      "project",
      "regenerate",
      "env",
      "format",
      "hostkit",
      "storage",
      "usage",
      "hostkit",
      "storage",
      "policy",
      "bucket",
      "policy",
      "prefix",
      "text",
      "show",
      "hostkit",
      "storage",
      "proxy",
      "domain",
      "ssl",
      "policies",
      "private",
      "public",
      "read",
      "public",
      "write",
      "public",
      "read",
      "write",
      "bash",
      "hostkit",
      "storage",
      "enable",
      "myapp",
      "public",
      "hostkit",
      "storage",
      "credentials",
      "myapp",
      "env",
      "format",
      "hostkit",
      "storage",
      "policy",
      "hostkit",
      "myapp",
      "public",
      "read"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "backup-36",
    "title": "backup",
    "content": "Create, list, restore, and manage backups. Supports local storage and Cloudflare R2 cloud sync.\n\n**Backup types:** full (db + files + env), db, files, credentials.\n\n**Retention:** 7 daily + 4 weekly (local), 30 daily + 12 weekly (R2).\n\n```bash\nhostkit backup create <project> [--type full|db|files|credentials] [--full] [--r2]\nhostkit backup list [<project>] [--all] [--r2]\nhostkit backup restore <project> <backup_id> [--db] [--files] [--env] [--from-r2] [--force]\nhostkit backup verify <backup_id>\nhostkit backup delete <backup_id> [--force]\nhostkit backup rotate [<project>|--all]\nhostkit backup export <backup_id> <destination>\nhostkit backup stats [<project>]\nhostkit backup credentials <project>\nhostkit backup setup-timer [--time HH:MM] [--r2]\nhostkit backup run-all [--type full|db|files] [--rotate] [--r2]\nhostkit backup r2 sync <backup_id>\nhostkit backup r2 list [<project>]\nhostkit backup r2 rotate [<project>|--all]\nhostkit backup r2 download <backup_id> [<destination>]\nhostkit backup r2 status\n```\n\n```bash\nhostkit backup create myapp --full --r2\nhostkit backup restore myapp bk_20250101_020000 --force\nhostkit backup setup-timer --time 02:00 --r2\n```\n\n---",
    "section": "Storage",
    "chunkType": "command",
    "tokens": [
      "backup",
      "create",
      "list",
      "restore",
      "and",
      "manage",
      "backups",
      "supports",
      "local",
      "storage",
      "and",
      "cloudflare",
      "cloud",
      "sync",
      "backup",
      "types",
      "full",
      "files",
      "env",
      "files",
      "credentials",
      "retention",
      "daily",
      "weekly",
      "local",
      "daily",
      "weekly",
      "bash",
      "hostkit",
      "backup",
      "create",
      "project",
      "type",
      "full",
      "files",
      "credentials",
      "full",
      "hostkit",
      "backup",
      "list",
      "project",
      "all",
      "hostkit",
      "backup",
      "restore",
      "project",
      "backup",
      "files",
      "env",
      "from",
      "force",
      "hostkit",
      "backup",
      "verify",
      "backup",
      "hostkit",
      "backup",
      "delete",
      "backup",
      "force",
      "hostkit",
      "backup",
      "rotate",
      "project",
      "all",
      "hostkit",
      "backup",
      "export",
      "backup",
      "destination",
      "hostkit",
      "backup",
      "stats",
      "project",
      "hostkit",
      "backup",
      "credentials",
      "project",
      "hostkit",
      "backup",
      "setup",
      "timer",
      "time",
      "hostkit",
      "backup",
      "run",
      "all",
      "type",
      "full",
      "files",
      "rotate",
      "hostkit",
      "backup",
      "sync",
      "backup",
      "hostkit",
      "backup",
      "list",
      "project",
      "hostkit",
      "backup",
      "rotate",
      "project",
      "all",
      "hostkit",
      "backup",
      "download",
      "backup",
      "destination",
      "hostkit",
      "backup",
      "status",
      "bash",
      "hostkit",
      "backup",
      "create",
      "myapp",
      "full",
      "hostkit",
      "backup",
      "restore",
      "myapp",
      "20250101",
      "020000",
      "force",
      "hostkit",
      "backup",
      "setup",
      "timer",
      "time"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "r2-37",
    "title": "r2",
    "content": "Manage Cloudflare R2 object storage. S3-compatible with zero egress fees. Each project gets bucket `hostkit-{project}`.\n\n```bash\nhostkit r2 enable <project>\nhostkit r2 disable <project> --force\nhostkit r2 status <project>\nhostkit r2 upload <project> <local_path> <remote_key> [--content-type TEXT]\nhostkit r2 download <project> <remote_key> <local_path>\nhostkit r2 list <project> [--prefix TEXT] [--max-keys INT]\nhostkit r2 delete <project> <key> --force\nhostkit r2 presign <project> <key> [--expires 3600] [--method GET|PUT]\nhostkit r2 usage\nhostkit r2 credentials <project> [--env-format]\n```\n\n```bash\nhostkit r2 enable myapp\nhostkit r2 upload myapp ./photo.jpg uploads/photo.jpg\nhostkit r2 presign myapp uploads/photo.jpg --expires 3600 --method GET\n```\n\n---",
    "section": "Storage",
    "chunkType": "service",
    "tokens": [
      "manage",
      "cloudflare",
      "object",
      "storage",
      "compatible",
      "with",
      "zero",
      "egress",
      "fees",
      "each",
      "project",
      "gets",
      "bucket",
      "hostkit",
      "project",
      "bash",
      "hostkit",
      "enable",
      "project",
      "hostkit",
      "disable",
      "project",
      "force",
      "hostkit",
      "status",
      "project",
      "hostkit",
      "upload",
      "project",
      "local",
      "path",
      "remote",
      "key",
      "content",
      "type",
      "text",
      "hostkit",
      "download",
      "project",
      "remote",
      "key",
      "local",
      "path",
      "hostkit",
      "list",
      "project",
      "prefix",
      "text",
      "max",
      "keys",
      "int",
      "hostkit",
      "delete",
      "project",
      "key",
      "force",
      "hostkit",
      "presign",
      "project",
      "key",
      "expires",
      "3600",
      "method",
      "get",
      "put",
      "hostkit",
      "usage",
      "hostkit",
      "credentials",
      "project",
      "env",
      "format",
      "bash",
      "hostkit",
      "enable",
      "myapp",
      "hostkit",
      "upload",
      "myapp",
      "photo",
      "jpg",
      "uploads",
      "photo",
      "jpg",
      "hostkit",
      "presign",
      "myapp",
      "uploads",
      "photo",
      "jpg",
      "expires",
      "3600",
      "method",
      "get"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "vector-38",
    "title": "vector",
    "content": "Vector embedding and semantic search service. Document ingestion, chunking, embeddings, and similarity search.\n\n```bash\nhostkit vector setup [--force]\nhostkit vector status\nhostkit vector enable <project>\nhostkit vector disable <project> --force\nhostkit vector key <project> [--regenerate]\nhostkit vector collections <project>\nhostkit vector create-collection <project> <name> [-d description]\nhostkit vector delete-collection <project> <name> --force\nhostkit vector collection-info <project> <collection>\nhostkit vector ingest <project> <collection> <source> [--url] [--stdin] [--name TEXT] [--wait]\nhostkit vector search <project> <collection> \"<query>\" [-n 5] [-t 0.0]\nhostkit vector jobs <project> [--status queued|processing|completed|failed]\nhostkit vector job <project> <job_id>\nhostkit vector usage <project>\n```\n\n```bash\nhostkit vector enable myapp\nhostkit vector create-collection myapp docs -d \"Product documentation\"\nhostkit vector ingest myapp docs https://example.com/docs --url --wait\nhostkit vector search myapp docs \"how to reset password\" -n 3\n```\n\n---",
    "section": "Storage",
    "chunkType": "service",
    "tokens": [
      "vector",
      "vector",
      "embedding",
      "and",
      "semantic",
      "search",
      "service",
      "document",
      "ingestion",
      "chunking",
      "embeddings",
      "and",
      "similarity",
      "search",
      "bash",
      "hostkit",
      "vector",
      "setup",
      "force",
      "hostkit",
      "vector",
      "status",
      "hostkit",
      "vector",
      "enable",
      "project",
      "hostkit",
      "vector",
      "disable",
      "project",
      "force",
      "hostkit",
      "vector",
      "key",
      "project",
      "regenerate",
      "hostkit",
      "vector",
      "collections",
      "project",
      "hostkit",
      "vector",
      "create",
      "collection",
      "project",
      "name",
      "description",
      "hostkit",
      "vector",
      "delete",
      "collection",
      "project",
      "name",
      "force",
      "hostkit",
      "vector",
      "collection",
      "info",
      "project",
      "collection",
      "hostkit",
      "vector",
      "ingest",
      "project",
      "collection",
      "source",
      "url",
      "stdin",
      "name",
      "text",
      "wait",
      "hostkit",
      "vector",
      "search",
      "project",
      "collection",
      "query",
      "hostkit",
      "vector",
      "jobs",
      "project",
      "status",
      "queued",
      "processing",
      "completed",
      "failed",
      "hostkit",
      "vector",
      "job",
      "project",
      "job",
      "hostkit",
      "vector",
      "usage",
      "project",
      "bash",
      "hostkit",
      "vector",
      "enable",
      "myapp",
      "hostkit",
      "vector",
      "create",
      "collection",
      "myapp",
      "docs",
      "product",
      "documentation",
      "hostkit",
      "vector",
      "ingest",
      "myapp",
      "docs",
      "https",
      "example",
      "com",
      "docs",
      "url",
      "wait",
      "hostkit",
      "vector",
      "search",
      "myapp",
      "docs",
      "how",
      "reset",
      "password"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "image-39",
    "title": "image",
    "content": "AI image generation using Black Forest Labs Flux models.\n\n**Models:** flux-1.1-pro ($0.04/image, 256-1440px), flux-1.1-pro-ultra ($0.06/image, aspect ratio).\n\n**Rate limits:** 100/hour, 500/day per project.\n\n```bash\nhostkit image generate <project> \"<prompt>\" [-m model] [-w width] [-h height] [-a ratio]\nhostkit image models\nhostkit image usage <project>\nhostkit image history <project> [-n 10]\nhostkit image config [--set-key KEY]\n```\n\nValid aspect ratios (ultra model): 21:9, 16:9, 3:2, 4:3, 1:1, 3:4, 2:3, 9:16, 9:21.\n\n```bash\nhostkit image generate myapp \"A sunset over mountains\" -w 1024 -h 768\nhostkit image generate myapp \"Product photo\" -m flux-1.1-pro-ultra -a 16:9\n```\n\n---",
    "section": "Storage",
    "chunkType": "command",
    "tokens": [
      "image",
      "image",
      "generation",
      "using",
      "black",
      "forest",
      "labs",
      "flux",
      "models",
      "models",
      "flux",
      "pro",
      "image",
      "256",
      "1440px",
      "flux",
      "pro",
      "ultra",
      "image",
      "aspect",
      "ratio",
      "rate",
      "limits",
      "100",
      "hour",
      "500",
      "day",
      "per",
      "project",
      "bash",
      "hostkit",
      "image",
      "generate",
      "project",
      "prompt",
      "model",
      "width",
      "height",
      "ratio",
      "hostkit",
      "image",
      "models",
      "hostkit",
      "image",
      "usage",
      "project",
      "hostkit",
      "image",
      "history",
      "project",
      "hostkit",
      "image",
      "config",
      "set",
      "key",
      "key",
      "valid",
      "aspect",
      "ratios",
      "ultra",
      "model",
      "bash",
      "hostkit",
      "image",
      "generate",
      "myapp",
      "sunset",
      "over",
      "mountains",
      "1024",
      "768",
      "hostkit",
      "image",
      "generate",
      "myapp",
      "product",
      "photo",
      "flux",
      "pro",
      "ultra"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "worker-40",
    "title": "worker",
    "content": "Manage Celery background workers. Workers run as systemd services.\n\n**Requirements:** Redis running, Celery installed in project virtualenv.\n\n```bash\nhostkit worker add <project> [-n name] [-c 2] [-q queues] [-A app] [-l info]\nhostkit worker remove <project> [-n name] [-f]\nhostkit worker list <project>\nhostkit worker status <project>\nhostkit worker start <project> [-n name]\nhostkit worker stop <project> [-n name]\nhostkit worker restart <project> [-n name]\nhostkit worker scale <project> <concurrency> [-n name]\nhostkit worker logs <project> [-n name] [-l 50] [-f]\nhostkit worker beat enable <project> [-A app] [-l info]\nhostkit worker beat disable <project>\nhostkit worker beat status <project>\nhostkit worker beat logs <project> [-l 50] [-f]\n```\n\n```bash\nhostkit worker add myapp --concurrency 4 --queues emails,notifications\nhostkit worker scale myapp 8 --name email-worker\nhostkit worker beat enable myapp\n```\n\n---",
    "section": "Background Jobs",
    "chunkType": "command",
    "tokens": [
      "worker",
      "manage",
      "celery",
      "background",
      "workers",
      "workers",
      "run",
      "systemd",
      "services",
      "requirements",
      "redis",
      "running",
      "celery",
      "installed",
      "project",
      "virtualenv",
      "bash",
      "hostkit",
      "worker",
      "add",
      "project",
      "name",
      "queues",
      "app",
      "info",
      "hostkit",
      "worker",
      "remove",
      "project",
      "name",
      "hostkit",
      "worker",
      "list",
      "project",
      "hostkit",
      "worker",
      "status",
      "project",
      "hostkit",
      "worker",
      "start",
      "project",
      "name",
      "hostkit",
      "worker",
      "stop",
      "project",
      "name",
      "hostkit",
      "worker",
      "restart",
      "project",
      "name",
      "hostkit",
      "worker",
      "scale",
      "project",
      "concurrency",
      "name",
      "hostkit",
      "worker",
      "logs",
      "project",
      "name",
      "hostkit",
      "worker",
      "beat",
      "enable",
      "project",
      "app",
      "info",
      "hostkit",
      "worker",
      "beat",
      "disable",
      "project",
      "hostkit",
      "worker",
      "beat",
      "status",
      "project",
      "hostkit",
      "worker",
      "beat",
      "logs",
      "project",
      "bash",
      "hostkit",
      "worker",
      "add",
      "myapp",
      "concurrency",
      "queues",
      "emails",
      "notifications",
      "hostkit",
      "worker",
      "scale",
      "myapp",
      "name",
      "email",
      "worker",
      "hostkit",
      "worker",
      "beat",
      "enable",
      "myapp"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "cron-41",
    "title": "cron",
    "content": "Manage scheduled tasks using systemd timers.\n\n**Schedule formats:** cron expressions (`\"0 3 * * *\"`), shortcuts (`@daily`, `@hourly`, `@weekly`), systemd OnCalendar (`\"*-*-* 03:00:00\"`).\n\n```bash\nhostkit cron add <project> <name> <schedule> <command> [-d description]\nhostkit cron list <project>\nhostkit cron remove <project> <name> [-f]\nhostkit cron run <project> <name>\nhostkit cron logs <project> <name> [-n 50] [-f]\nhostkit cron enable <project> <name>\nhostkit cron disable <project> <name>\nhostkit cron info <project> <name>\n```\n\n```bash\nhostkit cron add myapp cleanup \"0 3 * * *\" \"python manage.py cleanup\" -d \"Daily cleanup\"\nhostkit cron add myapp sync @hourly \"python sync_data.py\"\nhostkit cron run myapp cleanup    # Run immediately\n```\n\n---",
    "section": "Background Jobs",
    "chunkType": "command",
    "tokens": [
      "cron",
      "manage",
      "scheduled",
      "tasks",
      "using",
      "systemd",
      "timers",
      "schedule",
      "formats",
      "cron",
      "expressions",
      "shortcuts",
      "daily",
      "hourly",
      "weekly",
      "systemd",
      "oncalendar",
      "bash",
      "hostkit",
      "cron",
      "add",
      "project",
      "name",
      "schedule",
      "command",
      "description",
      "hostkit",
      "cron",
      "list",
      "project",
      "hostkit",
      "cron",
      "remove",
      "project",
      "name",
      "hostkit",
      "cron",
      "run",
      "project",
      "name",
      "hostkit",
      "cron",
      "logs",
      "project",
      "name",
      "hostkit",
      "cron",
      "enable",
      "project",
      "name",
      "hostkit",
      "cron",
      "disable",
      "project",
      "name",
      "hostkit",
      "cron",
      "info",
      "project",
      "name",
      "bash",
      "hostkit",
      "cron",
      "add",
      "myapp",
      "cleanup",
      "python",
      "manage",
      "cleanup",
      "daily",
      "cleanup",
      "hostkit",
      "cron",
      "add",
      "myapp",
      "sync",
      "hourly",
      "python",
      "sync",
      "data",
      "hostkit",
      "cron",
      "run",
      "myapp",
      "cleanup",
      "run",
      "immediately"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "ssh-42",
    "title": "ssh",
    "content": "Manage SSH access for projects.\n\n```bash\nhostkit ssh add-key <project> [KEY] [--github USER] [--file PATH]\nhostkit ssh remove-key <project> <fingerprint>\nhostkit ssh list-keys <project>\nhostkit ssh sessions <project>\nhostkit ssh kick <project> [<session_id>|--all]\nhostkit ssh enable <project>\nhostkit ssh disable <project> [--force]\nhostkit ssh status [<project>]\n```\n\n```bash\nhostkit ssh add-key myapp --github octocat\nhostkit ssh kick myapp --all\n```\n\n---",
    "section": "Access & Security",
    "chunkType": "command",
    "tokens": [
      "ssh",
      "manage",
      "ssh",
      "access",
      "for",
      "projects",
      "bash",
      "hostkit",
      "ssh",
      "add",
      "key",
      "project",
      "key",
      "github",
      "user",
      "file",
      "path",
      "hostkit",
      "ssh",
      "remove",
      "key",
      "project",
      "fingerprint",
      "hostkit",
      "ssh",
      "list",
      "keys",
      "project",
      "hostkit",
      "ssh",
      "sessions",
      "project",
      "hostkit",
      "ssh",
      "kick",
      "project",
      "session",
      "all",
      "hostkit",
      "ssh",
      "enable",
      "project",
      "hostkit",
      "ssh",
      "disable",
      "project",
      "force",
      "hostkit",
      "ssh",
      "status",
      "project",
      "bash",
      "hostkit",
      "ssh",
      "add",
      "key",
      "myapp",
      "github",
      "octocat",
      "hostkit",
      "ssh",
      "kick",
      "myapp",
      "all"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "permissions-43",
    "title": "permissions",
    "content": "Manage sudoers and access control. Root only.\n\n```bash\nhostkit permissions gaps\nhostkit permissions show <project>\nhostkit permissions sync [<project>|--all] [--dry-run]\nhostkit permissions verify <project> \"<command>\"\n```\n\n```bash\nhostkit permissions sync --all\nhostkit permissions verify myapp \"deploy myapp\"\n```\n\n---",
    "section": "Access & Security",
    "chunkType": "command",
    "tokens": [
      "permissions",
      "manage",
      "sudoers",
      "and",
      "access",
      "control",
      "root",
      "only",
      "bash",
      "hostkit",
      "permissions",
      "gaps",
      "hostkit",
      "permissions",
      "show",
      "project",
      "hostkit",
      "permissions",
      "sync",
      "project",
      "all",
      "dry",
      "run",
      "hostkit",
      "permissions",
      "verify",
      "project",
      "command",
      "bash",
      "hostkit",
      "permissions",
      "sync",
      "all",
      "hostkit",
      "permissions",
      "verify",
      "myapp",
      "deploy",
      "myapp"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "operator-44",
    "title": "operator",
    "content": "Manage HostKit operators (AI agent users). Root only.\n\n```bash\nhostkit operator setup [-u ai-operator]\nhostkit operator add-key [KEY] [-u user] [--github USER] [--file PATH]\nhostkit operator test [-u ai-operator]\nhostkit operator revoke [-u user] [-f]\nhostkit operator list\nhostkit operator set-project-key [KEY] [--file PATH] [--github USER] [--clear]\nhostkit operator show-project-keys\nhostkit operator sync-project-keys\n```\n\n```bash\nhostkit operator setup\nhostkit operator add-key --github myuser\nhostkit operator set-project-key --github myuser   # Auto-add to new projects\nhostkit operator sync-project-keys                  # Retroactively add to existing\n```\n\n---",
    "section": "Access & Security",
    "chunkType": "command",
    "tokens": [
      "operator",
      "manage",
      "hostkit",
      "operators",
      "agent",
      "users",
      "root",
      "only",
      "bash",
      "hostkit",
      "operator",
      "setup",
      "operator",
      "hostkit",
      "operator",
      "add",
      "key",
      "key",
      "user",
      "github",
      "user",
      "file",
      "path",
      "hostkit",
      "operator",
      "test",
      "operator",
      "hostkit",
      "operator",
      "revoke",
      "user",
      "hostkit",
      "operator",
      "list",
      "hostkit",
      "operator",
      "set",
      "project",
      "key",
      "key",
      "file",
      "path",
      "github",
      "user",
      "clear",
      "hostkit",
      "operator",
      "show",
      "project",
      "keys",
      "hostkit",
      "operator",
      "sync",
      "project",
      "keys",
      "bash",
      "hostkit",
      "operator",
      "setup",
      "hostkit",
      "operator",
      "add",
      "key",
      "github",
      "myuser",
      "hostkit",
      "operator",
      "set",
      "project",
      "key",
      "github",
      "myuser",
      "auto",
      "add",
      "new",
      "projects",
      "hostkit",
      "operator",
      "sync",
      "project",
      "keys",
      "retroactively",
      "add",
      "existing"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "limits-45",
    "title": "limits",
    "content": "Configure CPU, memory, and disk limits for projects using Linux cgroups via systemd.\n\n**Defaults:** 100% CPU (1 core), 512MB memory (hard), 384MB memory (soft), 100 tasks, 2048MB disk.\n\n```bash\nhostkit limits show <project>\nhostkit limits set <project> [OPTIONS]\nhostkit limits reset <project>\nhostkit limits apply <project>\nhostkit limits disk <project>\n```\n\n| Flag | Description |\n|------|-------------|\n| `--cpu INT` | CPU quota as percentage (100 = 1 core) |\n| `--memory SIZE` | Hard memory limit (e.g., 256M, 1G) |\n| `--memory-high SIZE` | Soft memory limit / throttle threshold |\n| `--tasks INT` | Max processes/threads |\n| `--disk SIZE` | Disk quota (e.g., 1G, 2048M) |\n| `--enabled/--disabled` | Enable or disable limits |\n| `--unlimited` | Clear all limits |\n| `--apply/--no-apply` | Apply to running service (default: yes) |\n\n```bash\nhostkit limits set myapp --cpu 200 --memory 1G --disk 5G\nhostkit limits set myapp --unlimited\n```\n\n---",
    "section": "Access & Security",
    "chunkType": "command",
    "tokens": [
      "limits",
      "configure",
      "cpu",
      "memory",
      "and",
      "disk",
      "limits",
      "for",
      "projects",
      "using",
      "linux",
      "cgroups",
      "via",
      "systemd",
      "defaults",
      "100",
      "cpu",
      "core",
      "512mb",
      "memory",
      "hard",
      "384mb",
      "memory",
      "soft",
      "100",
      "tasks",
      "2048mb",
      "disk",
      "bash",
      "hostkit",
      "limits",
      "show",
      "project",
      "hostkit",
      "limits",
      "set",
      "project",
      "options",
      "hostkit",
      "limits",
      "reset",
      "project",
      "hostkit",
      "limits",
      "apply",
      "project",
      "hostkit",
      "limits",
      "disk",
      "project",
      "flag",
      "description",
      "cpu",
      "int",
      "cpu",
      "quota",
      "percentage",
      "100",
      "core",
      "memory",
      "size",
      "hard",
      "memory",
      "limit",
      "256m",
      "memory",
      "high",
      "size",
      "soft",
      "memory",
      "limit",
      "throttle",
      "threshold",
      "tasks",
      "int",
      "max",
      "processes",
      "threads",
      "disk",
      "size",
      "disk",
      "quota",
      "2048m",
      "enabled",
      "disabled",
      "enable",
      "disable",
      "limits",
      "unlimited",
      "clear",
      "all",
      "limits",
      "apply",
      "apply",
      "apply",
      "running",
      "service",
      "default",
      "yes",
      "bash",
      "hostkit",
      "limits",
      "set",
      "myapp",
      "cpu",
      "200",
      "memory",
      "disk",
      "hostkit",
      "limits",
      "set",
      "myapp",
      "unlimited"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "sandbox-46",
    "title": "sandbox",
    "content": "Manage temporary, isolated project clones for safe experimentation. Maximum 3 per project, auto-expire after 24h by default. Root only.\n\n```bash\nhostkit sandbox create <project> [--ttl 24h] [--no-db]\nhostkit sandbox list [<project>] [--all]\nhostkit sandbox info <sandbox_name>\nhostkit sandbox delete <sandbox_name> --force\nhostkit sandbox promote <sandbox_name> [--dry-run]\nhostkit sandbox extend <sandbox_name> [--hours 24]\nhostkit sandbox cleanup\n```\n\n```bash\nhostkit sandbox create myapp --ttl 48h\nhostkit sandbox promote myapp-sandbox-a3f9 --dry-run\nhostkit sandbox cleanup    # Delete all expired\n```\n\n---",
    "section": "Access & Security",
    "chunkType": "command",
    "tokens": [
      "sandbox",
      "manage",
      "temporary",
      "isolated",
      "project",
      "clones",
      "for",
      "safe",
      "experimentation",
      "maximum",
      "per",
      "project",
      "auto",
      "expire",
      "after",
      "24h",
      "default",
      "root",
      "only",
      "bash",
      "hostkit",
      "sandbox",
      "create",
      "project",
      "ttl",
      "24h",
      "hostkit",
      "sandbox",
      "list",
      "project",
      "all",
      "hostkit",
      "sandbox",
      "info",
      "sandbox",
      "name",
      "hostkit",
      "sandbox",
      "delete",
      "sandbox",
      "name",
      "force",
      "hostkit",
      "sandbox",
      "promote",
      "sandbox",
      "name",
      "dry",
      "run",
      "hostkit",
      "sandbox",
      "extend",
      "sandbox",
      "name",
      "hours",
      "hostkit",
      "sandbox",
      "cleanup",
      "bash",
      "hostkit",
      "sandbox",
      "create",
      "myapp",
      "ttl",
      "48h",
      "hostkit",
      "sandbox",
      "promote",
      "myapp",
      "sandbox",
      "a3f9",
      "dry",
      "run",
      "hostkit",
      "sandbox",
      "cleanup",
      "delete",
      "all",
      "expired"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "exec-47",
    "title": "exec",
    "content": "Execute a command in a project's context (as the project user, in the app directory, with .env loaded).\n\n```bash\nhostkit exec <project> <command...> [-w workdir] [--no-env-file] [-t 300]\n```\n\n| Flag | Description |\n|------|-------------|\n| `-w, --workdir PATH` | Working directory (default: project's app directory) |\n| `--env-file/--no-env-file` | Source project's .env file (default: yes) |\n| `-t, --timeout INT` | Command timeout in seconds (default: 300) |\n\n```bash\nhostkit exec myapp npx prisma migrate deploy\nhostkit exec myapp python scripts/cleanup.py\nhostkit exec myapp -- node -e \"console.log('hello')\"\n```\n\n---",
    "section": "Access & Security",
    "chunkType": "command",
    "tokens": [
      "exec",
      "execute",
      "command",
      "project",
      "context",
      "the",
      "project",
      "user",
      "the",
      "app",
      "directory",
      "with",
      "env",
      "loaded",
      "bash",
      "hostkit",
      "exec",
      "project",
      "command",
      "workdir",
      "env",
      "file",
      "300",
      "flag",
      "description",
      "workdir",
      "path",
      "working",
      "directory",
      "default",
      "project",
      "app",
      "directory",
      "env",
      "file",
      "env",
      "file",
      "source",
      "project",
      "env",
      "file",
      "default",
      "yes",
      "timeout",
      "int",
      "command",
      "timeout",
      "seconds",
      "default",
      "300",
      "bash",
      "hostkit",
      "exec",
      "myapp",
      "npx",
      "prisma",
      "migrate",
      "deploy",
      "hostkit",
      "exec",
      "myapp",
      "python",
      "scripts",
      "cleanup",
      "hostkit",
      "exec",
      "myapp",
      "node",
      "console",
      "log",
      "hello"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "git-48",
    "title": "git",
    "content": "Configure git repository settings for deploy-from-git workflows.\n\n```bash\nhostkit git config <project> [--repo URL] [--branch TEXT] [--ssh-key PATH] [--show] [--clear]\nhostkit git cache [--list] [--clear PROJECT]\n```\n\n```bash\nhostkit git config myapp --repo https://github.com/user/repo.git --branch main\nhostkit git config myapp --show\n```\n\n---",
    "section": "Utilities",
    "chunkType": "command",
    "tokens": [
      "git",
      "configure",
      "git",
      "repository",
      "settings",
      "for",
      "deploy",
      "from",
      "git",
      "workflows",
      "bash",
      "hostkit",
      "git",
      "config",
      "project",
      "repo",
      "url",
      "branch",
      "text",
      "ssh",
      "key",
      "path",
      "show",
      "clear",
      "hostkit",
      "git",
      "cache",
      "list",
      "clear",
      "project",
      "bash",
      "hostkit",
      "git",
      "config",
      "myapp",
      "repo",
      "https",
      "github",
      "com",
      "user",
      "repo",
      "git",
      "branch",
      "main",
      "hostkit",
      "git",
      "config",
      "myapp",
      "show"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "docs-49",
    "title": "docs",
    "content": "Manage the HostKit documentation search index.\n\n```bash\nhostkit docs index [--force]\nhostkit docs status\n```\n\n```bash\nhostkit docs index --force    # Rebuild search index\n```\n\n---",
    "section": "Utilities",
    "chunkType": "command",
    "tokens": [
      "docs",
      "manage",
      "the",
      "hostkit",
      "documentation",
      "search",
      "index",
      "bash",
      "hostkit",
      "docs",
      "index",
      "force",
      "hostkit",
      "docs",
      "status",
      "bash",
      "hostkit",
      "docs",
      "index",
      "force",
      "rebuild",
      "search",
      "index"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "mail-50",
    "title": "mail",
    "content": "Manage mail server (Postfix + Dovecot) and per-project mailboxes. Supports DKIM signing and generates required DNS records.\n\n#### Global commands\n\n```bash\nhostkit mail status\nhostkit mail setup --hostname <mail.example.com>\nhostkit mail domains\nhostkit mail add-domain <domain> [--selector default]\nhostkit mail remove-domain <domain> [--force]\nhostkit mail mailboxes [--domain TEXT]\nhostkit mail add-address <address> <project> [-p password]\nhostkit mail remove-address <address>\nhostkit mail queue\nhostkit mail flush [--id TEXT]\nhostkit mail purge --force\nhostkit mail dns-records <domain>\nhostkit mail dns-check <domain>\n```\n\n#### Project commands\n\n```bash\nhostkit mail enable <project>\nhostkit mail disable <project> [--force]\nhostkit mail add <project> <local_part> [-p password]\nhostkit mail remove <project> <local_part>\nhostkit mail list <project>\nhostkit mail credentials <project> [<local_part>] [--reset-password]\nhostkit mail send-test <project> <to_email> [--from noreply]\n```\n\n```bash\nhostkit mail enable myapp\nhostkit mail add myapp support\nhostkit mail send-test myapp user@example.com\nhostkit mail dns-check example.com\n```\n\n---",
    "section": "Utilities",
    "chunkType": "command",
    "tokens": [
      "mail",
      "manage",
      "mail",
      "server",
      "postfix",
      "dovecot",
      "and",
      "per",
      "project",
      "mailboxes",
      "supports",
      "dkim",
      "signing",
      "and",
      "generates",
      "required",
      "dns",
      "records",
      "global",
      "commands",
      "bash",
      "hostkit",
      "mail",
      "status",
      "hostkit",
      "mail",
      "setup",
      "hostname",
      "mail",
      "example",
      "com",
      "hostkit",
      "mail",
      "domains",
      "hostkit",
      "mail",
      "add",
      "domain",
      "domain",
      "selector",
      "default",
      "hostkit",
      "mail",
      "remove",
      "domain",
      "domain",
      "force",
      "hostkit",
      "mail",
      "mailboxes",
      "domain",
      "text",
      "hostkit",
      "mail",
      "add",
      "address",
      "address",
      "project",
      "password",
      "hostkit",
      "mail",
      "remove",
      "address",
      "address",
      "hostkit",
      "mail",
      "queue",
      "hostkit",
      "mail",
      "flush",
      "text",
      "hostkit",
      "mail",
      "purge",
      "force",
      "hostkit",
      "mail",
      "dns",
      "records",
      "domain",
      "hostkit",
      "mail",
      "dns",
      "check",
      "domain",
      "project",
      "commands",
      "bash",
      "hostkit",
      "mail",
      "enable",
      "project",
      "hostkit",
      "mail",
      "disable",
      "project",
      "force",
      "hostkit",
      "mail",
      "add",
      "project",
      "local",
      "part",
      "password",
      "hostkit",
      "mail",
      "remove",
      "project",
      "local",
      "part",
      "hostkit",
      "mail",
      "list",
      "project",
      "hostkit",
      "mail",
      "credentials",
      "project",
      "local",
      "part",
      "reset",
      "password",
      "hostkit",
      "mail",
      "send",
      "test",
      "project",
      "email",
      "from",
      "noreply",
      "bash",
      "hostkit",
      "mail",
      "enable",
      "myapp",
      "hostkit",
      "mail",
      "add",
      "myapp",
      "support",
      "hostkit",
      "mail",
      "send",
      "test",
      "myapp",
      "user",
      "example",
      "com",
      "hostkit",
      "mail",
      "dns",
      "check",
      "example",
      "com"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "redis-51",
    "title": "redis",
    "content": "Manage Redis cache for projects. Each project is assigned a Redis database (0-49) for isolation.\n\n```bash\nhostkit redis info\nhostkit redis keys <project> [-p pattern] [-l 100]\nhostkit redis flush <project> --force\n```\n\n```bash\nhostkit redis info\nhostkit redis keys myapp --pattern \"cache:*\"\nhostkit redis flush myapp --force\n```\n\n---",
    "section": "Utilities",
    "chunkType": "command",
    "tokens": [
      "redis",
      "manage",
      "redis",
      "cache",
      "for",
      "projects",
      "each",
      "project",
      "assigned",
      "redis",
      "database",
      "for",
      "isolation",
      "bash",
      "hostkit",
      "redis",
      "info",
      "hostkit",
      "redis",
      "keys",
      "project",
      "pattern",
      "100",
      "hostkit",
      "redis",
      "flush",
      "project",
      "force",
      "bash",
      "hostkit",
      "redis",
      "info",
      "hostkit",
      "redis",
      "keys",
      "myapp",
      "pattern",
      "cache",
      "hostkit",
      "redis",
      "flush",
      "myapp",
      "force"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "autopause-52",
    "title": "autopause",
    "content": "Auto-pause projects after repeated failures to prevent resource waste.\n\n**Defaults:** disabled, 5 failure threshold, 10 minute window.\n\n```bash\nhostkit autopause show <project>\nhostkit autopause set <project> [--enabled|--disabled] [--threshold INT] [--window DURATION]\n```\n\n```bash\nhostkit autopause set myapp --enabled --threshold 3 --window 5m\n```\n\n---",
    "section": "Utilities",
    "chunkType": "command",
    "tokens": [
      "autopause",
      "auto",
      "pause",
      "projects",
      "after",
      "repeated",
      "failures",
      "prevent",
      "resource",
      "waste",
      "defaults",
      "disabled",
      "failure",
      "threshold",
      "minute",
      "window",
      "bash",
      "hostkit",
      "autopause",
      "show",
      "project",
      "hostkit",
      "autopause",
      "set",
      "project",
      "enabled",
      "disabled",
      "threshold",
      "int",
      "window",
      "duration",
      "bash",
      "hostkit",
      "autopause",
      "set",
      "myapp",
      "enabled",
      "threshold",
      "window"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "common-operations-53",
    "title": "Common Operations",
    "content": "| Task | Command |\n|------|---------|\n| Create project | `project create myapp --python --with-db` |\n| Deploy | `deploy myapp --install --build` |\n| Rollback | `rollback myapp` |\n| Health check | `health myapp` |\n| View logs | `log show myapp -f` |\n| Diagnose failures | `diagnose myapp --run-test` |\n| Enable service | `{service} enable myapp` |\n| Enable storage | `storage enable myapp --public` |\n| Backup | `backup create myapp --full --r2` |\n| Add domain | `nginx add myapp example.com` |\n| Set env var | `env set myapp KEY=VALUE --restart` |",
    "section": "Quick Reference",
    "chunkType": "example",
    "tokens": [
      "common",
      "operations",
      "task",
      "command",
      "create",
      "project",
      "project",
      "create",
      "myapp",
      "python",
      "with",
      "deploy",
      "deploy",
      "myapp",
      "install",
      "build",
      "rollback",
      "rollback",
      "myapp",
      "health",
      "check",
      "health",
      "myapp",
      "view",
      "logs",
      "log",
      "show",
      "myapp",
      "diagnose",
      "failures",
      "diagnose",
      "myapp",
      "run",
      "test",
      "enable",
      "service",
      "service",
      "enable",
      "myapp",
      "enable",
      "storage",
      "storage",
      "enable",
      "myapp",
      "public",
      "backup",
      "backup",
      "create",
      "myapp",
      "full",
      "add",
      "domain",
      "nginx",
      "add",
      "myapp",
      "example",
      "com",
      "set",
      "env",
      "var",
      "env",
      "set",
      "myapp",
      "key",
      "value",
      "restart"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "service-ports-54",
    "title": "Service Ports",
    "content": "Each service runs at a fixed offset from the project's base port:\n\n| Service | Offset | Example (base 8001) |\n|---------|--------|---------------------|\n| Auth | +1000 | 9001 |\n| Payments | +2000 | 10001 |\n| SMS | +3000 | 11001 |\n| Booking | +4000 | 12001 |\n| Chatbot | +5000 | 13001 |\n| Voice | 8900 (central) | 8900 |",
    "section": "Quick Reference",
    "chunkType": "service",
    "tokens": [
      "service",
      "ports",
      "each",
      "service",
      "runs",
      "fixed",
      "offset",
      "from",
      "the",
      "project",
      "base",
      "port",
      "service",
      "offset",
      "example",
      "base",
      "8001",
      "auth",
      "1000",
      "9001",
      "payments",
      "2000",
      "10001",
      "sms",
      "3000",
      "11001",
      "booking",
      "4000",
      "12001",
      "chatbot",
      "5000",
      "13001",
      "voice",
      "8900",
      "central",
      "8900"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "runtimes-55",
    "title": "Runtimes",
    "content": "| Flag | Start Command |\n|------|---------------|\n| `--python` | `venv/bin/python -m app` |\n| `--node` | `node app/index.js` |\n| `--nextjs` | `npm start` |\n| `--static` | Nginx serves directly |",
    "section": "Quick Reference",
    "chunkType": "concept",
    "tokens": [
      "runtimes",
      "flag",
      "start",
      "command",
      "python",
      "venv",
      "bin",
      "python",
      "app",
      "node",
      "node",
      "app",
      "index",
      "nextjs",
      "npm",
      "start",
      "static",
      "nginx",
      "serves",
      "directly"
    ],
    "source": "cli-reference.md"
  },
  {
    "id": "via-bootstrap-script-recommended-0",
    "title": "Via bootstrap script (recommended)",
    "content": "The [bootstrap script](../../install/bootstrap.sh) installs the CLI as part of full VPS setup:\n\n```bash\ncurl -fsSL https://raw.githubusercontent.com/hostkit-platform/hostkit/main/install/bootstrap.sh | bash\n```",
    "section": "Installation",
    "chunkType": "command",
    "tokens": [
      "via",
      "bootstrap",
      "script",
      "recommended",
      "the",
      "bootstrap",
      "script",
      "install",
      "bootstrap",
      "installs",
      "the",
      "cli",
      "part",
      "full",
      "vps",
      "setup",
      "bash",
      "curl",
      "fssl",
      "https",
      "raw",
      "githubusercontent",
      "com",
      "hostkit",
      "platform",
      "hostkit",
      "main",
      "install",
      "bootstrap",
      "bash"
    ],
    "source": "README.md"
  },
  {
    "id": "usage-1",
    "title": "Usage",
    "content": "```bash\n# System overview\nhostkit status\nhostkit status --json\n\n# Project lifecycle\nhostkit project create myapp --python --with-db --with-auth\nhostkit deploy myapp --install\nhostkit rollback myapp\nhostkit health myapp\n\n# Services\nhostkit auth enable myapp\nhostkit payments enable myapp\nhostkit sms enable myapp\nhostkit chatbot enable myapp\nhostkit minio enable myapp --public\n\n# Database\nhostkit db create myapp\nhostkit db migrate myapp\nhostkit backup create myapp --r2\n\n# Operations\nhostkit service logs myapp\nhostkit env set myapp KEY=value\nhostkit diagnose myapp\nhostkit validate myapp\n```\n\nEvery command supports `--json` for machine-readable output.",
    "section": "Usage",
    "chunkType": "command",
    "tokens": [
      "usage",
      "bash",
      "system",
      "overview",
      "hostkit",
      "status",
      "hostkit",
      "status",
      "json",
      "project",
      "lifecycle",
      "hostkit",
      "project",
      "create",
      "myapp",
      "python",
      "with",
      "with",
      "auth",
      "hostkit",
      "deploy",
      "myapp",
      "install",
      "hostkit",
      "rollback",
      "myapp",
      "hostkit",
      "health",
      "myapp",
      "services",
      "hostkit",
      "auth",
      "enable",
      "myapp",
      "hostkit",
      "payments",
      "enable",
      "myapp",
      "hostkit",
      "sms",
      "enable",
      "myapp",
      "hostkit",
      "chatbot",
      "enable",
      "myapp",
      "hostkit",
      "minio",
      "enable",
      "myapp",
      "public",
      "database",
      "hostkit",
      "create",
      "myapp",
      "hostkit",
      "migrate",
      "myapp",
      "hostkit",
      "backup",
      "create",
      "myapp",
      "operations",
      "hostkit",
      "service",
      "logs",
      "myapp",
      "hostkit",
      "env",
      "set",
      "myapp",
      "key",
      "value",
      "hostkit",
      "diagnose",
      "myapp",
      "hostkit",
      "validate",
      "myapp",
      "every",
      "command",
      "supports",
      "json",
      "for",
      "machine",
      "readable",
      "output"
    ],
    "source": "README.md"
  },
  {
    "id": "command-reference-2",
    "title": "Command Reference",
    "content": "| Command | Description |\n|---------|-------------|\n| `status` | System overview (projects, health, resources) |\n| `project create` | Create a new project (Linux user, systemd service, port, nginx) |\n| `project list` | List all projects |\n| `deploy` | Deploy a project (install deps, swap symlink, restart) |\n| `rollback` | Roll back to previous release |\n| `health` | Health check a project |\n| `diagnose` | Deep diagnostics (service, ports, logs, config) |\n| `validate` | Pre-flight validation (entrypoint, deps, env, db) |\n| `service` | Start, stop, restart, logs for project services |\n| `env` | Get/set environment variables |\n| `db` | Create, migrate, backup, restore databases |\n| `backup` | Create and manage backups (local or R2) |\n| `nginx` | Add domains, manage reverse proxy rules |\n| `ssl` | Manage Let's Encrypt certificates |\n| `auth` | Enable/configure OAuth + magic link auth service |\n| `payments` | Enable/configure Stripe payments service |\n| `sms` | Enable/configure Twilio SMS service |\n| `chatbot` | Enable/configure AI chatbot service |\n| `voice` | Enable/configure voice service |\n| `booking` | Enable/configure booking service |\n| `minio` | Enable/configure MinIO object storage |\n| `r2` | Manage Cloudflare R2 backups |\n| `vector` | Enable/configure vector/RAG service |\n| `mail` | Configure email services |\n| `ratelimit` | Enable/disable deploy rate limiting |\n| `capabilities` | List all available commands and services |",
    "section": "Command Reference",
    "chunkType": "command",
    "tokens": [
      "command",
      "reference",
      "command",
      "description",
      "status",
      "system",
      "overview",
      "projects",
      "health",
      "resources",
      "project",
      "create",
      "create",
      "new",
      "project",
      "linux",
      "user",
      "systemd",
      "service",
      "port",
      "nginx",
      "project",
      "list",
      "list",
      "all",
      "projects",
      "deploy",
      "deploy",
      "project",
      "install",
      "deps",
      "swap",
      "symlink",
      "restart",
      "rollback",
      "roll",
      "back",
      "previous",
      "release",
      "health",
      "health",
      "check",
      "project",
      "diagnose",
      "deep",
      "diagnostics",
      "service",
      "ports",
      "logs",
      "config",
      "validate",
      "pre",
      "flight",
      "validation",
      "entrypoint",
      "deps",
      "env",
      "service",
      "start",
      "stop",
      "restart",
      "logs",
      "for",
      "project",
      "services",
      "env",
      "get",
      "set",
      "environment",
      "variables",
      "create",
      "migrate",
      "backup",
      "restore",
      "databases",
      "backup",
      "create",
      "and",
      "manage",
      "backups",
      "local",
      "nginx",
      "add",
      "domains",
      "manage",
      "reverse",
      "proxy",
      "rules",
      "ssl",
      "manage",
      "let",
      "encrypt",
      "certificates",
      "auth",
      "enable",
      "configure",
      "oauth",
      "magic",
      "link",
      "auth",
      "service",
      "payments",
      "enable",
      "configure",
      "stripe",
      "payments",
      "service",
      "sms",
      "enable",
      "configure",
      "twilio",
      "sms",
      "service",
      "chatbot",
      "enable",
      "configure",
      "chatbot",
      "service",
      "voice",
      "enable",
      "configure",
      "voice",
      "service",
      "booking",
      "enable",
      "configure",
      "booking",
      "service",
      "minio",
      "enable",
      "configure",
      "minio",
      "object",
      "storage",
      "manage",
      "cloudflare",
      "backups",
      "vector",
      "enable",
      "configure",
      "vector",
      "rag",
      "service",
      "mail",
      "configure",
      "email",
      "services",
      "ratelimit",
      "enable",
      "disable",
      "deploy",
      "rate",
      "limiting",
      "capabilities",
      "list",
      "all",
      "available",
      "commands",
      "and",
      "services"
    ],
    "source": "README.md"
  },
  {
    "id": "configuration-3",
    "title": "Configuration",
    "content": "The CLI reads configuration from `/etc/hostkit/config.yaml`:\n\n```yaml\ndomain: yourdomain.com       # Your Cloudflare-managed domain\ndata_dir: /var/lib/hostkit\nlog_dir: /var/log/hostkit\nbackup_dir: /backups\n```\n\n> **Note:** The `domain` field controls automatic subdomain routing. Each project gets `{project}.{domain}`. This requires a wildcard DNS record (`*.yourdomain.com`) pointing to your VPS, managed through [Cloudflare](https://dash.cloudflare.com/) (free plan works). See the [root README](../../README.md#cloudflare-dns-setup) for setup instructions.",
    "section": "Configuration",
    "chunkType": "example",
    "tokens": [
      "configuration",
      "the",
      "cli",
      "reads",
      "configuration",
      "from",
      "etc",
      "hostkit",
      "config",
      "yaml",
      "yaml",
      "domain",
      "yourdomain",
      "com",
      "your",
      "cloudflare",
      "managed",
      "domain",
      "data",
      "dir",
      "var",
      "lib",
      "hostkit",
      "log",
      "dir",
      "var",
      "log",
      "hostkit",
      "backup",
      "dir",
      "backups",
      "note",
      "the",
      "domain",
      "field",
      "controls",
      "automatic",
      "subdomain",
      "routing",
      "each",
      "project",
      "gets",
      "project",
      "domain",
      "this",
      "requires",
      "wildcard",
      "dns",
      "record",
      "yourdomain",
      "com",
      "pointing",
      "your",
      "vps",
      "managed",
      "through",
      "cloudflare",
      "https",
      "dash",
      "cloudflare",
      "com",
      "free",
      "plan",
      "works",
      "see",
      "the",
      "root",
      "readme",
      "readme",
      "cloudflare",
      "dns",
      "setup",
      "for",
      "setup",
      "instructions"
    ],
    "source": "README.md"
  },
  {
    "id": "project-layout-on-disk-4",
    "title": "Project layout on disk",
    "content": "Each project maps to:\n\n```\n/home/{project}/\n├── releases/           # Timestamped deploys\n├── app -> releases/x/  # Current release (symlink)\n├── shared/             # Persistent data across deploys\n├── .env                # Environment variables\n├── .auth/              # Auth service (if enabled)\n├── .payments/          # Payments service (if enabled)\n└── venv/ or node_modules/\n```",
    "section": "Project layout on disk",
    "chunkType": "example",
    "tokens": [
      "project",
      "layout",
      "disk",
      "each",
      "project",
      "maps",
      "home",
      "project",
      "releases",
      "timestamped",
      "deploys",
      "app",
      "releases",
      "current",
      "release",
      "symlink",
      "shared",
      "persistent",
      "data",
      "across",
      "deploys",
      "env",
      "environment",
      "variables",
      "auth",
      "auth",
      "service",
      "enabled",
      "payments",
      "payments",
      "service",
      "enabled",
      "venv",
      "node",
      "modules"
    ],
    "source": "README.md"
  },
  {
    "id": "runtimes-5",
    "title": "Runtimes",
    "content": "| Flag | Entry point |\n|------|-------------|\n| `--python` | `venv/bin/python -m app` |\n| `--node` | `node app/index.js` |\n| `--nextjs` | `npm start` |\n| `--static` | nginx serves directly |",
    "section": "Runtimes",
    "chunkType": "concept",
    "tokens": [
      "runtimes",
      "flag",
      "entry",
      "point",
      "python",
      "venv",
      "bin",
      "python",
      "app",
      "node",
      "node",
      "app",
      "index",
      "nextjs",
      "npm",
      "start",
      "static",
      "nginx",
      "serves",
      "directly"
    ],
    "source": "README.md"
  },
  {
    "id": "service-port-allocation-6",
    "title": "Service port allocation",
    "content": "Each project gets a base port (starting at 8001). Services use offsets:\n\n| Service | Offset | Example (base 8001) |\n|---------|--------|---------------------|\n| Main app | +0 | 8001 |\n| Auth | +1000 | 9001 |\n| Payments | +2000 | 10001 |\n| SMS | +3000 | 11001 |\n| Booking | +4000 | 12001 |\n| Chatbot | +5000 | 13001 |",
    "section": "Service port allocation",
    "chunkType": "service",
    "tokens": [
      "service",
      "port",
      "allocation",
      "each",
      "project",
      "gets",
      "base",
      "port",
      "starting",
      "8001",
      "services",
      "use",
      "offsets",
      "service",
      "offset",
      "example",
      "base",
      "8001",
      "main",
      "app",
      "8001",
      "auth",
      "1000",
      "9001",
      "payments",
      "2000",
      "10001",
      "sms",
      "3000",
      "11001",
      "booking",
      "4000",
      "12001",
      "chatbot",
      "5000",
      "13001"
    ],
    "source": "README.md"
  },
  {
    "id": "development-7",
    "title": "Development",
    "content": "```bash\ncd packages/cli\npython3 -m venv venv\nsource venv/bin/activate\npip install -e \".[dev]\"\n\n# Lint\nruff check src/\n\n# Type check\nmypy src/hostkit/\n\n# Test\npytest\n```\n\nTo deploy changes to a live VPS:\n\n```bash\nVPS_HOST=root@YOUR_VPS_IP ./scripts/deploy.sh\n```",
    "section": "Development",
    "chunkType": "command",
    "tokens": [
      "development",
      "bash",
      "packages",
      "cli",
      "python3",
      "venv",
      "venv",
      "source",
      "venv",
      "bin",
      "activate",
      "pip",
      "install",
      "dev",
      "lint",
      "ruff",
      "check",
      "src",
      "type",
      "check",
      "mypy",
      "src",
      "hostkit",
      "test",
      "pytest",
      "deploy",
      "changes",
      "live",
      "vps",
      "bash",
      "vps",
      "host",
      "root",
      "your",
      "vps",
      "scripts",
      "deploy"
    ],
    "source": "README.md"
  },
  {
    "id": "via-setup-script-0",
    "title": "Via setup script",
    "content": "The [local setup script](../../install/setup-local.sh) installs the MCP server and configures everything:\n\n```bash\nbash install/setup-local.sh --vps-ip YOUR_VPS_IP\n```",
    "section": "Installation",
    "chunkType": "command",
    "tokens": [
      "via",
      "setup",
      "script",
      "the",
      "local",
      "setup",
      "script",
      "install",
      "setup",
      "local",
      "installs",
      "the",
      "mcp",
      "server",
      "and",
      "configures",
      "everything",
      "bash",
      "bash",
      "install",
      "setup",
      "local",
      "vps",
      "your",
      "vps"
    ],
    "source": "README.md"
  },
  {
    "id": "requirements-1",
    "title": "Requirements",
    "content": "- Node.js >= 20\n- SSH access to a HostKit VPS (key-based auth)\n- Python 3.11+ (for embedding generation only)",
    "section": "Requirements",
    "chunkType": "command",
    "tokens": [
      "requirements",
      "node",
      "ssh",
      "access",
      "hostkit",
      "vps",
      "key",
      "based",
      "auth",
      "python",
      "for",
      "embedding",
      "generation",
      "only"
    ],
    "source": "README.md"
  },
  {
    "id": "config-file-2",
    "title": "Config file",
    "content": "Create `~/.hostkit-context/config.json`:\n\n```json\n{\n  \"vps\": {\n    \"host\": \"YOUR_VPS_IP\",\n    \"port\": 22,\n    \"user\": \"ai-operator\",\n    \"keyPath\": \"~/.ssh/id_ed25519\"\n  },\n  \"cache\": {\n    \"projectsTtl\": 60000,\n    \"healthTtl\": 30000,\n    \"projectTtl\": 30000\n  }\n}\n```",
    "section": "Configuration",
    "chunkType": "example",
    "tokens": [
      "config",
      "file",
      "create",
      "hostkit",
      "context",
      "config",
      "json",
      "json",
      "vps",
      "host",
      "your",
      "vps",
      "port",
      "user",
      "operator",
      "keypath",
      "ssh",
      "ed25519",
      "cache",
      "projectsttl",
      "60000",
      "healthttl",
      "30000",
      "projectttl",
      "30000"
    ],
    "source": "README.md"
  },
  {
    "id": "environment-variables-3",
    "title": "Environment variables",
    "content": "Alternatively, configure via environment variables (see `.env.example`):\n\n```bash\nHOSTKIT_VPS_HOST=YOUR_VPS_IP\nHOSTKIT_VPS_PORT=22\nHOSTKIT_SSH_USER=ai-operator\nHOSTKIT_SSH_KEY_PATH=~/.ssh/id_ed25519\n```",
    "section": "Configuration",
    "chunkType": "command",
    "tokens": [
      "environment",
      "variables",
      "alternatively",
      "configure",
      "via",
      "environment",
      "variables",
      "see",
      "env",
      "example",
      "bash",
      "hostkit",
      "vps",
      "host",
      "your",
      "vps",
      "hostkit",
      "vps",
      "port",
      "hostkit",
      "ssh",
      "user",
      "operator",
      "hostkit",
      "ssh",
      "key",
      "path",
      "ssh",
      "ed25519"
    ],
    "source": "README.md"
  },
  {
    "id": "setup-with-claude-code-4",
    "title": "Setup with Claude Code",
    "content": "Add to your project's `.claude.json` or Claude Code MCP settings:\n\n```json\n{\n  \"mcpServers\": {\n    \"hostkit-context\": {\n      \"command\": \"node\",\n      \"args\": [\"/path/to/hostkit/packages/mcp-server/dist/index.js\"]\n    }\n  }\n}\n```\n\nIf installed globally:\n\n```json\n{\n  \"mcpServers\": {\n    \"hostkit-context\": {\n      \"command\": \"hostkit-context\"\n    }\n  }\n}\n```",
    "section": "Setup with Claude Code",
    "chunkType": "example",
    "tokens": [
      "setup",
      "with",
      "claude",
      "code",
      "add",
      "your",
      "project",
      "claude",
      "json",
      "claude",
      "code",
      "mcp",
      "settings",
      "json",
      "mcpservers",
      "hostkit",
      "context",
      "command",
      "node",
      "args",
      "path",
      "hostkit",
      "packages",
      "mcp",
      "server",
      "dist",
      "index",
      "installed",
      "globally",
      "json",
      "mcpservers",
      "hostkit",
      "context",
      "command",
      "hostkit",
      "context"
    ],
    "source": "README.md"
  },
  {
    "id": "setup-with-openclaw-5",
    "title": "Setup with OpenClaw",
    "content": "Use [MCPorter](https://github.com/openclaw/mcporter) to bridge MCP tools into OpenClaw:\n\n```bash\n# Install MCPorter\nnpm install -g mcporter\n\n# Bridge the HostKit MCP server\nmcporter bridge hostkit-context -- node /path/to/hostkit/packages/mcp-server/dist/index.js\n```\n\nThen configure your OpenClaw agent to use the bridged tools.",
    "section": "Setup with OpenClaw",
    "chunkType": "command",
    "tokens": [
      "setup",
      "with",
      "openclaw",
      "use",
      "mcporter",
      "https",
      "github",
      "com",
      "openclaw",
      "mcporter",
      "bridge",
      "mcp",
      "tools",
      "into",
      "openclaw",
      "bash",
      "install",
      "mcporter",
      "npm",
      "install",
      "mcporter",
      "bridge",
      "the",
      "hostkit",
      "mcp",
      "server",
      "mcporter",
      "bridge",
      "hostkit",
      "context",
      "node",
      "path",
      "hostkit",
      "packages",
      "mcp",
      "server",
      "dist",
      "index",
      "then",
      "configure",
      "your",
      "openclaw",
      "agent",
      "use",
      "the",
      "bridged",
      "tools"
    ],
    "source": "README.md"
  },
  {
    "id": "search-documentation-6",
    "title": "Search & Documentation",
    "content": "| Tool | Description |\n|------|-------------|\n| `hostkit_search` | Semantic search over HostKit documentation. Query with natural language. |\n| `hostkit_capabilities` | Discover all available commands, services, flags, and runtimes. |\n| `hostkit_auth_guide` | Get runtime-specific auth integration code and warnings. Call before implementing auth. |",
    "section": "Tools",
    "chunkType": "command",
    "tokens": [
      "search",
      "documentation",
      "tool",
      "description",
      "hostkit",
      "search",
      "semantic",
      "search",
      "over",
      "hostkit",
      "documentation",
      "query",
      "with",
      "natural",
      "language",
      "hostkit",
      "capabilities",
      "discover",
      "all",
      "available",
      "commands",
      "services",
      "flags",
      "and",
      "runtimes",
      "hostkit",
      "auth",
      "guide",
      "get",
      "runtime",
      "specific",
      "auth",
      "integration",
      "code",
      "and",
      "warnings",
      "call",
      "before",
      "implementing",
      "auth"
    ],
    "source": "README.md"
  },
  {
    "id": "state-execution-7",
    "title": "State & Execution",
    "content": "| Tool | Description |\n|------|-------------|\n| `hostkit_state` | Live VPS state: projects, health, resources. Cached for performance. |\n| `hostkit_execute` | Execute any HostKit CLI command on the VPS. Validates safety before running. |\n| `hostkit_wait_healthy` | Block until a project is healthy. Use after deploys or restarts. |\n| `hostkit_validate` | Pre-flight checks: entrypoint, dependencies, environment, database, ports. |",
    "section": "Tools",
    "chunkType": "command",
    "tokens": [
      "state",
      "execution",
      "tool",
      "description",
      "hostkit",
      "state",
      "live",
      "vps",
      "state",
      "projects",
      "health",
      "resources",
      "cached",
      "for",
      "performance",
      "hostkit",
      "execute",
      "execute",
      "any",
      "hostkit",
      "cli",
      "command",
      "the",
      "vps",
      "validates",
      "safety",
      "before",
      "running",
      "hostkit",
      "wait",
      "healthy",
      "block",
      "until",
      "project",
      "healthy",
      "use",
      "after",
      "deploys",
      "restarts",
      "hostkit",
      "validate",
      "pre",
      "flight",
      "checks",
      "entrypoint",
      "dependencies",
      "environment",
      "database",
      "ports"
    ],
    "source": "README.md"
  },
  {
    "id": "deployment-8",
    "title": "Deployment",
    "content": "| Tool | Description |\n|------|-------------|\n| `hostkit_deploy_local` | Rsync local files to VPS, deploy, and wait for healthy. |",
    "section": "Tools",
    "chunkType": "concept",
    "tokens": [
      "deployment",
      "tool",
      "description",
      "hostkit",
      "deploy",
      "local",
      "rsync",
      "local",
      "files",
      "vps",
      "deploy",
      "and",
      "wait",
      "for",
      "healthy"
    ],
    "source": "README.md"
  },
  {
    "id": "environment-9",
    "title": "Environment",
    "content": "| Tool | Description |\n|------|-------------|\n| `hostkit_env_set` | Set environment variables (batch, with optional service restart). |\n| `hostkit_env_get` | Read environment variables (specific keys or all). |",
    "section": "Tools",
    "chunkType": "concept",
    "tokens": [
      "environment",
      "tool",
      "description",
      "hostkit",
      "env",
      "set",
      "set",
      "environment",
      "variables",
      "batch",
      "with",
      "optional",
      "service",
      "restart",
      "hostkit",
      "env",
      "get",
      "read",
      "environment",
      "variables",
      "specific",
      "keys",
      "all"
    ],
    "source": "README.md"
  },
  {
    "id": "database-10",
    "title": "Database",
    "content": "| Tool | Description |\n|------|-------------|\n| `hostkit_db_schema` | Get tables, columns, indexes, and foreign keys. |\n| `hostkit_db_query` | Run SQL queries (SELECT by default, opt-in for writes). |\n| `hostkit_db_verify` | Check migrations, indexes, constraints, seed data. |",
    "section": "Tools",
    "chunkType": "concept",
    "tokens": [
      "database",
      "tool",
      "description",
      "hostkit",
      "schema",
      "get",
      "tables",
      "columns",
      "indexes",
      "and",
      "foreign",
      "keys",
      "hostkit",
      "query",
      "run",
      "sql",
      "queries",
      "select",
      "default",
      "opt",
      "for",
      "writes",
      "hostkit",
      "verify",
      "check",
      "migrations",
      "indexes",
      "constraints",
      "seed",
      "data"
    ],
    "source": "README.md"
  },
  {
    "id": "operations-11",
    "title": "Operations",
    "content": "| Tool | Description |\n|------|-------------|\n| `hostkit_fix_permissions` | Detect and fix sudoers permission gaps. Self-healing. |\n| `hostkit_solutions` | Cross-project learning: search and record solutions to common problems. |",
    "section": "Tools",
    "chunkType": "concept",
    "tokens": [
      "operations",
      "tool",
      "description",
      "hostkit",
      "fix",
      "permissions",
      "detect",
      "and",
      "fix",
      "sudoers",
      "permission",
      "gaps",
      "self",
      "healing",
      "hostkit",
      "solutions",
      "cross",
      "project",
      "learning",
      "search",
      "and",
      "record",
      "solutions",
      "common",
      "problems"
    ],
    "source": "README.md"
  },
  {
    "id": "syncing-documentation-12",
    "title": "Syncing documentation",
    "content": "When the HostKit `CLAUDE.md` changes, rebuild the search index:\n\n```bash\nnpm run build\nnpm run sync\nnpm run build-embeddings\n```\n\nEmbedding generation requires Python 3.11+ with `sentence-transformers`.",
    "section": "Syncing documentation",
    "chunkType": "command",
    "tokens": [
      "syncing",
      "documentation",
      "when",
      "the",
      "hostkit",
      "claude",
      "changes",
      "rebuild",
      "the",
      "search",
      "index",
      "bash",
      "npm",
      "run",
      "build",
      "npm",
      "run",
      "sync",
      "npm",
      "run",
      "build",
      "embeddings",
      "embedding",
      "generation",
      "requires",
      "python",
      "with",
      "sentence",
      "transformers"
    ],
    "source": "README.md"
  },
  {
    "id": "architecture-13",
    "title": "Architecture",
    "content": "```\nsrc/\n├── index.ts           # MCP server entry point\n├── config.ts          # Configuration (env vars + config file)\n├── types.ts           # TypeScript type definitions\n├── sync.ts            # Documentation sync script\n├── tools/             # Tool implementations (one per file)\n│   ├── index.ts       # Tool registry and dispatch\n│   ├── search.ts      # Semantic documentation search\n│   ├── state.ts       # VPS state queries\n│   ├── execute.ts     # Command execution with safety checks\n│   ├── permissions.ts # Sudoers gap detection and fix\n│   ├── solutions.ts   # Cross-project solution database\n│   ├── database.ts    # DB schema, query, verify\n│   ├── deploy-local.ts# Local file deployment via rsync\n│   ├── convenience.ts # capabilities, wait_healthy, env, validate\n│   └── auth-guide.ts  # Auth integration guidance\n├── services/\n│   ├── ssh.ts         # SSH connection management\n│   └── cache.ts       # Response caching (30-60s TTL)\n├── indexers/\n│   └── claudemd.ts    # CLAUDE.md section parser\n└── utils/\n    └── logger.ts      # Structured logging\n\nembeddings/\n├── generator.py       # Build-time embedding generation (sentence-transformers)\n└── query.py           # Runtime embedding queries\n```",
    "section": "Architecture",
    "chunkType": "example",
    "tokens": [
      "architecture",
      "src",
      "index",
      "mcp",
      "server",
      "entry",
      "point",
      "config",
      "configuration",
      "env",
      "vars",
      "config",
      "file",
      "types",
      "typescript",
      "type",
      "definitions",
      "sync",
      "documentation",
      "sync",
      "script",
      "tools",
      "tool",
      "implementations",
      "one",
      "per",
      "file",
      "index",
      "tool",
      "registry",
      "and",
      "dispatch",
      "search",
      "semantic",
      "documentation",
      "search",
      "state",
      "vps",
      "state",
      "queries",
      "execute",
      "command",
      "execution",
      "with",
      "safety",
      "checks",
      "permissions",
      "sudoers",
      "gap",
      "detection",
      "and",
      "fix",
      "solutions",
      "cross",
      "project",
      "solution",
      "database",
      "database",
      "schema",
      "query",
      "verify",
      "deploy",
      "local",
      "local",
      "file",
      "deployment",
      "via",
      "rsync",
      "convenience",
      "capabilities",
      "wait",
      "healthy",
      "env",
      "validate",
      "auth",
      "guide",
      "auth",
      "integration",
      "guidance",
      "services",
      "ssh",
      "ssh",
      "connection",
      "management",
      "cache",
      "response",
      "caching",
      "60s",
      "ttl",
      "indexers",
      "claudemd",
      "claude",
      "section",
      "parser",
      "utils",
      "logger",
      "structured",
      "logging",
      "embeddings",
      "generator",
      "build",
      "time",
      "embedding",
      "generation",
      "sentence",
      "transformers",
      "query",
      "runtime",
      "embedding",
      "queries"
    ],
    "source": "README.md"
  },
  {
    "id": "development-14",
    "title": "Development",
    "content": "```bash\ncd packages/mcp-server\nnpm install\n\n# Build\nnpm run build\n\n# Type check\nnpm run typecheck\n\n# Test\nnpm test\n\n# Build + run\nnpm run dev\n```",
    "section": "Development",
    "chunkType": "command",
    "tokens": [
      "development",
      "bash",
      "packages",
      "mcp",
      "server",
      "npm",
      "install",
      "build",
      "npm",
      "run",
      "build",
      "type",
      "check",
      "npm",
      "run",
      "typecheck",
      "test",
      "npm",
      "test",
      "build",
      "run",
      "npm",
      "run",
      "dev"
    ],
    "source": "README.md"
  },
  {
    "id": "contents-0",
    "title": "Contents",
    "content": "| File | Purpose | Copy to |\n|------|---------|---------|\n| `CLAUDE.md.template` | Agent identity, MCP tool docs, architecture reference | Project root as `CLAUDE.md` |\n| `claude-settings.json` | Tool and command permissions | `.claude/settings.local.json` |\n| `commands/build.md` | Build orchestration skill | `.claude/commands/build.md` |\n| `commands/mailbox.md` | Mailbox provisioning skill | `.claude/commands/mailbox.md` |",
    "section": "Contents",
    "chunkType": "concept",
    "tokens": [
      "contents",
      "file",
      "purpose",
      "copy",
      "claude",
      "template",
      "agent",
      "identity",
      "mcp",
      "tool",
      "docs",
      "architecture",
      "reference",
      "project",
      "root",
      "claude",
      "claude",
      "settings",
      "json",
      "tool",
      "and",
      "command",
      "permissions",
      "claude",
      "settings",
      "local",
      "json",
      "commands",
      "build",
      "build",
      "orchestration",
      "skill",
      "claude",
      "commands",
      "build",
      "commands",
      "mailbox",
      "mailbox",
      "provisioning",
      "skill",
      "claude",
      "commands",
      "mailbox"
    ],
    "source": "README.md"
  },
  {
    "id": "automated-recommended-1",
    "title": "Automated (recommended)",
    "content": "The [local setup script](../../install/setup-local.sh) copies and configures everything:\n\n```bash\nbash install/setup-local.sh --vps-ip YOUR_VPS_IP\n```",
    "section": "Setup",
    "chunkType": "command",
    "tokens": [
      "automated",
      "recommended",
      "the",
      "local",
      "setup",
      "script",
      "install",
      "setup",
      "local",
      "copies",
      "and",
      "configures",
      "everything",
      "bash",
      "bash",
      "install",
      "setup",
      "local",
      "vps",
      "your",
      "vps"
    ],
    "source": "README.md"
  },
  {
    "id": "manual-2",
    "title": "Manual",
    "content": "1. Copy `CLAUDE.md.template` to your project root as `CLAUDE.md`\n2. Replace all `{{VPS_IP}}` placeholders with your server's IP address\n3. Copy `claude-settings.json` to `.claude/settings.local.json`\n4. Replace `YOUR_VPS_IP` in the settings file with your server's IP\n5. Copy `commands/` to `.claude/commands/`",
    "section": "Setup",
    "chunkType": "concept",
    "tokens": [
      "manual",
      "copy",
      "claude",
      "template",
      "your",
      "project",
      "root",
      "claude",
      "replace",
      "all",
      "vps",
      "placeholders",
      "with",
      "your",
      "server",
      "address",
      "copy",
      "claude",
      "settings",
      "json",
      "claude",
      "settings",
      "local",
      "json",
      "replace",
      "your",
      "vps",
      "the",
      "settings",
      "file",
      "with",
      "your",
      "server",
      "copy",
      "commands",
      "claude",
      "commands"
    ],
    "source": "README.md"
  },
  {
    "id": "what-s-in-claude-md-template-3",
    "title": "What's in CLAUDE.md.template",
    "content": "The template defines the agent's full operating context:\n\n- **Identity** -- what the agent is and what it's responsible for\n- **MCP tool reference** -- all 15 tools with parameters, examples, and expert tips\n- **Workflows** -- step-by-step patterns for discovery, deployment, troubleshooting, and service enablement\n- **Architecture** -- project layout, access tiers, service port allocation, OAuth flow\n- **Auth integration guide** -- critical fixes for JWT keys, token handling, and browser compatibility\n- **Quick reference** -- common commands and service ports at a glance",
    "section": "What's in CLAUDE.md.template",
    "chunkType": "example",
    "tokens": [
      "what",
      "claude",
      "template",
      "the",
      "template",
      "defines",
      "the",
      "agent",
      "full",
      "operating",
      "context",
      "identity",
      "what",
      "the",
      "agent",
      "and",
      "what",
      "responsible",
      "for",
      "mcp",
      "tool",
      "reference",
      "all",
      "tools",
      "with",
      "parameters",
      "examples",
      "and",
      "expert",
      "tips",
      "workflows",
      "step",
      "step",
      "patterns",
      "for",
      "discovery",
      "deployment",
      "troubleshooting",
      "and",
      "service",
      "enablement",
      "architecture",
      "project",
      "layout",
      "access",
      "tiers",
      "service",
      "port",
      "allocation",
      "oauth",
      "flow",
      "auth",
      "integration",
      "guide",
      "critical",
      "fixes",
      "for",
      "jwt",
      "keys",
      "token",
      "handling",
      "and",
      "browser",
      "compatibility",
      "quick",
      "reference",
      "common",
      "commands",
      "and",
      "service",
      "ports",
      "glance"
    ],
    "source": "README.md"
  },
  {
    "id": "customizing-claude-md-4",
    "title": "Customizing CLAUDE.md",
    "content": "The template is meant to be read and edited. Common customizations:\n\n- **Identity section** -- change the agent's role description to match your use case\n- **Safety constraints** -- adjust what the agent is and isn't allowed to do\n- **Service documentation** -- add notes about your specific service configurations\n- **Workflow patterns** -- add project-specific deployment or troubleshooting flows",
    "section": "Customizing CLAUDE.md",
    "chunkType": "concept",
    "tokens": [
      "customizing",
      "claude",
      "the",
      "template",
      "meant",
      "read",
      "and",
      "edited",
      "common",
      "customizations",
      "identity",
      "section",
      "change",
      "the",
      "agent",
      "role",
      "description",
      "match",
      "your",
      "use",
      "case",
      "safety",
      "constraints",
      "adjust",
      "what",
      "the",
      "agent",
      "and",
      "isn",
      "allowed",
      "service",
      "documentation",
      "add",
      "notes",
      "about",
      "your",
      "specific",
      "service",
      "configurations",
      "workflow",
      "patterns",
      "add",
      "project",
      "specific",
      "deployment",
      "troubleshooting",
      "flows"
    ],
    "source": "README.md"
  },
  {
    "id": "customizing-permissions-5",
    "title": "Customizing permissions",
    "content": "The `claude-settings.json` file controls what tools and commands the agent can use without asking for confirmation. The default permissions allow:\n\n- SSH and file transfer commands\n- All 15 HostKit MCP tools\n- Build commands (`npm run build`)\n- Network tools (`curl`, `dig`)\n- Web search\n\nTo restrict an agent (e.g., a project-scoped agent that shouldn't execute arbitrary commands), remove permissions from the `allow` list.",
    "section": "Customizing permissions",
    "chunkType": "command",
    "tokens": [
      "customizing",
      "permissions",
      "the",
      "claude",
      "settings",
      "json",
      "file",
      "controls",
      "what",
      "tools",
      "and",
      "commands",
      "the",
      "agent",
      "can",
      "use",
      "without",
      "asking",
      "for",
      "confirmation",
      "the",
      "default",
      "permissions",
      "allow",
      "ssh",
      "and",
      "file",
      "transfer",
      "commands",
      "all",
      "hostkit",
      "mcp",
      "tools",
      "build",
      "commands",
      "npm",
      "run",
      "build",
      "network",
      "tools",
      "curl",
      "dig",
      "web",
      "search",
      "restrict",
      "agent",
      "project",
      "scoped",
      "agent",
      "that",
      "shouldn",
      "execute",
      "arbitrary",
      "commands",
      "remove",
      "permissions",
      "from",
      "the",
      "allow",
      "list"
    ],
    "source": "README.md"
  },
  {
    "id": "adding-custom-skills-6",
    "title": "Adding custom skills",
    "content": "Skills are markdown files in `.claude/commands/` that define reusable agent workflows. To add a new skill:\n\n1. Create a markdown file in `commands/` (e.g., `commands/my-skill.md`)\n2. Write the skill prompt -- this becomes the system instruction when invoked\n3. Copy to `.claude/commands/` in your project\n\nInvoke skills in Claude Code with `/my-skill`.",
    "section": "Adding custom skills",
    "chunkType": "concept",
    "tokens": [
      "adding",
      "custom",
      "skills",
      "skills",
      "are",
      "markdown",
      "files",
      "claude",
      "commands",
      "that",
      "define",
      "reusable",
      "agent",
      "workflows",
      "add",
      "new",
      "skill",
      "create",
      "markdown",
      "file",
      "commands",
      "commands",
      "skill",
      "write",
      "the",
      "skill",
      "prompt",
      "this",
      "becomes",
      "the",
      "system",
      "instruction",
      "when",
      "invoked",
      "copy",
      "claude",
      "commands",
      "your",
      "project",
      "invoke",
      "skills",
      "claude",
      "code",
      "with",
      "skill"
    ],
    "source": "README.md"
  },
  {
    "id": "project-agent-vs-substrate-agent-7",
    "title": "Project agent vs substrate agent",
    "content": "This template is designed for the **substrate agent** -- the central intelligence that manages the VPS and all projects. Project-specific agents should use a stripped-down version with:\n\n- Only their project's context in CLAUDE.md\n- `user: \"project\"` in MCP tool calls (restricts to own project)\n- Fewer permissions (no `hostkit_execute` for arbitrary commands)",
    "section": "Project agent vs substrate agent",
    "chunkType": "concept",
    "tokens": [
      "project",
      "agent",
      "substrate",
      "agent",
      "this",
      "template",
      "designed",
      "for",
      "the",
      "substrate",
      "agent",
      "the",
      "central",
      "intelligence",
      "that",
      "manages",
      "the",
      "vps",
      "and",
      "all",
      "projects",
      "project",
      "specific",
      "agents",
      "should",
      "use",
      "stripped",
      "down",
      "version",
      "with",
      "only",
      "their",
      "project",
      "context",
      "claude",
      "user",
      "project",
      "mcp",
      "tool",
      "calls",
      "restricts",
      "own",
      "project",
      "fewer",
      "permissions",
      "hostkit",
      "execute",
      "for",
      "arbitrary",
      "commands"
    ],
    "source": "README.md"
  },
  {
    "id": "repository-structure-0",
    "title": "Repository structure",
    "content": "```\npackages/\n├── cli/            # Python 3.11+ — runs on the VPS\n├── mcp-server/     # TypeScript (Node 20+) — runs locally\n└── agent/          # Markdown + JSON — agent configuration\n```",
    "section": "Repository structure",
    "chunkType": "example",
    "tokens": [
      "repository",
      "structure",
      "packages",
      "cli",
      "python",
      "runs",
      "the",
      "vps",
      "mcp",
      "server",
      "typescript",
      "node",
      "runs",
      "locally",
      "agent",
      "markdown",
      "json",
      "agent",
      "configuration"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "cli-python-1",
    "title": "CLI (Python)",
    "content": "```bash\ncd packages/cli\npython3 -m venv venv\nsource venv/bin/activate\npip install -e \".[dev]\"\n```\n\nVerify:\n\n```bash\nruff check src/\nmypy src/hostkit/\npytest\n```",
    "section": "Development setup",
    "chunkType": "command",
    "tokens": [
      "cli",
      "python",
      "bash",
      "packages",
      "cli",
      "python3",
      "venv",
      "venv",
      "source",
      "venv",
      "bin",
      "activate",
      "pip",
      "install",
      "dev",
      "verify",
      "bash",
      "ruff",
      "check",
      "src",
      "mypy",
      "src",
      "hostkit",
      "pytest"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "mcp-server-typescript-2",
    "title": "MCP Server (TypeScript)",
    "content": "```bash\ncd packages/mcp-server\nnpm install    # or pnpm install\nnpm run build\n```\n\nVerify:\n\n```bash\nnpm run typecheck\nnpm test\n```",
    "section": "Development setup",
    "chunkType": "command",
    "tokens": [
      "mcp",
      "server",
      "typescript",
      "bash",
      "packages",
      "mcp",
      "server",
      "npm",
      "install",
      "pnpm",
      "install",
      "npm",
      "run",
      "build",
      "verify",
      "bash",
      "npm",
      "run",
      "typecheck",
      "npm",
      "test"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "python-cli-3",
    "title": "Python (CLI)",
    "content": "- Formatter/linter: **ruff**\n- Line length: 100\n- Target: Python 3.11\n- Type checking: **mypy** (strict mode)\n- Rules: `E`, `F`, `I`, `N`, `W`, `UP` (pycodestyle, pyflakes, isort, pep8-naming, warnings, pyupgrade)\n\n```bash\n# Check\nruff check src/\n\n# Fix auto-fixable issues\nruff check --fix src/\n\n# Type check\nmypy src/hostkit/\n```",
    "section": "Code style",
    "chunkType": "command",
    "tokens": [
      "python",
      "cli",
      "formatter",
      "linter",
      "ruff",
      "line",
      "length",
      "100",
      "target",
      "python",
      "type",
      "checking",
      "mypy",
      "strict",
      "mode",
      "rules",
      "pycodestyle",
      "pyflakes",
      "isort",
      "pep8",
      "naming",
      "warnings",
      "pyupgrade",
      "bash",
      "check",
      "ruff",
      "check",
      "src",
      "fix",
      "auto",
      "fixable",
      "issues",
      "ruff",
      "check",
      "fix",
      "src",
      "type",
      "check",
      "mypy",
      "src",
      "hostkit"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "typescript-mcp-server-4",
    "title": "TypeScript (MCP Server)",
    "content": "- Compiler: **tsc** (strict mode)\n- Target: ES2022\n- Module: ESNext (ES modules)\n- Test framework: **vitest**\n\n```bash\n# Type check\nnpm run typecheck\n\n# Test\nnpm test\n```",
    "section": "Code style",
    "chunkType": "command",
    "tokens": [
      "typescript",
      "mcp",
      "server",
      "compiler",
      "tsc",
      "strict",
      "mode",
      "target",
      "es2022",
      "module",
      "esnext",
      "modules",
      "test",
      "framework",
      "vitest",
      "bash",
      "type",
      "check",
      "npm",
      "run",
      "typecheck",
      "test",
      "npm",
      "test"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "cli-5",
    "title": "CLI",
    "content": "```bash\ncd packages/cli\npytest                    # all tests\npytest tests/test_foo.py  # specific file\npytest -v                 # verbose\n```",
    "section": "Testing",
    "chunkType": "command",
    "tokens": [
      "cli",
      "bash",
      "packages",
      "cli",
      "pytest",
      "all",
      "tests",
      "pytest",
      "tests",
      "test",
      "foo",
      "specific",
      "file",
      "pytest",
      "verbose"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "cli-changes-6",
    "title": "CLI changes",
    "content": "1. Edit files in `packages/cli/src/hostkit/`\n2. Run `ruff check` and `mypy`\n3. Run `pytest`\n4. Deploy to VPS: `VPS_HOST=root@YOUR_VPS_IP ./packages/cli/scripts/deploy.sh`",
    "section": "Making changes",
    "chunkType": "concept",
    "tokens": [
      "cli",
      "changes",
      "edit",
      "files",
      "packages",
      "cli",
      "src",
      "hostkit",
      "run",
      "ruff",
      "check",
      "and",
      "mypy",
      "run",
      "pytest",
      "deploy",
      "vps",
      "vps",
      "host",
      "root",
      "your",
      "vps",
      "packages",
      "cli",
      "scripts",
      "deploy"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "mcp-server-changes-7",
    "title": "MCP server changes",
    "content": "1. Edit files in `packages/mcp-server/src/`\n2. Run `npm run build`\n3. Run `npm run typecheck`\n4. Run `npm test`\n5. Restart the MCP server in Claude Code",
    "section": "Making changes",
    "chunkType": "concept",
    "tokens": [
      "mcp",
      "server",
      "changes",
      "edit",
      "files",
      "packages",
      "mcp",
      "server",
      "src",
      "run",
      "npm",
      "run",
      "build",
      "run",
      "npm",
      "run",
      "typecheck",
      "run",
      "npm",
      "test",
      "restart",
      "the",
      "mcp",
      "server",
      "claude",
      "code"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "agent-template-changes-8",
    "title": "Agent template changes",
    "content": "1. Edit files in `packages/agent/`\n2. Verify no hardcoded IPs or secrets (`grep -rn \"145\\.\" packages/agent/`)\n3. Test by copying to a fresh project directory",
    "section": "Making changes",
    "chunkType": "concept",
    "tokens": [
      "agent",
      "template",
      "changes",
      "edit",
      "files",
      "packages",
      "agent",
      "verify",
      "hardcoded",
      "ips",
      "secrets",
      "grep",
      "145",
      "packages",
      "agent",
      "test",
      "copying",
      "fresh",
      "project",
      "directory"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "adding-a-new-cli-command-9",
    "title": "Adding a new CLI command",
    "content": "1. Create `packages/cli/src/hostkit/commands/mycommand.py`\n2. Register it in `packages/cli/src/hostkit/cli.py`\n3. If the command needs sudo access, update the sudoers template in `packages/cli/templates/operator-sudoers.j2`\n4. Add tests in `packages/cli/tests/`",
    "section": "Making changes",
    "chunkType": "command",
    "tokens": [
      "adding",
      "new",
      "cli",
      "command",
      "create",
      "packages",
      "cli",
      "src",
      "hostkit",
      "commands",
      "mycommand",
      "register",
      "packages",
      "cli",
      "src",
      "hostkit",
      "cli",
      "the",
      "command",
      "needs",
      "sudo",
      "access",
      "update",
      "the",
      "sudoers",
      "template",
      "packages",
      "cli",
      "templates",
      "operator",
      "sudoers",
      "add",
      "tests",
      "packages",
      "cli",
      "tests"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "adding-a-new-mcp-tool-10",
    "title": "Adding a new MCP tool",
    "content": "1. Create the handler in `packages/mcp-server/src/tools/mytools.ts`\n2. Add the tool definition and handler case in `packages/mcp-server/src/tools/index.ts`\n3. Add the permission to `packages/agent/claude-settings.json`\n4. Document the tool in `packages/agent/CLAUDE.md.template`",
    "section": "Making changes",
    "chunkType": "concept",
    "tokens": [
      "adding",
      "new",
      "mcp",
      "tool",
      "create",
      "the",
      "handler",
      "packages",
      "mcp",
      "server",
      "src",
      "tools",
      "mytools",
      "add",
      "the",
      "tool",
      "definition",
      "and",
      "handler",
      "case",
      "packages",
      "mcp",
      "server",
      "src",
      "tools",
      "index",
      "add",
      "the",
      "permission",
      "packages",
      "agent",
      "claude",
      "settings",
      "json",
      "document",
      "the",
      "tool",
      "packages",
      "agent",
      "claude",
      "template"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "pull-request-process-11",
    "title": "Pull request process",
    "content": "1. Create a feature branch from `main`\n2. Make your changes following the code style guidelines\n3. Run the relevant linters and tests\n4. Ensure no secrets or hardcoded IPs are in the diff\n5. Open a PR with a clear description of what changed and why",
    "section": "Pull request process",
    "chunkType": "concept",
    "tokens": [
      "pull",
      "request",
      "process",
      "create",
      "feature",
      "branch",
      "from",
      "main",
      "make",
      "your",
      "changes",
      "following",
      "the",
      "code",
      "style",
      "guidelines",
      "run",
      "the",
      "relevant",
      "linters",
      "and",
      "tests",
      "ensure",
      "secrets",
      "hardcoded",
      "ips",
      "are",
      "the",
      "diff",
      "open",
      "with",
      "clear",
      "description",
      "what",
      "changed",
      "and",
      "why"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "security-12",
    "title": "Security",
    "content": "HostKit manages production infrastructure. Before submitting changes:\n\n- Run the security grep from the root: `grep -rn \"BEGIN PRIVATE\\|BEGIN RSA\\|AKIA\\|sk-ant-\\|sk-\\|ghp_\" packages/`\n- Never commit `.env` files, private keys, or credentials\n- Never hardcode IP addresses -- use configuration or placeholders\n- Test permission changes carefully (sudoers errors can lock you out)",
    "section": "Security",
    "chunkType": "command",
    "tokens": [
      "security",
      "hostkit",
      "manages",
      "production",
      "infrastructure",
      "before",
      "submitting",
      "changes",
      "run",
      "the",
      "security",
      "grep",
      "from",
      "the",
      "root",
      "grep",
      "begin",
      "private",
      "begin",
      "rsa",
      "akia",
      "ant",
      "ghp",
      "packages",
      "never",
      "commit",
      "env",
      "files",
      "private",
      "keys",
      "credentials",
      "never",
      "hardcode",
      "addresses",
      "use",
      "configuration",
      "placeholders",
      "test",
      "permission",
      "changes",
      "carefully",
      "sudoers",
      "errors",
      "can",
      "lock",
      "you",
      "out"
    ],
    "source": "CONTRIBUTING.md"
  },
  {
    "id": "reporting-a-vulnerability-0",
    "title": "Reporting a Vulnerability",
    "content": "If you discover a security vulnerability in HostKit, please report it responsibly.\n\n**Do not open a public issue.** Instead:\n\n1. Use [GitHub Security Advisories](https://github.com/hostkit-platform/hostkit/security/advisories/new) to report privately\n2. Or email security concerns to the maintainers via the contact in the repository profile",
    "section": "Reporting a Vulnerability",
    "chunkType": "concept",
    "tokens": [
      "reporting",
      "vulnerability",
      "you",
      "discover",
      "security",
      "vulnerability",
      "hostkit",
      "please",
      "report",
      "responsibly",
      "not",
      "open",
      "public",
      "issue",
      "instead",
      "use",
      "github",
      "security",
      "advisories",
      "https",
      "github",
      "com",
      "hostkit",
      "platform",
      "hostkit",
      "security",
      "advisories",
      "new",
      "report",
      "privately",
      "email",
      "security",
      "concerns",
      "the",
      "maintainers",
      "via",
      "the",
      "contact",
      "the",
      "repository",
      "profile"
    ],
    "source": "SECURITY.md"
  },
  {
    "id": "what-counts-as-a-vulnerability-1",
    "title": "What Counts as a Vulnerability",
    "content": "**In scope:**\n\n- Unauthorized VPS access through the CLI or MCP server\n- Credential leaks (SSH keys, API tokens, database passwords)\n- Privilege escalation (project user gaining root or operator access)\n- Command injection in the CLI or MCP server\n- Authentication bypass in HostKit services (auth, payments, etc.)\n- Secrets exposed in logs or error messages\n\n**Out of scope:**\n\n- Bugs in individual project application code (not HostKit itself)\n- Issues requiring physical access to the VPS\n- Social engineering\n- Denial of service via resource exhaustion (use rate limiting)",
    "section": "What Counts as a Vulnerability",
    "chunkType": "command",
    "tokens": [
      "what",
      "counts",
      "vulnerability",
      "scope",
      "unauthorized",
      "vps",
      "access",
      "through",
      "the",
      "cli",
      "mcp",
      "server",
      "credential",
      "leaks",
      "ssh",
      "keys",
      "api",
      "tokens",
      "database",
      "passwords",
      "privilege",
      "escalation",
      "project",
      "user",
      "gaining",
      "root",
      "operator",
      "access",
      "command",
      "injection",
      "the",
      "cli",
      "mcp",
      "server",
      "authentication",
      "bypass",
      "hostkit",
      "services",
      "auth",
      "payments",
      "etc",
      "secrets",
      "exposed",
      "logs",
      "error",
      "messages",
      "out",
      "scope",
      "bugs",
      "individual",
      "project",
      "application",
      "code",
      "not",
      "hostkit",
      "itself",
      "issues",
      "requiring",
      "physical",
      "access",
      "the",
      "vps",
      "social",
      "engineering",
      "denial",
      "service",
      "via",
      "resource",
      "exhaustion",
      "use",
      "rate",
      "limiting"
    ],
    "source": "SECURITY.md"
  },
  {
    "id": "response-2",
    "title": "Response",
    "content": "We aim to acknowledge reports within 48 hours and provide a fix or mitigation plan within 7 days for confirmed vulnerabilities.",
    "section": "Response",
    "chunkType": "concept",
    "tokens": [
      "response",
      "aim",
      "acknowledge",
      "reports",
      "within",
      "hours",
      "and",
      "provide",
      "fix",
      "mitigation",
      "plan",
      "within",
      "days",
      "for",
      "confirmed",
      "vulnerabilities"
    ],
    "source": "SECURITY.md"
  },
  {
    "id": "context-protection-0",
    "title": "Context Protection",
    "content": "**CRITICAL: This loop must survive context compaction.**\n\n1. **State is truth** - Always re-read PROJECT_STATE.yaml at the start of each iteration. Never rely on memory of previous iterations.\n\n2. **Minimal agent responses** - Agents write their work to files and STATUS.yaml. Their response back to you should be a SHORT summary (under 200 words), not a full log of everything they did.\n\n3. **Checkpoint after each phase** - After updating state files, you have a clean checkpoint. If context is compacted, the next iteration will re-read state and continue correctly.\n\n4. **Loop state is externalized** - The `current_focus` and each service's `phase` in PROJECT_STATE.yaml tells you exactly where you are. You don't need to remember.\n\n5. **Self-healing** - If you're ever confused about where you are in the build, just re-read PROJECT_STATE.yaml and resume from current state. The files are the source of truth, not your context.",
    "section": "Context Protection",
    "chunkType": "concept",
    "tokens": [
      "context",
      "protection",
      "critical",
      "this",
      "loop",
      "must",
      "survive",
      "context",
      "compaction",
      "state",
      "truth",
      "always",
      "read",
      "project",
      "state",
      "yaml",
      "the",
      "start",
      "each",
      "iteration",
      "never",
      "rely",
      "memory",
      "previous",
      "iterations",
      "minimal",
      "agent",
      "responses",
      "agents",
      "write",
      "their",
      "work",
      "files",
      "and",
      "status",
      "yaml",
      "their",
      "response",
      "back",
      "you",
      "should",
      "short",
      "summary",
      "under",
      "200",
      "words",
      "not",
      "full",
      "log",
      "everything",
      "they",
      "did",
      "checkpoint",
      "after",
      "each",
      "phase",
      "after",
      "updating",
      "state",
      "files",
      "you",
      "have",
      "clean",
      "checkpoint",
      "context",
      "compacted",
      "the",
      "next",
      "iteration",
      "will",
      "read",
      "state",
      "and",
      "continue",
      "correctly",
      "loop",
      "state",
      "externalized",
      "the",
      "current",
      "focus",
      "and",
      "each",
      "service",
      "phase",
      "project",
      "state",
      "yaml",
      "tells",
      "you",
      "exactly",
      "where",
      "you",
      "are",
      "you",
      "don",
      "need",
      "remember",
      "self",
      "healing",
      "you",
      "ever",
      "confused",
      "about",
      "where",
      "you",
      "are",
      "the",
      "build",
      "just",
      "read",
      "project",
      "state",
      "yaml",
      "and",
      "resume",
      "from",
      "current",
      "state",
      "the",
      "files",
      "are",
      "the",
      "source",
      "truth",
      "not",
      "your",
      "context"
    ],
    "source": "build.md"
  },
  {
    "id": "sequential-execution-1",
    "title": "Sequential Execution",
    "content": "**STRICT RULE: One agent at a time. No parallel agents.**\n\n- Spawn ONE Task agent\n- Wait for it to complete (TaskOutput with `block: true`)\n- Process result and update state\n- Only THEN spawn the next agent\n\nDo NOT:\n- Spawn multiple agents in parallel\n- Use `run_in_background: true`\n- Start the next phase before the current one completes\n\nSequential execution is more stable and predictable. The build order exists for a reason - dependencies matter.",
    "section": "Sequential Execution",
    "chunkType": "concept",
    "tokens": [
      "sequential",
      "execution",
      "strict",
      "rule",
      "one",
      "agent",
      "time",
      "parallel",
      "agents",
      "spawn",
      "one",
      "task",
      "agent",
      "wait",
      "for",
      "complete",
      "taskoutput",
      "with",
      "block",
      "true",
      "process",
      "result",
      "and",
      "update",
      "state",
      "only",
      "then",
      "spawn",
      "the",
      "next",
      "agent",
      "not",
      "spawn",
      "multiple",
      "agents",
      "parallel",
      "use",
      "run",
      "background",
      "true",
      "start",
      "the",
      "next",
      "phase",
      "before",
      "the",
      "current",
      "one",
      "completes",
      "sequential",
      "execution",
      "more",
      "stable",
      "and",
      "predictable",
      "the",
      "build",
      "order",
      "exists",
      "for",
      "reason",
      "dependencies",
      "matter"
    ],
    "source": "build.md"
  },
  {
    "id": "step-1-read-current-state-2",
    "title": "Step 1: Read Current State",
    "content": "```\nRead: docs/PROJECT_STATE.yaml\n```\n\nParse the YAML to understand:\n- `build_order`: The sequence of services to build\n- `services`: Current status of each service\n- `current_phase`: Overall project phase\n- `global_blockers`: Anything blocking all progress",
    "section": "Execution Loop",
    "chunkType": "example",
    "tokens": [
      "step",
      "read",
      "current",
      "state",
      "read",
      "docs",
      "project",
      "state",
      "yaml",
      "parse",
      "the",
      "yaml",
      "understand",
      "build",
      "order",
      "the",
      "sequence",
      "services",
      "build",
      "services",
      "current",
      "status",
      "each",
      "service",
      "current",
      "phase",
      "overall",
      "project",
      "phase",
      "global",
      "blockers",
      "anything",
      "blocking",
      "all",
      "progress"
    ],
    "source": "build.md"
  },
  {
    "id": "step-2-check-for-blockers-3",
    "title": "Step 2: Check for Blockers",
    "content": "If `global_blockers` is not empty, STOP and report:\n> \"Build is blocked by: [blockers]. Please resolve before continuing.\"",
    "section": "Execution Loop",
    "chunkType": "concept",
    "tokens": [
      "step",
      "check",
      "for",
      "blockers",
      "global",
      "blockers",
      "not",
      "empty",
      "stop",
      "and",
      "report",
      "build",
      "blocked",
      "blockers",
      "please",
      "resolve",
      "before",
      "continuing"
    ],
    "source": "build.md"
  },
  {
    "id": "step-3-find-next-service-4",
    "title": "Step 3: Find Next Service",
    "content": "Iterate through `build_order`. Find the first service where `status` is NOT \"complete\".\n\nIf all services are complete:\n> \"All services complete. Build finished.\"\nUpdate `current_phase` to \"complete\" in PROJECT_STATE.yaml and STOP.",
    "section": "Execution Loop",
    "chunkType": "service",
    "tokens": [
      "step",
      "find",
      "next",
      "service",
      "iterate",
      "through",
      "build",
      "order",
      "find",
      "the",
      "first",
      "service",
      "where",
      "status",
      "not",
      "complete",
      "all",
      "services",
      "are",
      "complete",
      "all",
      "services",
      "complete",
      "build",
      "finished",
      "update",
      "current",
      "phase",
      "complete",
      "project",
      "state",
      "yaml",
      "and",
      "stop"
    ],
    "source": "build.md"
  },
  {
    "id": "step-4-check-service-blockers-5",
    "title": "Step 4: Check Service Blockers",
    "content": "Read that service's STATUS.yaml file:\n```\nRead: docs/services/{service}/STATUS.yaml\n```\n\nIf `blockers` is not empty, STOP and report:\n> \"Service [{service}] is blocked by: [blockers]. Please resolve before continuing.\"",
    "section": "Execution Loop",
    "chunkType": "service",
    "tokens": [
      "step",
      "check",
      "service",
      "blockers",
      "read",
      "that",
      "service",
      "status",
      "yaml",
      "file",
      "read",
      "docs",
      "services",
      "service",
      "status",
      "yaml",
      "blockers",
      "not",
      "empty",
      "stop",
      "and",
      "report",
      "service",
      "service",
      "blocked",
      "blockers",
      "please",
      "resolve",
      "before",
      "continuing"
    ],
    "source": "build.md"
  },
  {
    "id": "step-5-determine-work-phase-6",
    "title": "Step 5: Determine Work Phase",
    "content": "Based on the service's `phase` field, determine what work is needed:\n\n| Current Phase | Work Needed | Next Phase |\n|---------------|-------------|------------|\n| null | Review spec, design approach | design |\n| design | Design database schema | schema |\n| schema | Implement service code | implementation |\n| implementation | Write tests, verify | testing |\n| testing | Deploy to HostKit VPS | deployed |\n| deployed | Mark complete | complete |",
    "section": "Execution Loop",
    "chunkType": "command",
    "tokens": [
      "step",
      "determine",
      "work",
      "phase",
      "based",
      "the",
      "service",
      "phase",
      "field",
      "determine",
      "what",
      "work",
      "needed",
      "current",
      "phase",
      "work",
      "needed",
      "next",
      "phase",
      "null",
      "review",
      "spec",
      "design",
      "approach",
      "design",
      "design",
      "design",
      "database",
      "schema",
      "schema",
      "schema",
      "implement",
      "service",
      "code",
      "implementation",
      "implementation",
      "write",
      "tests",
      "verify",
      "testing",
      "testing",
      "deploy",
      "hostkit",
      "vps",
      "deployed",
      "deployed",
      "mark",
      "complete",
      "complete"
    ],
    "source": "build.md"
  },
  {
    "id": "step-6-spawn-implementation-agent-7",
    "title": "Step 6: Spawn Implementation Agent",
    "content": "Launch a SINGLE Task agent with detailed instructions:\n- `subagent_type: \"general-purpose\"`\n- `model: \"sonnet\"` (cost efficient for implementation)\n- `run_in_background: false` (or omit - must be synchronous)\n\nWait for completion before proceeding. Do NOT spawn another agent until this one finishes.\n\n**Agent prompt template:**\n\n```\nYou are implementing the {service} service for HostKit.\n\nCURRENT PHASE: {phase}\nSPEC FILE: {spec_file}\nSTATUS FILE: docs/services/{service}/STATUS.yaml\n\nYOUR TASK FOR THIS PHASE:\n{phase_specific_instructions}\n\nIMPORTANT RULES:\n1. Read the full spec file before starting\n2. Read the current STATUS.yaml to see what's already done\n3. Follow HostKit patterns from existing code (see src/hostkit/commands/ and templates/)\n4. Update STATUS.yaml as you complete work:\n   - Move items from in_progress to completed\n   - Add new blockers if encountered\n   - List files you create/modify\n5. When your phase is complete, update the phase field in STATUS.yaml\n6. If you encounter a blocker you cannot resolve, add it to blockers and STOP\n\nRESPONSE FORMAT - CRITICAL:\nYour final response back to the orchestrator must be a SHORT SUMMARY (under 200 words):\n- What you completed (bullet points)\n- Files created/modified (list)\n- New phase value\n- Any blockers encountered\nDo NOT include full file contents, logs, or verbose explanations in your response.\nAll detailed work goes into STATUS.yaml and the actual files you create.\n\nDO NOT:\n- Skip phases\n- Mark phase complete if work remains\n- Ignore existing patterns in the codebase\n- Return verbose responses (keep under 200 words)\n```\n\n**Phase-specific instructions:**\n\n- **design**: \"Review the spec file thoroughly. Document your implementation approach in docs/services/{service}/NOTES.md. Identify any open questions. Update STATUS.yaml with your plan.\"\n\n- **schema**: \"Design the database schema based on the spec. Create migration file or schema documentation. Update STATUS.yaml.\"\n\n- **implementation**: \"Implement the service following HostKit patterns. Create necessary files in src/hostkit/commands/{service}.py, src/hostkit/services/{service}_service.py, and templates/ as needed. Update STATUS.yaml with files created.\"\n\n- **testing**: \"Write tests for the service. Run tests and fix any failures. Verify the service works correctly. Update STATUS.yaml.\"\n\n- **deployed**: \"Deploy the service to the HostKit VPS. Verify it works in production. Update STATUS.yaml and mark status as complete.\"",
    "section": "Execution Loop",
    "chunkType": "command",
    "tokens": [
      "step",
      "spawn",
      "implementation",
      "agent",
      "launch",
      "single",
      "task",
      "agent",
      "with",
      "detailed",
      "instructions",
      "subagent",
      "type",
      "general",
      "purpose",
      "model",
      "sonnet",
      "cost",
      "efficient",
      "for",
      "implementation",
      "run",
      "background",
      "false",
      "omit",
      "must",
      "synchronous",
      "wait",
      "for",
      "completion",
      "before",
      "proceeding",
      "not",
      "spawn",
      "another",
      "agent",
      "until",
      "this",
      "one",
      "finishes",
      "agent",
      "prompt",
      "template",
      "you",
      "are",
      "implementing",
      "the",
      "service",
      "service",
      "for",
      "hostkit",
      "current",
      "phase",
      "phase",
      "spec",
      "file",
      "spec",
      "file",
      "status",
      "file",
      "docs",
      "services",
      "service",
      "status",
      "yaml",
      "your",
      "task",
      "for",
      "this",
      "phase",
      "phase",
      "specific",
      "instructions",
      "important",
      "rules",
      "read",
      "the",
      "full",
      "spec",
      "file",
      "before",
      "starting",
      "read",
      "the",
      "current",
      "status",
      "yaml",
      "see",
      "what",
      "already",
      "done",
      "follow",
      "hostkit",
      "patterns",
      "from",
      "existing",
      "code",
      "see",
      "src",
      "hostkit",
      "commands",
      "and",
      "templates",
      "update",
      "status",
      "yaml",
      "you",
      "complete",
      "work",
      "move",
      "items",
      "from",
      "progress",
      "completed",
      "add",
      "new",
      "blockers",
      "encountered",
      "list",
      "files",
      "you",
      "create",
      "modify",
      "when",
      "your",
      "phase",
      "complete",
      "update",
      "the",
      "phase",
      "field",
      "status",
      "yaml",
      "you",
      "encounter",
      "blocker",
      "you",
      "cannot",
      "resolve",
      "add",
      "blockers",
      "and",
      "stop",
      "response",
      "format",
      "critical",
      "your",
      "final",
      "response",
      "back",
      "the",
      "orchestrator",
      "must",
      "short",
      "summary",
      "under",
      "200",
      "words",
      "what",
      "you",
      "completed",
      "bullet",
      "points",
      "files",
      "created",
      "modified",
      "list",
      "new",
      "phase",
      "value",
      "any",
      "blockers",
      "encountered",
      "not",
      "include",
      "full",
      "file",
      "contents",
      "logs",
      "verbose",
      "explanations",
      "your",
      "response",
      "all",
      "detailed",
      "work",
      "goes",
      "into",
      "status",
      "yaml",
      "and",
      "the",
      "actual",
      "files",
      "you",
      "create",
      "not",
      "skip",
      "phases",
      "mark",
      "phase",
      "complete",
      "work",
      "remains",
      "ignore",
      "existing",
      "patterns",
      "the",
      "codebase",
      "return",
      "verbose",
      "responses",
      "keep",
      "under",
      "200",
      "words",
      "phase",
      "specific",
      "instructions",
      "design",
      "review",
      "the",
      "spec",
      "file",
      "thoroughly",
      "document",
      "your",
      "implementation",
      "approach",
      "docs",
      "services",
      "service",
      "notes",
      "identify",
      "any",
      "open",
      "questions",
      "update",
      "status",
      "yaml",
      "with",
      "your",
      "plan",
      "schema",
      "design",
      "the",
      "database",
      "schema",
      "based",
      "the",
      "spec",
      "create",
      "migration",
      "file",
      "schema",
      "documentation",
      "update",
      "status",
      "yaml",
      "implementation",
      "implement",
      "the",
      "service",
      "following",
      "hostkit",
      "patterns",
      "create",
      "necessary",
      "files",
      "src",
      "hostkit",
      "commands",
      "service",
      "src",
      "hostkit",
      "services",
      "service",
      "service",
      "and",
      "templates",
      "needed",
      "update",
      "status",
      "yaml",
      "with",
      "files",
      "created",
      "testing",
      "write",
      "tests",
      "for",
      "the",
      "service",
      "run",
      "tests",
      "and",
      "fix",
      "any",
      "failures",
      "verify",
      "the",
      "service",
      "works",
      "correctly",
      "update",
      "status",
      "yaml",
      "deployed",
      "deploy",
      "the",
      "service",
      "the",
      "hostkit",
      "vps",
      "verify",
      "works",
      "production",
      "update",
      "status",
      "yaml",
      "and",
      "mark",
      "status",
      "complete"
    ],
    "source": "build.md"
  },
  {
    "id": "step-7-wait-and-process-result-8",
    "title": "Step 7: Wait and Process Result",
    "content": "Wait for the agent to complete using TaskOutput with `block: true`.\n\nRead the updated STATUS.yaml to verify:\n- Phase was advanced OR blocker was added\n- Work was documented",
    "section": "Execution Loop",
    "chunkType": "concept",
    "tokens": [
      "step",
      "wait",
      "and",
      "process",
      "result",
      "wait",
      "for",
      "the",
      "agent",
      "complete",
      "using",
      "taskoutput",
      "with",
      "block",
      "true",
      "read",
      "the",
      "updated",
      "status",
      "yaml",
      "verify",
      "phase",
      "was",
      "advanced",
      "blocker",
      "was",
      "added",
      "work",
      "was",
      "documented"
    ],
    "source": "build.md"
  },
  {
    "id": "step-8-update-master-state-9",
    "title": "Step 8: Update Master State",
    "content": "Update PROJECT_STATE.yaml:\n- Set `current_focus` to the service being worked on\n- Update that service's `status` and `phase` based on STATUS.yaml\n- Update `last_session` with current date and summary",
    "section": "Execution Loop",
    "chunkType": "concept",
    "tokens": [
      "step",
      "update",
      "master",
      "state",
      "update",
      "project",
      "state",
      "yaml",
      "set",
      "current",
      "focus",
      "the",
      "service",
      "being",
      "worked",
      "update",
      "that",
      "service",
      "status",
      "and",
      "phase",
      "based",
      "status",
      "yaml",
      "update",
      "last",
      "session",
      "with",
      "current",
      "date",
      "and",
      "summary"
    ],
    "source": "build.md"
  },
  {
    "id": "step-9-continue-or-report-10",
    "title": "Step 9: Continue or Report",
    "content": "If the service hit a blocker:\n> \"Service [{service}] blocked at phase [{phase}]: [blocker]. Stopping for resolution.\"\nSTOP.\n\nIf the service phase advanced but not yet complete:\n> \"Service [{service}] advanced to phase [{new_phase}]. Continuing...\"\nGO TO Step 1 (re-read state to stay grounded, then continue).\n\nIf the service is now complete:\n> \"Service [{service}] complete. Moving to next service...\"\nGO TO Step 1 (re-read state fresh, then find next service).",
    "section": "Execution Loop",
    "chunkType": "concept",
    "tokens": [
      "step",
      "continue",
      "report",
      "the",
      "service",
      "hit",
      "blocker",
      "service",
      "service",
      "blocked",
      "phase",
      "phase",
      "blocker",
      "stopping",
      "for",
      "resolution",
      "stop",
      "the",
      "service",
      "phase",
      "advanced",
      "but",
      "not",
      "yet",
      "complete",
      "service",
      "service",
      "advanced",
      "phase",
      "new",
      "phase",
      "continuing",
      "step",
      "read",
      "state",
      "stay",
      "grounded",
      "then",
      "continue",
      "the",
      "service",
      "now",
      "complete",
      "service",
      "service",
      "complete",
      "moving",
      "next",
      "service",
      "step",
      "read",
      "state",
      "fresh",
      "then",
      "find",
      "next",
      "service"
    ],
    "source": "build.md"
  },
  {
    "id": "progress-reporting-11",
    "title": "Progress Reporting",
    "content": "After each agent completes, briefly report:\n```\n[{service}] Phase: {phase} → {new_phase}\n  Completed: {what was done}\n  Next: {what's next}\n```",
    "section": "Progress Reporting",
    "chunkType": "example",
    "tokens": [
      "progress",
      "reporting",
      "after",
      "each",
      "agent",
      "completes",
      "briefly",
      "report",
      "service",
      "phase",
      "phase",
      "new",
      "phase",
      "completed",
      "what",
      "was",
      "done",
      "next",
      "what",
      "next"
    ],
    "source": "build.md"
  },
  {
    "id": "decisions-12",
    "title": "Decisions",
    "content": "When agents encounter decisions that need human input, they should:\n1. Add to `open_questions` in STATUS.yaml\n2. Add a blocker: \"Decision needed: [question]\"\n3. Stop work\n\nYou (the orchestrator) will then stop and surface this to the user.",
    "section": "Decisions",
    "chunkType": "concept",
    "tokens": [
      "decisions",
      "when",
      "agents",
      "encounter",
      "decisions",
      "that",
      "need",
      "human",
      "input",
      "they",
      "should",
      "add",
      "open",
      "questions",
      "status",
      "yaml",
      "add",
      "blocker",
      "decision",
      "needed",
      "question",
      "stop",
      "work",
      "you",
      "the",
      "orchestrator",
      "will",
      "then",
      "stop",
      "and",
      "surface",
      "this",
      "the",
      "user"
    ],
    "source": "build.md"
  },
  {
    "id": "manual-override-13",
    "title": "Manual Override",
    "content": "User can say:\n- \"skip to [service]\" - Jump to a specific service\n- \"redo [phase]\" - Re-run a phase\n- \"pause\" - Stop the loop gracefully\n- \"status\" - Report current state without continuing",
    "section": "Manual Override",
    "chunkType": "concept",
    "tokens": [
      "manual",
      "override",
      "user",
      "can",
      "say",
      "skip",
      "service",
      "jump",
      "specific",
      "service",
      "redo",
      "phase",
      "run",
      "phase",
      "pause",
      "stop",
      "the",
      "loop",
      "gracefully",
      "status",
      "report",
      "current",
      "state",
      "without",
      "continuing"
    ],
    "source": "build.md"
  },
  {
    "id": "pre-deploy-checklist-0",
    "title": "Pre-Deploy Checklist",
    "content": "Before deploying, verify:\n\n1. **Runtime is correct** — the HostKit project must have been created with `--nextjs`. Runtime is immutable. If wrong, the project must be deleted and recreated.\n2. **`next.config.js` has standalone output** — required for HostKit:\n   ```js\n   output: \"standalone\"\n   ```\n   If missing, add it and rebuild.\n3. **Project name is lowercase with hyphens only** — no underscores, no uppercase.",
    "section": "Pre-Deploy Checklist",
    "chunkType": "command",
    "tokens": [
      "pre",
      "deploy",
      "checklist",
      "before",
      "deploying",
      "verify",
      "runtime",
      "correct",
      "the",
      "hostkit",
      "project",
      "must",
      "have",
      "been",
      "created",
      "with",
      "nextjs",
      "runtime",
      "immutable",
      "wrong",
      "the",
      "project",
      "must",
      "deleted",
      "and",
      "recreated",
      "next",
      "config",
      "has",
      "standalone",
      "output",
      "required",
      "for",
      "hostkit",
      "output",
      "standalone",
      "missing",
      "add",
      "and",
      "rebuild",
      "project",
      "name",
      "lowercase",
      "with",
      "hyphens",
      "only",
      "underscores",
      "uppercase"
    ],
    "source": "deploy-nextjs.md"
  },
  {
    "id": "step-1-build-locally-1",
    "title": "Step 1: Build Locally",
    "content": "```bash\ncd {project_local_path}\nnpm run build\n```\n\nVerify the build succeeded:\n- `.next/` directory exists and was freshly created\n- No build errors in output\n- If using `output: \"standalone\"`, verify `.next/standalone/` exists\n\n**Do NOT skip the local build.** HostKit's remote build may timeout or fail silently on large projects.",
    "section": "Step 1: Build Locally",
    "chunkType": "command",
    "tokens": [
      "step",
      "build",
      "locally",
      "bash",
      "project",
      "local",
      "path",
      "npm",
      "run",
      "build",
      "verify",
      "the",
      "build",
      "succeeded",
      "next",
      "directory",
      "exists",
      "and",
      "was",
      "freshly",
      "created",
      "build",
      "errors",
      "output",
      "using",
      "output",
      "standalone",
      "verify",
      "next",
      "standalone",
      "exists",
      "not",
      "skip",
      "the",
      "local",
      "build",
      "hostkit",
      "remote",
      "build",
      "may",
      "timeout",
      "fail",
      "silently",
      "large",
      "projects"
    ],
    "source": "deploy-nextjs.md"
  },
  {
    "id": "step-2-deploy-with-hostkit-deploy-local-2",
    "title": "Step 2: Deploy with hostkit_deploy_local",
    "content": "Use the MCP tool with ALL required flags:\n\n```\nhostkit_deploy_local:\n  project: \"{project_name}\"\n  local_path: \"{project_local_path}\"\n  install: true\n  build: true\n  wait_healthy: true\n```\n\n**CRITICAL FLAGS:**\n- `install: true` — runs `npm install` on VPS. Skipping this causes \"module not found\" crash loops.\n- `build: true` — runs `npm run build` on VPS. Skipping this serves stale builds.\n- `wait_healthy: true` — blocks until the service responds to health checks.\n\n**All three flags are MANDATORY. Never omit them.**",
    "section": "Step 2: Deploy with hostkit_deploy_local",
    "chunkType": "example",
    "tokens": [
      "step",
      "deploy",
      "with",
      "hostkit",
      "deploy",
      "local",
      "use",
      "the",
      "mcp",
      "tool",
      "with",
      "all",
      "required",
      "flags",
      "hostkit",
      "deploy",
      "local",
      "project",
      "project",
      "name",
      "local",
      "path",
      "project",
      "local",
      "path",
      "install",
      "true",
      "build",
      "true",
      "wait",
      "healthy",
      "true",
      "critical",
      "flags",
      "install",
      "true",
      "runs",
      "npm",
      "install",
      "vps",
      "skipping",
      "this",
      "causes",
      "module",
      "not",
      "found",
      "crash",
      "loops",
      "build",
      "true",
      "runs",
      "npm",
      "run",
      "build",
      "vps",
      "skipping",
      "this",
      "serves",
      "stale",
      "builds",
      "wait",
      "healthy",
      "true",
      "blocks",
      "until",
      "the",
      "service",
      "responds",
      "health",
      "checks",
      "all",
      "three",
      "flags",
      "are",
      "mandatory",
      "never",
      "omit",
      "them"
    ],
    "source": "deploy-nextjs.md"
  },
  {
    "id": "step-2-alternative-large-projects-that-timeout-3",
    "title": "Step 2 (Alternative): Large Projects That Timeout",
    "content": "If rsync times out during `hostkit_deploy_local`, use the manual approach:\n\n1. **Rsync with proper excludes:**\n   ```bash\n   rsync -avz --delete \\\n     --exclude=node_modules \\\n     --exclude=.git \\\n     --exclude=.next \\\n     {project_local_path}/ ai-operator@{VPS_IP}:/tmp/{project_name}-deploy/\n   ```\n\n   **IMPORTANT:** Use root-anchored excludes (`--exclude=/images`) to avoid matching subdirectories. Unanchored `--exclude=images` will match ALL `images/` directories at any depth.\n\n2. **Deploy from remote source:**\n   ```\n   hostkit_execute:\n     command: \"deploy {project_name} --source /tmp/{project_name}-deploy --install --build\"\n   ```\n\n3. **Wait for healthy:**\n   ```\n   hostkit_wait_healthy:\n     project: \"{project_name}\"\n   ```",
    "section": "Step 2 (Alternative): Large Projects That Timeout",
    "chunkType": "command",
    "tokens": [
      "step",
      "alternative",
      "large",
      "projects",
      "that",
      "timeout",
      "rsync",
      "times",
      "out",
      "during",
      "hostkit",
      "deploy",
      "local",
      "use",
      "the",
      "manual",
      "approach",
      "rsync",
      "with",
      "proper",
      "excludes",
      "bash",
      "rsync",
      "avz",
      "delete",
      "exclude",
      "node",
      "modules",
      "exclude",
      "git",
      "exclude",
      "next",
      "project",
      "local",
      "path",
      "operator",
      "vps",
      "tmp",
      "project",
      "name",
      "deploy",
      "important",
      "use",
      "root",
      "anchored",
      "excludes",
      "exclude",
      "images",
      "avoid",
      "matching",
      "subdirectories",
      "unanchored",
      "exclude",
      "images",
      "will",
      "match",
      "all",
      "images",
      "directories",
      "any",
      "depth",
      "deploy",
      "from",
      "remote",
      "source",
      "hostkit",
      "execute",
      "command",
      "deploy",
      "project",
      "name",
      "source",
      "tmp",
      "project",
      "name",
      "deploy",
      "install",
      "build",
      "wait",
      "for",
      "healthy",
      "hostkit",
      "wait",
      "healthy",
      "project",
      "project",
      "name"
    ],
    "source": "deploy-nextjs.md"
  },
  {
    "id": "step-3-post-deploy-verification-mandatory-4",
    "title": "Step 3: Post-Deploy Verification (MANDATORY)",
    "content": "Health checks alone are NOT sufficient — they pass even with broken assets, missing CSS, or 500 errors on actual pages.\n\n**You MUST verify the actual site:**\n\n1. **Check the home page loads:**\n   ```\n   Use Playwright MCP to navigate to https://{project_name}.hostkit.dev\n   Take a snapshot and verify content renders correctly\n   ```\n\n2. **Check for console errors:**\n   ```\n   Use browser_console_messages to check for JavaScript errors\n   ```\n\n3. **If behind Cloudflare** — assets may be cached from a broken deploy. Append `?v={timestamp}` to bust cache, or purge via Cloudflare dashboard.",
    "section": "Step 3: Post-Deploy Verification (MANDATORY)",
    "chunkType": "example",
    "tokens": [
      "step",
      "post",
      "deploy",
      "verification",
      "mandatory",
      "health",
      "checks",
      "alone",
      "are",
      "not",
      "sufficient",
      "they",
      "pass",
      "even",
      "with",
      "broken",
      "assets",
      "missing",
      "css",
      "500",
      "errors",
      "actual",
      "pages",
      "you",
      "must",
      "verify",
      "the",
      "actual",
      "site",
      "check",
      "the",
      "home",
      "page",
      "loads",
      "use",
      "playwright",
      "mcp",
      "navigate",
      "https",
      "project",
      "name",
      "hostkit",
      "dev",
      "take",
      "snapshot",
      "and",
      "verify",
      "content",
      "renders",
      "correctly",
      "check",
      "for",
      "console",
      "errors",
      "use",
      "browser",
      "console",
      "messages",
      "check",
      "for",
      "javascript",
      "errors",
      "behind",
      "cloudflare",
      "assets",
      "may",
      "cached",
      "from",
      "broken",
      "deploy",
      "append",
      "timestamp",
      "bust",
      "cache",
      "purge",
      "via",
      "cloudflare",
      "dashboard"
    ],
    "source": "deploy-nextjs.md"
  },
  {
    "id": "troubleshooting-5",
    "title": "Troubleshooting",
    "content": "| Symptom | Cause | Fix |\n|---------|-------|-----|\n| Crash loop (restarts every few seconds) | Missing `install: true` | Redeploy with `install: true` |\n| \"Module not found\" in logs | Missing `install: true` | Redeploy with `install: true` |\n| Stale content after deploy | Missing `build: true` | Redeploy with `build: true` |\n| Site loads but missing CSS/images | Bad rsync excludes or Cloudflare cache | Check excludes, bust cache |\n| Health check passes but site broken | Health endpoint doesn't check full app | Use Playwright to verify |\n| \"next: command not found\" | Wrong runtime (not `--nextjs`) | Delete project, recreate with `--nextjs` |",
    "section": "Troubleshooting",
    "chunkType": "concept",
    "tokens": [
      "troubleshooting",
      "symptom",
      "cause",
      "fix",
      "crash",
      "loop",
      "restarts",
      "every",
      "few",
      "seconds",
      "missing",
      "install",
      "true",
      "redeploy",
      "with",
      "install",
      "true",
      "module",
      "not",
      "found",
      "logs",
      "missing",
      "install",
      "true",
      "redeploy",
      "with",
      "install",
      "true",
      "stale",
      "content",
      "after",
      "deploy",
      "missing",
      "build",
      "true",
      "redeploy",
      "with",
      "build",
      "true",
      "site",
      "loads",
      "but",
      "missing",
      "css",
      "images",
      "bad",
      "rsync",
      "excludes",
      "cloudflare",
      "cache",
      "check",
      "excludes",
      "bust",
      "cache",
      "health",
      "check",
      "passes",
      "but",
      "site",
      "broken",
      "health",
      "endpoint",
      "doesn",
      "check",
      "full",
      "app",
      "use",
      "playwright",
      "verify",
      "next",
      "command",
      "not",
      "found",
      "wrong",
      "runtime",
      "not",
      "nextjs",
      "delete",
      "project",
      "recreate",
      "with",
      "nextjs"
    ],
    "source": "deploy-nextjs.md"
  },
  {
    "id": "summary-6",
    "title": "Summary",
    "content": "The deployment formula is:\n\n```\n1. npm run build          (local)\n2. hostkit_deploy_local   (install=true, build=true, wait_healthy=true)\n3. Playwright verify      (navigate, snapshot, check console)\n```\n\nNever deviate from this. Never skip flags. Never trust health checks alone.",
    "section": "Summary",
    "chunkType": "example",
    "tokens": [
      "summary",
      "the",
      "deployment",
      "formula",
      "npm",
      "run",
      "build",
      "local",
      "hostkit",
      "deploy",
      "local",
      "install",
      "true",
      "build",
      "true",
      "wait",
      "healthy",
      "true",
      "playwright",
      "verify",
      "navigate",
      "snapshot",
      "check",
      "console",
      "never",
      "deviate",
      "from",
      "this",
      "never",
      "skip",
      "flags",
      "never",
      "trust",
      "health",
      "checks",
      "alone"
    ],
    "source": "deploy-nextjs.md"
  },
  {
    "id": "step-1-gather-inputs-0",
    "title": "Step 1: Gather Inputs",
    "content": "Ask the user for:\n- **Project name** (required)\n- **Local part / username** — e.g. `tony` (required)\n- **Custom domain** (optional, defaults to `<project>.hostkit.dev`)\n\nDerive:\n```\nDOMAIN = custom_domain or \"<project>.hostkit.dev\"\nEMAIL  = \"<local_part>@<DOMAIN>\"\n```",
    "section": "Step 1: Gather Inputs",
    "chunkType": "example",
    "tokens": [
      "step",
      "gather",
      "inputs",
      "ask",
      "the",
      "user",
      "for",
      "project",
      "name",
      "required",
      "local",
      "part",
      "username",
      "tony",
      "required",
      "custom",
      "domain",
      "optional",
      "defaults",
      "project",
      "hostkit",
      "dev",
      "derive",
      "domain",
      "custom",
      "domain",
      "project",
      "hostkit",
      "dev",
      "email",
      "local",
      "part",
      "domain"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "2a-verify-the-project-exists-1",
    "title": "2a — Verify the project exists",
    "content": "```\nhostkit_state: scope=\"project\", project=\"<project>\"\n```\n\nIf the project does not exist, STOP and tell the user.",
    "section": "Step 2: Pre-flight Checks",
    "chunkType": "example",
    "tokens": [
      "verify",
      "the",
      "project",
      "exists",
      "hostkit",
      "state",
      "scope",
      "project",
      "project",
      "project",
      "the",
      "project",
      "does",
      "not",
      "exist",
      "stop",
      "and",
      "tell",
      "the",
      "user"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "2b-check-if-mail-is-already-enabled-2",
    "title": "2b — Check if mail is already enabled",
    "content": "Look at the project capabilities/services in the state response. Note whether mail is already enabled.",
    "section": "Step 2: Pre-flight Checks",
    "chunkType": "concept",
    "tokens": [
      "check",
      "mail",
      "already",
      "enabled",
      "look",
      "the",
      "project",
      "capabilities",
      "services",
      "the",
      "state",
      "response",
      "note",
      "whether",
      "mail",
      "already",
      "enabled"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "2c-record-current-nginx-state-critical-3",
    "title": "2c — Record current nginx state (CRITICAL)",
    "content": "Check whether a project-specific nginx config already exists:\n\n```bash\nssh root@{{VPS_IP}} \"test -f /etc/nginx/sites-enabled/hostkit-<project> && echo EXISTS || echo MISSING\"\n```\n\nSave this result — you need it in Step 4.",
    "section": "Step 2: Pre-flight Checks",
    "chunkType": "command",
    "tokens": [
      "record",
      "current",
      "nginx",
      "state",
      "critical",
      "check",
      "whether",
      "project",
      "specific",
      "nginx",
      "config",
      "already",
      "exists",
      "bash",
      "ssh",
      "root",
      "vps",
      "test",
      "etc",
      "nginx",
      "sites",
      "enabled",
      "hostkit",
      "project",
      "echo",
      "exists",
      "echo",
      "missing",
      "save",
      "this",
      "result",
      "you",
      "need",
      "step"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "step-3-enable-mail-if-needed-4",
    "title": "Step 3: Enable Mail (if needed)",
    "content": "If mail is not already enabled:\n\n```\nhostkit_execute: command=\"mail enable <project>\"\n```\n\nIf mail is already enabled, skip to Step 4.",
    "section": "Step 3: Enable Mail (if needed)",
    "chunkType": "example",
    "tokens": [
      "step",
      "enable",
      "mail",
      "needed",
      "mail",
      "not",
      "already",
      "enabled",
      "hostkit",
      "execute",
      "command",
      "mail",
      "enable",
      "project",
      "mail",
      "already",
      "enabled",
      "skip",
      "step"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "step-4-nginx-safeguard-5",
    "title": "Step 4: Nginx Safeguard",
    "content": "**WHY THIS MATTERS:** `mail enable` can create a project-specific nginx config (`hostkit-<project>`) that **breaks the site**. The wildcard config at `hostkit-wildcard` already handles all `*.hostkit.dev` subdomains with SSL, HTTPS redirect, and service routing. A project-specific config takes precedence (exact server_name match over regex) but typically only listens on port 80 with no SSL — breaking HTTPS access.",
    "section": "Step 4: Nginx Safeguard",
    "chunkType": "concept",
    "tokens": [
      "step",
      "nginx",
      "safeguard",
      "why",
      "this",
      "matters",
      "mail",
      "enable",
      "can",
      "create",
      "project",
      "specific",
      "nginx",
      "config",
      "hostkit",
      "project",
      "that",
      "breaks",
      "the",
      "site",
      "the",
      "wildcard",
      "config",
      "hostkit",
      "wildcard",
      "already",
      "handles",
      "all",
      "hostkit",
      "dev",
      "subdomains",
      "with",
      "ssl",
      "https",
      "redirect",
      "and",
      "service",
      "routing",
      "project",
      "specific",
      "config",
      "takes",
      "precedence",
      "exact",
      "server",
      "name",
      "match",
      "over",
      "regex",
      "but",
      "typically",
      "only",
      "listens",
      "port",
      "with",
      "ssl",
      "breaking",
      "https",
      "access"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "4a-check-if-a-new-config-was-created-6",
    "title": "4a — Check if a NEW config was created",
    "content": "```bash\nssh root@{{VPS_IP}} \"test -f /etc/nginx/sites-enabled/hostkit-<project> && echo EXISTS || echo MISSING\"\n```\n\nCompare to the result from Step 2c:\n- If it was **MISSING before** and now **EXISTS** → `mail enable` created it. Proceed to 4b.\n- If it **already existed** before → do not remove it. Skip to Step 5.\n- If it is still **MISSING** → nothing to do. Skip to Step 5.",
    "section": "Step 4: Nginx Safeguard",
    "chunkType": "command",
    "tokens": [
      "check",
      "new",
      "config",
      "was",
      "created",
      "bash",
      "ssh",
      "root",
      "vps",
      "test",
      "etc",
      "nginx",
      "sites",
      "enabled",
      "hostkit",
      "project",
      "echo",
      "exists",
      "echo",
      "missing",
      "compare",
      "the",
      "result",
      "from",
      "step",
      "was",
      "missing",
      "before",
      "and",
      "now",
      "exists",
      "mail",
      "enable",
      "created",
      "proceed",
      "already",
      "existed",
      "before",
      "not",
      "remove",
      "skip",
      "step",
      "still",
      "missing",
      "nothing",
      "skip",
      "step"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "4b-check-wildcard-port-mappings-7",
    "title": "4b — Check wildcard port mappings",
    "content": "```bash\nssh root@{{VPS_IP}} \"grep <project> /etc/nginx/hostkit-ports.conf\"\n```\n\nIf the project appears in the wildcard port mappings, the wildcard config already routes traffic correctly. The project-specific config is redundant and harmful.",
    "section": "Step 4: Nginx Safeguard",
    "chunkType": "command",
    "tokens": [
      "check",
      "wildcard",
      "port",
      "mappings",
      "bash",
      "ssh",
      "root",
      "vps",
      "grep",
      "project",
      "etc",
      "nginx",
      "hostkit",
      "ports",
      "conf",
      "the",
      "project",
      "appears",
      "the",
      "wildcard",
      "port",
      "mappings",
      "the",
      "wildcard",
      "config",
      "already",
      "routes",
      "traffic",
      "correctly",
      "the",
      "project",
      "specific",
      "config",
      "redundant",
      "and",
      "harmful"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "4d-reload-nginx-safely-8",
    "title": "4d — Reload nginx safely",
    "content": "```bash\nssh root@{{VPS_IP}} \"nginx -t && systemctl reload nginx\"\n```\n\nIf `nginx -t` fails, STOP and report the error. Do not reload with a broken config.",
    "section": "Step 4: Nginx Safeguard",
    "chunkType": "command",
    "tokens": [
      "reload",
      "nginx",
      "safely",
      "bash",
      "ssh",
      "root",
      "vps",
      "nginx",
      "systemctl",
      "reload",
      "nginx",
      "nginx",
      "fails",
      "stop",
      "and",
      "report",
      "the",
      "error",
      "not",
      "reload",
      "with",
      "broken",
      "config"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "4e-verify-the-site-is-still-accessible-9",
    "title": "4e — Verify the site is still accessible",
    "content": "```\nhostkit_execute: command=\"health <project>\"\n```\n\nIf unhealthy, STOP and troubleshoot before continuing.",
    "section": "Step 4: Nginx Safeguard",
    "chunkType": "example",
    "tokens": [
      "verify",
      "the",
      "site",
      "still",
      "accessible",
      "hostkit",
      "execute",
      "command",
      "health",
      "project",
      "unhealthy",
      "stop",
      "and",
      "troubleshoot",
      "before",
      "continuing"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "step-5-create-the-mailbox-10",
    "title": "Step 5: Create the Mailbox",
    "content": "```\nhostkit_execute: command=\"mail add <project> <local_part>\"\n```\n\n**Save the password** from the response — you will need it for the final output.\n\nIf the mailbox already exists, note this and continue (the password may not be returned; inform the user they need to use their existing password or reset it).",
    "section": "Step 5: Create the Mailbox",
    "chunkType": "example",
    "tokens": [
      "step",
      "create",
      "the",
      "mailbox",
      "hostkit",
      "execute",
      "command",
      "mail",
      "add",
      "project",
      "local",
      "part",
      "save",
      "the",
      "password",
      "from",
      "the",
      "response",
      "you",
      "will",
      "need",
      "for",
      "the",
      "final",
      "output",
      "the",
      "mailbox",
      "already",
      "exists",
      "note",
      "this",
      "and",
      "continue",
      "the",
      "password",
      "may",
      "not",
      "returned",
      "inform",
      "the",
      "user",
      "they",
      "need",
      "use",
      "their",
      "existing",
      "password",
      "reset"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "step-6-create-standard-imap-folders-11",
    "title": "Step 6: Create Standard IMAP Folders",
    "content": "Dovecot auto-subscribe may not create physical Maildir directories until first access. Create them now so mail clients see all folders immediately:\n\n```bash\nssh root@{{VPS_IP}} \"\n  MAILDIR=/var/mail/vhosts/<DOMAIN>/<local_part>\n  for folder in .Sent .Drafts .Trash .Junk .Archive; do\n    mkdir -p \\$MAILDIR/\\$folder/{cur,new,tmp}\n  done\n  chown -R vmail:vmail \\$MAILDIR\n\"\n```\n\nVerify the folders exist:\n\n```bash\nssh root@{{VPS_IP}} \"ls -d /var/mail/vhosts/<DOMAIN>/<local_part>/.{Sent,Drafts,Trash,Junk,Archive}\"\n```",
    "section": "Step 6: Create Standard IMAP Folders",
    "chunkType": "command",
    "tokens": [
      "step",
      "create",
      "standard",
      "imap",
      "folders",
      "dovecot",
      "auto",
      "subscribe",
      "may",
      "not",
      "create",
      "physical",
      "maildir",
      "directories",
      "until",
      "first",
      "access",
      "create",
      "them",
      "now",
      "mail",
      "clients",
      "see",
      "all",
      "folders",
      "immediately",
      "bash",
      "ssh",
      "root",
      "vps",
      "maildir",
      "var",
      "mail",
      "vhosts",
      "domain",
      "local",
      "part",
      "for",
      "folder",
      "sent",
      "drafts",
      "trash",
      "junk",
      "archive",
      "mkdir",
      "maildir",
      "folder",
      "cur",
      "new",
      "tmp",
      "done",
      "chown",
      "vmail",
      "vmail",
      "maildir",
      "verify",
      "the",
      "folders",
      "exist",
      "bash",
      "ssh",
      "root",
      "vps",
      "var",
      "mail",
      "vhosts",
      "domain",
      "local",
      "part",
      "sent",
      "drafts",
      "trash",
      "junk",
      "archive"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "step-7-verify-dovecot-auto-subscribe-config-12",
    "title": "Step 7: Verify Dovecot Auto-Subscribe Config",
    "content": "Check that Dovecot is configured to auto-subscribe clients to standard folders:\n\n```bash\nssh root@{{VPS_IP}} \"cat /etc/dovecot/conf.d/15-mailboxes.conf\"\n```\n\nVerify these mailboxes have `auto = subscribe`:\n- Drafts\n- Sent (or \"Sent Messages\")\n- Trash (or \"Deleted Messages\")\n- Junk (or \"Spam\")\n- Archive\n\nIf any are missing `auto = subscribe`, write the correct config:\n\n```bash\nssh root@{{VPS_IP}} \"cat > /etc/dovecot/conf.d/15-mailboxes.conf << 'CONF'\nnamespace inbox {\n  mailbox Drafts {\n    auto = subscribe\n    special_use = \\Drafts\n  }\n  mailbox Sent {\n    auto = subscribe\n    special_use = \\Sent\n  }\n  mailbox Trash {\n    auto = subscribe\n    special_use = \\Trash\n  }\n  mailbox Junk {\n    auto = subscribe\n    special_use = \\Junk\n  }\n  mailbox Archive {\n    auto = subscribe\n    special_use = \\Archive\n  }\n}\nCONF\"\n```\n\nThen reload Dovecot:\n\n```bash\nssh root@{{VPS_IP}} \"systemctl reload dovecot\"\n```",
    "section": "Step 7: Verify Dovecot Auto-Subscribe Config",
    "chunkType": "command",
    "tokens": [
      "step",
      "verify",
      "dovecot",
      "auto",
      "subscribe",
      "config",
      "check",
      "that",
      "dovecot",
      "configured",
      "auto",
      "subscribe",
      "clients",
      "standard",
      "folders",
      "bash",
      "ssh",
      "root",
      "vps",
      "cat",
      "etc",
      "dovecot",
      "conf",
      "mailboxes",
      "conf",
      "verify",
      "these",
      "mailboxes",
      "have",
      "auto",
      "subscribe",
      "drafts",
      "sent",
      "sent",
      "messages",
      "trash",
      "deleted",
      "messages",
      "junk",
      "spam",
      "archive",
      "any",
      "are",
      "missing",
      "auto",
      "subscribe",
      "write",
      "the",
      "correct",
      "config",
      "bash",
      "ssh",
      "root",
      "vps",
      "cat",
      "etc",
      "dovecot",
      "conf",
      "mailboxes",
      "conf",
      "conf",
      "namespace",
      "inbox",
      "mailbox",
      "drafts",
      "auto",
      "subscribe",
      "special",
      "use",
      "drafts",
      "mailbox",
      "sent",
      "auto",
      "subscribe",
      "special",
      "use",
      "sent",
      "mailbox",
      "trash",
      "auto",
      "subscribe",
      "special",
      "use",
      "trash",
      "mailbox",
      "junk",
      "auto",
      "subscribe",
      "special",
      "use",
      "junk",
      "mailbox",
      "archive",
      "auto",
      "subscribe",
      "special",
      "use",
      "archive",
      "conf",
      "then",
      "reload",
      "dovecot",
      "bash",
      "ssh",
      "root",
      "vps",
      "systemctl",
      "reload",
      "dovecot"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "8a-get-cloudflare-api-credentials-13",
    "title": "8a — Get Cloudflare API credentials",
    "content": "```bash\nssh root@{{VPS_IP}} \"cat /etc/cloudflare/hostkit.ini\"\n```\n\nExtract the `dns_cloudflare_api_token` value.\n\n**Constants:**\n- Zone ID: `566dd24dd0a0c2b210aecccf58eed373`\n- VPS IP: `{{VPS_IP}}`",
    "section": "Step 8: Set Up DNS in Cloudflare",
    "chunkType": "command",
    "tokens": [
      "get",
      "cloudflare",
      "api",
      "credentials",
      "bash",
      "ssh",
      "root",
      "vps",
      "cat",
      "etc",
      "cloudflare",
      "hostkit",
      "ini",
      "extract",
      "the",
      "dns",
      "cloudflare",
      "api",
      "token",
      "value",
      "constants",
      "zone",
      "566dd24dd0a0c2b210aecccf58eed373",
      "vps",
      "vps"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "8b-check-existing-dns-records-14",
    "title": "8b — Check existing DNS records",
    "content": "Query Cloudflare to avoid creating duplicates:\n\n```\nWebFetch:\n  url: https://api.cloudflare.com/client/v4/zones/566dd24dd0a0c2b210aecccf58eed373/dns_records?name=<DOMAIN>\n  headers: Authorization: Bearer <token>\n```\n\nUse `curl` via Bash for API calls since WebFetch cannot set auth headers:\n\n```bash\ncurl -s -X GET \"https://api.cloudflare.com/client/v4/zones/566dd24dd0a0c2b210aecccf58eed373/dns_records?name=<DOMAIN>\" \\\n  -H \"Authorization: Bearer <token>\" \\\n  -H \"Content-Type: application/json\"\n```\n\nAlso check for `mail.<DOMAIN>` and `_dmarc.<DOMAIN>`:\n\n```bash\ncurl -s -X GET \"https://api.cloudflare.com/client/v4/zones/566dd24dd0a0c2b210aecccf58eed373/dns_records?name=mail.<DOMAIN>\" \\\n  -H \"Authorization: Bearer <token>\" \\\n  -H \"Content-Type: application/json\"\n\ncurl -s -X GET \"https://api.cloudflare.com/client/v4/zones/566dd24dd0a0c2b210aecccf58eed373/dns_records?name=_dmarc.<DOMAIN>\" \\\n  -H \"Authorization: Bearer <token>\" \\\n  -H \"Content-Type: application/json\"\n```",
    "section": "Step 8: Set Up DNS in Cloudflare",
    "chunkType": "command",
    "tokens": [
      "check",
      "existing",
      "dns",
      "records",
      "query",
      "cloudflare",
      "avoid",
      "creating",
      "duplicates",
      "webfetch",
      "url",
      "https",
      "api",
      "cloudflare",
      "com",
      "client",
      "zones",
      "566dd24dd0a0c2b210aecccf58eed373",
      "dns",
      "records",
      "name",
      "domain",
      "headers",
      "authorization",
      "bearer",
      "token",
      "use",
      "curl",
      "via",
      "bash",
      "for",
      "api",
      "calls",
      "since",
      "webfetch",
      "cannot",
      "set",
      "auth",
      "headers",
      "bash",
      "curl",
      "get",
      "https",
      "api",
      "cloudflare",
      "com",
      "client",
      "zones",
      "566dd24dd0a0c2b210aecccf58eed373",
      "dns",
      "records",
      "name",
      "domain",
      "authorization",
      "bearer",
      "token",
      "content",
      "type",
      "application",
      "json",
      "also",
      "check",
      "for",
      "mail",
      "domain",
      "and",
      "dmarc",
      "domain",
      "bash",
      "curl",
      "get",
      "https",
      "api",
      "cloudflare",
      "com",
      "client",
      "zones",
      "566dd24dd0a0c2b210aecccf58eed373",
      "dns",
      "records",
      "name",
      "mail",
      "domain",
      "authorization",
      "bearer",
      "token",
      "content",
      "type",
      "application",
      "json",
      "curl",
      "get",
      "https",
      "api",
      "cloudflare",
      "com",
      "client",
      "zones",
      "566dd24dd0a0c2b210aecccf58eed373",
      "dns",
      "records",
      "name",
      "dmarc",
      "domain",
      "authorization",
      "bearer",
      "token",
      "content",
      "type",
      "application",
      "json"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "8c-create-missing-records-15",
    "title": "8c — Create missing records",
    "content": "Only create records that do not already exist. All records must be **DNS only** (proxied: false).\n\n**MX record** — `<DOMAIN>` → `mail.hostkit.dev`, priority 10:\n\n```bash\ncurl -s -X POST \"https://api.cloudflare.com/client/v4/zones/566dd24dd0a0c2b210aecccf58eed373/dns_records\" \\\n  -H \"Authorization: Bearer <token>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"type\": \"MX\",\n    \"name\": \"<DOMAIN>\",\n    \"content\": \"mail.hostkit.dev\",\n    \"priority\": 10,\n    \"proxied\": false\n  }'\n```\n\n**A record** — `mail.<DOMAIN>` → `{{VPS_IP}}`:\n\n```bash\ncurl -s -X POST \"https://api.cloudflare.com/client/v4/zones/566dd24dd0a0c2b210aecccf58eed373/dns_records\" \\\n  -H \"Authorization: Bearer <token>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"type\": \"A\",\n    \"name\": \"mail.<DOMAIN>\",\n    \"content\": \"{{VPS_IP}}\",\n    \"proxied\": false\n  }'\n```\n\n**TXT record (DMARC)** — `_dmarc.<DOMAIN>`:\n\n```bash\ncurl -s -X POST \"https://api.cloudflare.com/client/v4/zones/566dd24dd0a0c2b210aecccf58eed373/dns_records\" \\\n  -H \"Authorization: Bearer <token>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"type\": \"TXT\",\n    \"name\": \"_dmarc.<DOMAIN>\",\n    \"content\": \"v=DMARC1; p=quarantine; rua=mailto:postmaster@<DOMAIN>\",\n    \"proxied\": false\n  }'\n```\n\n**Records you do NOT need to create** (already covered globally):\n- **SPF** — wildcard TXT for `*.hostkit.dev` already exists\n- **DKIM** — wildcard signing rule `*@*.hostkit.dev` in OpenDKIM already covers this",
    "section": "Step 8: Set Up DNS in Cloudflare",
    "chunkType": "command",
    "tokens": [
      "create",
      "missing",
      "records",
      "only",
      "create",
      "records",
      "that",
      "not",
      "already",
      "exist",
      "all",
      "records",
      "must",
      "dns",
      "only",
      "proxied",
      "false",
      "record",
      "domain",
      "mail",
      "hostkit",
      "dev",
      "priority",
      "bash",
      "curl",
      "post",
      "https",
      "api",
      "cloudflare",
      "com",
      "client",
      "zones",
      "566dd24dd0a0c2b210aecccf58eed373",
      "dns",
      "records",
      "authorization",
      "bearer",
      "token",
      "content",
      "type",
      "application",
      "json",
      "type",
      "name",
      "domain",
      "content",
      "mail",
      "hostkit",
      "dev",
      "priority",
      "proxied",
      "false",
      "record",
      "mail",
      "domain",
      "vps",
      "bash",
      "curl",
      "post",
      "https",
      "api",
      "cloudflare",
      "com",
      "client",
      "zones",
      "566dd24dd0a0c2b210aecccf58eed373",
      "dns",
      "records",
      "authorization",
      "bearer",
      "token",
      "content",
      "type",
      "application",
      "json",
      "type",
      "name",
      "mail",
      "domain",
      "content",
      "vps",
      "proxied",
      "false",
      "txt",
      "record",
      "dmarc",
      "dmarc",
      "domain",
      "bash",
      "curl",
      "post",
      "https",
      "api",
      "cloudflare",
      "com",
      "client",
      "zones",
      "566dd24dd0a0c2b210aecccf58eed373",
      "dns",
      "records",
      "authorization",
      "bearer",
      "token",
      "content",
      "type",
      "application",
      "json",
      "type",
      "txt",
      "name",
      "dmarc",
      "domain",
      "content",
      "dmarc1",
      "quarantine",
      "rua",
      "mailto",
      "postmaster",
      "domain",
      "proxied",
      "false",
      "records",
      "you",
      "not",
      "need",
      "create",
      "already",
      "covered",
      "globally",
      "spf",
      "wildcard",
      "txt",
      "for",
      "hostkit",
      "dev",
      "already",
      "exists",
      "dkim",
      "wildcard",
      "signing",
      "rule",
      "hostkit",
      "dev",
      "opendkim",
      "already",
      "covers",
      "this"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "step-9-verify-dns-16",
    "title": "Step 9: Verify DNS",
    "content": "Run the HostKit DNS check:\n\n```\nhostkit_execute: command=\"mail dns-check <DOMAIN>\"\n```\n\nReport any failures. Note that DNS propagation may take a few minutes — warn the user if records were just created.",
    "section": "Step 9: Verify DNS",
    "chunkType": "command",
    "tokens": [
      "step",
      "verify",
      "dns",
      "run",
      "the",
      "hostkit",
      "dns",
      "check",
      "hostkit",
      "execute",
      "command",
      "mail",
      "dns",
      "check",
      "domain",
      "report",
      "any",
      "failures",
      "note",
      "that",
      "dns",
      "propagation",
      "may",
      "take",
      "few",
      "minutes",
      "warn",
      "the",
      "user",
      "records",
      "were",
      "just",
      "created"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "step-10-output-credentials-17",
    "title": "Step 10: Output Credentials",
    "content": "Present the final result in this exact format:\n\n```\nMailbox: <local_part>@<DOMAIN>\nPassword: <password>\n\nIMAP: mail.hostkit.dev:993 (SSL/TLS)\nSMTP: mail.hostkit.dev:587 (STARTTLS)\nUsername: <local_part>@<DOMAIN>\n\nFolders: Inbox, Sent, Drafts, Trash, Junk, Archive\n```\n\nIf DNS records were just created, add:\n\n```\nNote: DNS records were just created. Allow a few minutes for propagation\nbefore testing email delivery from external senders.\n```",
    "section": "Step 10: Output Credentials",
    "chunkType": "example",
    "tokens": [
      "step",
      "output",
      "credentials",
      "present",
      "the",
      "final",
      "result",
      "this",
      "exact",
      "format",
      "mailbox",
      "local",
      "part",
      "domain",
      "password",
      "password",
      "imap",
      "mail",
      "hostkit",
      "dev",
      "993",
      "ssl",
      "tls",
      "smtp",
      "mail",
      "hostkit",
      "dev",
      "587",
      "starttls",
      "username",
      "local",
      "part",
      "domain",
      "folders",
      "inbox",
      "sent",
      "drafts",
      "trash",
      "junk",
      "archive",
      "dns",
      "records",
      "were",
      "just",
      "created",
      "add",
      "note",
      "dns",
      "records",
      "were",
      "just",
      "created",
      "allow",
      "few",
      "minutes",
      "for",
      "propagation",
      "before",
      "testing",
      "email",
      "delivery",
      "from",
      "external",
      "senders"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "error-recovery-18",
    "title": "Error Recovery",
    "content": "- **nginx broken after mail enable** → Restore by removing the project-specific config (Step 4) and reloading. If that fails, check `nginx -t` output.\n- **Mailbox creation fails** → Check if the domain is configured in Postfix virtual domains. Run `hostkit_execute: command=\"mail status <project>\"`.\n- **Cloudflare API 403** → Token may be expired. Re-read from `/etc/cloudflare/hostkit.ini` and retry.\n- **DNS check fails** → Records may need propagation time. Wait 2-3 minutes and re-check.\n- **Dovecot reload fails** → Syntax error in config. Check with `doveconf -n` and fix.",
    "section": "Error Recovery",
    "chunkType": "concept",
    "tokens": [
      "error",
      "recovery",
      "nginx",
      "broken",
      "after",
      "mail",
      "enable",
      "restore",
      "removing",
      "the",
      "project",
      "specific",
      "config",
      "step",
      "and",
      "reloading",
      "that",
      "fails",
      "check",
      "nginx",
      "output",
      "mailbox",
      "creation",
      "fails",
      "check",
      "the",
      "domain",
      "configured",
      "postfix",
      "virtual",
      "domains",
      "run",
      "hostkit",
      "execute",
      "command",
      "mail",
      "status",
      "project",
      "cloudflare",
      "api",
      "403",
      "token",
      "may",
      "expired",
      "read",
      "from",
      "etc",
      "cloudflare",
      "hostkit",
      "ini",
      "and",
      "retry",
      "dns",
      "check",
      "fails",
      "records",
      "may",
      "need",
      "propagation",
      "time",
      "wait",
      "minutes",
      "and",
      "check",
      "dovecot",
      "reload",
      "fails",
      "syntax",
      "error",
      "config",
      "check",
      "with",
      "doveconf",
      "and",
      "fix"
    ],
    "source": "mailbox.md"
  },
  {
    "id": "begin-19",
    "title": "Begin",
    "content": "Now execute starting from Step 1. Ask the user for the required inputs if they weren't provided with the command invocation.",
    "section": "Begin",
    "chunkType": "concept",
    "tokens": [
      "begin",
      "now",
      "execute",
      "starting",
      "from",
      "step",
      "ask",
      "the",
      "user",
      "for",
      "the",
      "required",
      "inputs",
      "they",
      "weren",
      "provided",
      "with",
      "the",
      "command",
      "invocation"
    ],
    "source": "mailbox.md"
  }
]